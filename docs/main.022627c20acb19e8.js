"use strict";(self.webpackChunkpractice=self.webpackChunkpractice||[]).push([[179],{2011:(pt,Se,U)=>{U.d(Se,{Dh:()=>ge,GT:()=>oe,cc:()=>be,hO:()=>je,on:()=>Z,pX:()=>se,xv:()=>me});var h=U(4650),j=U(1274),k=U(2088);pt=U.hmd(pt);const te=["ngOnDestroy"],se=(Ae,xe,Be,Ce={})=>new Proxy(Ae,{get:(De,Me)=>Be.runOutsideAngular(()=>{var $e;if(Ae[Me])return!(null===($e=Ce?.spy)||void 0===$e)&&$e.get&&Ce.spy.get(Me,Ae[Me]),Ae[Me];if(te.indexOf(Me)>-1)return()=>{};const Pe=xe.toPromise().then(ie=>{const Je=ie&&ie[Me];return"function"==typeof Je?Je.bind(ie):Je&&Je.then?Je.then(Et=>Be.run(()=>Et)):Be.run(()=>Je)});return new Proxy(()=>{},{get:(ie,Je)=>Pe[Je],apply:(ie,Je,Et)=>Pe.then(tt=>{var Gt;const st=tt&&tt(...Et);return!(null===(Gt=Ce?.spy)||void 0===Gt)&&Gt.apply&&Ce.spy.apply(Me,Et,st),st})})})}),oe=(Ae,xe)=>{xe.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Ce=>{Object.defineProperty(Ae.prototype,Ce,Object.getOwnPropertyDescriptor(Be.prototype||Be,Ce))})})};class ye{constructor(xe){return xe}}const ge=new h.OlP("angularfire2.app.options"),me=new h.OlP("angularfire2.app.name");function Z(Ae,xe,Be){const De="object"==typeof Be&&Be||{};De.name=De.name||"string"==typeof Be&&Be||"[DEFAULT]";const $e=j.Z.apps.filter(Pe=>Pe&&Pe.name===De.name)[0]||xe.runOutsideAngular(()=>j.Z.initializeApp(Ae,De));try{JSON.stringify(Ae)!==JSON.stringify($e.options)&&G("error",`${$e.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye($e)}const G=(Ae,...xe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...xe)},Q={provide:ye,useFactory:Z,deps:[ge,h.R0b,[new h.FiY,me]]};let je=(()=>{class Ae{constructor(Be){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",h.q4F.full,Be.toString())}static initializeApp(Be,Ce){return{ngModule:Ae,providers:[{provide:ge,useValue:Be},{provide:me,useValue:Ce}]}}}return Ae.\u0275fac=function(Be){return new(Be||Ae)(h.LFG(h.Lbi))},Ae.\u0275mod=h.oAB({type:Ae}),Ae.\u0275inj=h.cJS({providers:[Q]}),Ae})();function be(Ae,xe,Be,Ce,De){const[,Me,$e]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ae)||[];if(Me)return function ze(Ae,xe){try{return Ae.toString()===xe.toString()}catch{return Ae===xe}}(De,$e)||(pe("error",`${xe} was already initialized on the ${Be} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:De,was:$e})),Me;{const Pe=Ce();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Pe,De]),Pe}}const nt=!!pt.hot,pe=(Ae,...xe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ae](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(pt,Se,U)=>{U.d(Se,{q4:()=>Ei,iC:()=>Pi,HU:()=>It,vb:()=>zo,JM:()=>bu});var h=U(4650),j=U(8140),k=U(5861),se=(U(7212),U(5578));function Cl(){return eu.apply(this,arguments)}function eu(){return(eu=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}function Ih(){return uc.apply(this,arguments)}function uc(){return(uc=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Xl(){return wi.apply(this,arguments)}function wi(){return(wi=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}U(1617),U(9357);var Tc=U(4408),ui=U(7565);const zr=new class Sc extends ui.v{}(class Ra extends Tc.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,S,V):(D.flush(this),0)}});var Mh=U(4986),Hn=U(8505),co=U(9468),Ho=U(5363);const Ei=new h.GfV("7.6.1"),Gn="__angularfire_symbol__analyticsIsSupportedValue",Pa="__angularfire_symbol__analyticsIsSupported",Du="__angularfire_symbol__remoteConfigIsSupportedValue",Go="__angularfire_symbol__remoteConfigIsSupported",Ni="__angularfire_symbol__messagingIsSupportedValue",Rs="__angularfire_symbol__messagingIsSupported";function bu(w,D,S){if(D){if(1===D.length)return D[0];const J=D.filter(re=>re.app===S);if(1===J.length)return J[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[Pa]||(globalThis[Pa]=Xl().then(w=>globalThis[Gn]=w).catch(()=>globalThis[Gn]=!1)),globalThis[Rs]||(globalThis[Rs]=Ih().then(w=>globalThis[Ni]=w).catch(()=>globalThis[Ni]=!1)),globalThis[Go]||(globalThis[Go]=Cl().then(w=>globalThis[Du]=w).catch(()=>globalThis[Du]=!1));const zo=(w,D)=>{const S=D?[D]:(0,j.C6)(),V=[];return S.forEach(z=>{z.container.getProvider(w).instances.forEach(re=>{V.includes(re)||V.push(re)})}),V};function lo(){}class Ac{constructor(D,S=zr){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,V){const z=this.zone;return this.delegate.schedule(function(re){z.runGuarded(()=>{D.apply(this,[re])})},S,V)}}class Oa{constructor(D){this.zone=D,this.task=null}call(D,S){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),S.pipe((0,Hn.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let It=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ac(Zone.current)),this.insideAngular=S.run(()=>new Ac(Zone.current,Mh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function ti(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Pi(w){return ti(),function nd(w){return function(S){return(S=S.lift(new Oa(w.ngZone))).pipe((0,co.R)(w.outsideAngular),(0,Ho.Q)(w.insideAngular))}}(ti())(w)}},9500:(pt,Se,U)=>{U.d(Se,{$:()=>xt,A:()=>G,D:()=>be,I:()=>Nn,J:()=>pi,L:()=>ji,N:()=>Mr,P:()=>xi,Q:()=>Il,R:()=>_u,U:()=>Dl,V:()=>Cl,W:()=>eu,X:()=>es,Y:()=>tu,Z:()=>vh,_:()=>nu,a:()=>Xr,a0:()=>wh,a1:()=>Ju,a2:()=>Sp,a3:()=>Al,a4:()=>yi,a5:()=>Ml,a6:()=>Ds,a7:()=>Dr,a8:()=>Cs,a9:()=>$i,aA:()=>ie,aB:()=>Du,aC:()=>Un,aD:()=>$r,aE:()=>co,aF:()=>Ma,aG:()=>Aa,aH:()=>cn,aL:()=>Gi,aO:()=>Es,aa:()=>Rl,ab:()=>Nl,ac:()=>Ap,ad:()=>Pl,ae:()=>Ol,af:()=>tc,ai:()=>kl,aj:()=>Fl,ak:()=>Nr,an:()=>_h,ao:()=>sc,aq:()=>_a,ar:()=>Lo,as:()=>Et,at:()=>_t,au:()=>we,av:()=>Ce,aw:()=>Cr,ax:()=>fr,ay:()=>qt,az:()=>De,b:()=>fu,c:()=>_i,d:()=>$o,e:()=>Ic,f:()=>xa,g:()=>Sc,h:()=>Tc,i:()=>fc,j:()=>Mh,k:()=>pr,l:()=>ba,m:()=>Nh,p:()=>ge,r:()=>Yl,s:()=>Ms,u:()=>vi});var h=U(5861),j=U(5578),k=U(7212),te=U(7582),se=U(9357);U(1617);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const be=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ze=je,nt=new j.LL("auth","Firebase",je()),Ae=new se.Yd("@firebase/auth");function Be(v,...f){Ae.logLevel<=se.in.ERROR&&Ae.error(`Auth (${k.SDK_VERSION}): ${v}`,...f)}function Ce(v,...f){throw Pe(v,...f)}function De(v,...f){return Pe(v,...f)}function Me(v,f,g){const E=Object.assign(Object.assign({},ze()),{[f]:g});return new j.LL("auth","Firebase",E).create(f,{appName:v.name})}function $e(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ce(v,"argument-error"),Me(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(v,...f){if("string"!=typeof v){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return nt.create(v,...f)}function ie(v,f,...g){if(!v)throw Pe(f,...g)}function Je(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Be(f),new Error(f)}function Et(v,f){v||Je(f)}function tt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Gt(){return"http:"===st()||"https:"===st()}function st(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class oi{constructor(f,g){this.shortDelay=f,this.longDelay=g,Et(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ji(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ui(v,f){Et(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ae{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},de=new oi(3e4,6e4);function X(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ie(v,f,g,E){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(v,f,g,E,M={}){return Xe(v,M,(0,h.Z)(function*(){let N={},Y={};E&&("GET"===f?Y=E:N={body:JSON.stringify(E)});const ce=(0,j.xO)(Object.assign({key:v.config.apiKey},Y)).slice(1),Ue=yield v._getAdditionalHeaders();return Ue["Content-Type"]="application/json",v.languageCode&&(Ue["X-Firebase-Locale"]=v.languageCode),ae.fetch()(Jt(v,v.config.apiHost,g,ce),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Xe(v,f,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(v,f,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},le),f);try{const M=new In(v),N=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const Y=yield N.json();if("needConfirmation"in Y)throw or(v,"account-exists-with-different-credential",Y);if(N.ok&&!("errorMessage"in Y))return Y;{const ce=N.ok?Y.errorMessage:Y.error.message,[Ue,qe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw or(v,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Ue)throw or(v,"email-already-in-use",Y);if("USER_DISABLED"===Ue)throw or(v,"user-disabled",Y);const ft=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Me(v,ft,qe);Ce(v,ft)}}catch(M){if(M instanceof j.ZR)throw M;Ce(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function en(v,f,g,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(v,f,g,E,M={}){const N=yield Ie(v,f,g,E,M);return"mfaPendingCredential"in N&&Ce(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Jt(v,f,g,E){const M=`${f}${g}?${E}`;return v.config.emulator?Ui(v.config,M):`${v.config.apiScheme}://${M}`}class In{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(De(this.auth,"network-request-failed")),de.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(v,f,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const M=De(v,f,E);return M.customData._tokenResponse=g,M}function gn(){return(gn=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kn(){return(kn=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function lt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Fn(){return(Fn=(0,h.Z)(function*(v,f=!1){const g=(0,j.m9)(v),E=yield g.getIdToken(f),M=Br(E);ie(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,Y=N?.sign_in_provider;return{claims:M,token:E,authTime:lt(Ar(M.auth_time)),issuedAtTime:lt(Ar(M.iat)),expirationTime:lt(Ar(M.exp)),signInProvider:Y||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(v){return 1e3*Number(v)}function Br(v){const[f,g,E]=v.split(".");if(void 0===f||void 0===g||void 0===E)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(g);return M?JSON.parse(M):(Be("Failed to decode base64 JWT payload"),null)}catch(M){return Be("Caught error parsing JWT payload as JSON",M?.toString()),null}}function zt(v,f){return ut.apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof j.ZR&&function Ot({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Ln{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class _r{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=lt(this.lastLoginAt),this.creationTime=lt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(v){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,h.Z)(function*(v){var f;const g=v.auth,E=yield v.getIdToken(),M=yield zt(v,function Ur(v,f){return kn.apply(this,arguments)}(g,{idToken:E}));ie(M?.users.length,g,"internal-error");const N=M.users[0];v._notifyReloadListener(N);const Y=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function fi(v){return v.map(f=>{var{providerId:g}=f,E=(0,te._T)(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],ce=function Kt(v,f){return[...v.filter(E=>!f.some(M=>M.providerId===E.providerId)),...f]}(v.providerData,Y),ft=!!v.isAnonymous&&!(v.email&&N.passwordHash||ce?.length),$t={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ce,metadata:new _r(N.createdAt,N.lastLoginAt),isAnonymous:ft};Object.assign(v,$t)}),Kr.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(v){const f=(0,j.m9)(v);yield xn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(v,f){const g=yield Xe(v,{},(0,h.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:N}=v.config,Y=Jt(v,M,"/v1/token",`key=${N}`),ce=yield v._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Y,{method:"POST",headers:ce,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function on(v){const f=Br(v);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,h.Z)(function*(){return ie(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:Y}=yield function Qt(v,f){return Yr.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(M,N,Number(Y))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:M,expirationTime:N}=g,Y=new Lt;return E&&(ie("string"==typeof E,"internal-error",{appName:f}),Y.refreshToken=E),M&&(ie("string"==typeof M,"internal-error",{appName:f}),Y.accessToken=M),N&&(ie("number"==typeof N,"internal-error",{appName:f}),Y.expirationTime=N),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Vn(v,f){ie("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class bn{constructor(f){var{uid:g,auth:E,stsTokenManager:M}=f,N=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new _r(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const E=yield zt(g,g.stsTokenManager.getToken(g.auth,f));return ie(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function Bi(v){return Fn.apply(this,arguments)}(this,f)}reload(){return function Rn(v){return ar.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new bn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,h.Z)(function*(){let M=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),M=!0),g&&(yield xn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield zt(f,function sn(v,f){return gn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,M,N,Y,ce,Ue,qe,ft;const $t=null!==(E=g.displayName)&&void 0!==E?E:void 0,ni=null!==(M=g.email)&&void 0!==M?M:void 0,ho=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Wo=null!==(Y=g.photoURL)&&void 0!==Y?Y:void 0,Mc=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,ss=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,Lh=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,od=null!==(ft=g.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:xc,emailVerified:Zo,isAnonymous:ad,providerData:ud,stsTokenManager:Mu}=g;ie(xc&&Mu,f,"internal-error");const cd=Lt.fromJSON(this.name,Mu);ie("string"==typeof xc,f,"internal-error"),Vn($t,f.name),Vn(ni,f.name),ie("boolean"==typeof Zo,f,"internal-error"),ie("boolean"==typeof ad,f,"internal-error"),Vn(ho,f.name),Vn(Wo,f.name),Vn(Mc,f.name),Vn(ss,f.name),Vn(Lh,f.name),Vn(od,f.name);const xu=new bn({uid:xc,auth:f,email:ni,emailVerified:Zo,displayName:$t,isAnonymous:ad,photoURL:Wo,phoneNumber:ho,tenantId:Mc,stsTokenManager:cd,createdAt:Lh,lastLoginAt:od});return ud&&Array.isArray(ud)&&(xu.providerData=ud.map(Ko=>Object.assign({},Ko))),ss&&(xu._redirectEventId=ss),xu}static _fromIdTokenResponse(f,g,E=!1){return(0,h.Z)(function*(){const M=new Lt;M.updateFromServerResponse(g);const N=new bn({uid:g.localId,auth:f,stsTokenManager:M,isAnonymous:E});return yield xn(N),N})()}}const wr=new Map;function Un(v){Et(v instanceof Function,"Expected a class definition");let f=wr.get(v);return f?(Et(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,wr.set(v,f),f)}const Mr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var M=this;return(0,h.Z)(function*(){M.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const M=E.storage[g];return void 0===M?null:M})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function $r(v,f,g){return`firebase:${v}:${f}:${g}`}function F(v=(0,j.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function we(v=(0,j.z$)()){return/android/i.test(v)}function _t(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function qt(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vt(v=(0,j.z$)()){return _t(v)||we(v)||function Ct(v=(0,j.z$)()){return/webos/i.test(v)}(v)||function et(v=(0,j.z$)()){return/blackberry/i.test(v)}(v)||/windows phone/i.test(v)||function W(v=(0,j.z$)()){return/iemobile/i.test(v)}(v)}function ne(){return(ne=(0,h.Z)(function*(v){return(yield Ie(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oe(v,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(v,f){return Ie(v,"GET","/v2/recaptchaConfig",X(v,f))})).apply(this,arguments)}function Tt(v){return void 0!==v&&void 0!==v.getResponse}function Yt(v){return void 0!==v&&void 0!==v.enterprise}class ht{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function tn(v){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=M=>{const N=De("internal-error");N.customData=M,g(N)},E.type="text/javascript",E.charset="UTF-8",function un(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function xr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const hh="NO_RECAPTCHA";class zs{constructor(f){this.type="recaptcha-enterprise",this.auth=cn(f)}verify(f="verify",g=!1){var E=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(ce){if(!g){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var Ue=(0,h.Z)(function*(qe,ft){Oe(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($t=>{if(void 0!==$t.recaptchaKey){const ni=new ht($t);return null==ce.tenantId?ce._agentRecaptchaConfig=ni:ce._tenantRecaptchaConfigs[ce.tenantId]=ni,qe(ni.siteKey)}ft(new Error("recaptcha Enterprise site key undefined"))}).catch($t=>{ft($t)})});return function(qe,ft){return Ue.apply(this,arguments)}}())}),N.apply(this,arguments)}function Y(ce,Ue,qe){const ft=window.grecaptcha;Yt(ft)?ft.enterprise.ready(()=>{ft.enterprise.execute(ce,{action:f}).then($t=>{Ue($t)}).catch(()=>{Ue(hh)})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,Ue)=>{(function M(ce){return N.apply(this,arguments)})(E.auth).then(qe=>{if(!g&&Yt(window.grecaptcha))Y(qe,ce,Ue);else{if(typeof window>"u")return void Ue(new Error("RecaptchaVerifier is only supported in browser"));tn("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{Y(qe,ce,Ue)}).catch(ft=>{Ue(ft)})}}).catch(qe=>{Ue(qe)})})})()}}function lr(v,f,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(v,f,g,E=!1){const M=new zs(v);let N;try{N=yield M.verify(g)}catch{N=yield M.verify(g,!0)}const Y=Object.assign({},f);return Object.assign(Y,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}function cn(v){return(0,j.m9)(v)}function Nn(v,f,g){const E=cn(v);ie(E._canInitEmulator,E,"emulator-config-failed"),ie(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const M=!!g?.disableWarnings,N=aa(f),{host:Y,port:ce}=function Io(v){const f=aa(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const N=M[1];return{host:N,port:Bt(E.substr(N.length+1))}}{const[N,Y]=E.split(":");return{host:N,port:Bt(Y)}}}(f);E.config.emulator={url:`${N}//${Y}${null===ce?"":`:${ce}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Y,port:ce,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ja(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function aa(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Bt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class pi{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Je("not implemented")}_getIdTokenResponse(f){return Je("not implemented")}_linkToIdToken(f,g){return Je("not implemented")}_getReauthenticationResolver(f){return Je("not implemented")}}function ua(v,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:resetPassword",X(v,f))})).apply(this,arguments)}function Kn(v,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",X(v,f))})).apply(this,arguments)}function Do(v,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithPassword",X(v,f))})).apply(this,arguments)}function yn(v,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:sendOobCode",X(v,f))})).apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(v,f){return yn(v,f)})).apply(this,arguments)}function Co(v,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(v,f){return yn(v,f)})).apply(this,arguments)}function Zs(v,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(v,f){return yn(v,f)})).apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(v,f){return yn(v,f)})).apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithEmailLink",X(v,f))})).apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithEmailLink",X(v,f))})).apply(this,arguments)}class Qr extends pi{constructor(f,g,E,M=null){super("password",E),this._email=f,this._password=g,this._tenantId=M}static _fromEmailAndPassword(f,g){return new Qr(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new Qr(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){var E;switch(g.signInMethod){case"password":const M={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield lr(f,M,"signInWithPassword");return Do(f,N)}return Do(f,M).catch(function(){var N=(0,h.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ce=yield lr(f,M,"signInWithPassword");return Do(f,ce)}return Promise.reject(Y)});return function(Y){return N.apply(this,arguments)}}());case"emailLink":return function Mi(v,f){return Ks.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ce(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Kn(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Xa(v,f){return la.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:Ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _s(v,f){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithIdp",X(v,f))})).apply(this,arguments)}class ji extends pi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ji(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M}=g,N=(0,te._T)(g,["providerId","signInMethod"]);if(!E||!M)return null;const Y=new ji(E,M);return Y.idToken=N.idToken||void 0,Y.accessToken=N.accessToken||void 0,Y.secret=N.secret,Y.nonce=N.nonce,Y.pendingToken=N.pendingToken||null,Y}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,_s(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_s(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,j.xO)(g)}return f}}function yl(){return(yl=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:sendVerificationCode",X(v,f))})).apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",X(v,f))})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(v,f){const g=yield en(v,"POST","/v1/accounts:signInWithPhoneNumber",X(v,f));if(g.temporaryProof)throw or(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const wl={USER_NOT_FOUND:"user-not-found"};function ph(){return(ph=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",X(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),wl)})).apply(this,arguments)}class ws extends pi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ws({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ws({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function fh(v,f){return vl.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Tp(v,f){return _l.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function El(v,f){return ph.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:M}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:M,temporaryProof:N}=f;return E||g||M||N?new ws({verificationId:g,verificationCode:E,phoneNumber:M,temporaryProof:N}):null}}class To{constructor(f){var g,E,M,N,Y,ce;const Ue=(0,j.zd)((0,j.pd)(f)),qe=null!==(g=Ue.apiKey)&&void 0!==g?g:null,ft=null!==(E=Ue.oobCode)&&void 0!==E?E:null,$t=function bo(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ue.mode)&&void 0!==M?M:null);ie(qe&&ft&&$t,"argument-error"),this.apiKey=qe,this.operation=$t,this.code=ft,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Y=Ue.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ce=Ue.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const g=function gh(v){const f=(0,j.zd)((0,j.pd)(v)).link,g=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||g||f||v}(f);try{return new To(g)}catch{return null}}}let Il=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return Qr._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const M=To.parseLink(E);return ie(M,"argument-error"),Qr._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ys{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class So extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class es extends So{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),ji._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return es.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return es.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:N,nonce:Y,providerId:ce}=f;if(!E&&!M&&!g&&!N||!ce)return null;try{return new es(ce)._credential({idToken:g,accessToken:E,nonce:Y,pendingToken:N})}catch{return null}}}let Dl=(()=>{class v extends So{constructor(){super("facebook.com")}static credential(g){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Cl=(()=>{class v extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:M}=g;if(!E&&!M)return null;try{return v.credential(E,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),eu=(()=>{class v extends So{constructor(){super("github.com")}static credential(g){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Es extends pi{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,_s(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_s(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M,pendingToken:N}=g;return E&&M&&N&&E===M?new Es(E,N):null}static _create(f,g){return new Es(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tu extends Ys{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return tu.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return tu.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Es.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return Es._create(E,g)}catch{return null}}}let vh=(()=>{class v extends So{constructor(){super("twitter.com")}static credential(g,E){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=g;if(!E||!M)return null;try{return v.credential(E,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ao(v,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signUp",X(v,f))})).apply(this,arguments)}class Tn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,M=!1){return(0,h.Z)(function*(){const N=yield bn._fromIdTokenResponse(f,E,M),Y=ha(E);return new Tn({user:N,providerId:Y,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const M=ha(E);return new Tn({user:f,providerId:M,_tokenResponse:E,operationType:g})})()}}function ha(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function nu(v){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(v){var f;const g=cn(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Tn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Ao(g,{returnSecureToken:!0}),M=yield Tn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Js extends j.ZR{constructor(f,g,E,M){var N;super(g.code,g.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Js.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,M){return new Js(f,g,E,M)}}function Xs(v,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Js._fromErrorAndOperation(v,N,f,E):N})}function Ir(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function _h(v,f){return ru.apply(this,arguments)}function ru(){return ru=(0,h.Z)(function*(v,f){const g=(0,j.m9)(v);yield fa(!0,g,f);const{providerUserInfo:E}=yield function _n(v,f){return On.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),M=Ir(E||[]);return g.providerData=g.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ru.apply(this,arguments)}function Gr(v,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(v,f,g=!1){const E=yield zt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Tn._forOperation(v,"link",E)})).apply(this,arguments)}function fa(v,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(v,f,g){yield xn(f);const M=!1===v?"provider-already-linked":"no-such-provider";ie(Ir(f.providerData).has(g)===v,f.auth,M)})).apply(this,arguments)}function bl(v,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(v,f,g=!1){const{auth:E}=v,M="reauthenticate";try{const N=yield zt(v,Xs(E,M,f,v),g);ie(N.idToken,E,"internal-error");const Y=Br(N.idToken);ie(Y,E,"internal-error");const{sub:ce}=Y;return ie(v.uid===ce,E,"user-mismatch"),Tn._forOperation(v,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ce(E,"user-mismatch"),N}})).apply(this,arguments)}function pa(v,f){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(v,f,g=!1){const E="signIn",M=yield Xs(v,E,f),N=yield Tn._fromIdTokenResponse(v,E,M);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function xt(v,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,h.Z)(function*(v,f){return pa(cn(v),f)})).apply(this,arguments)}function wh(v,f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(v,f){const g=(0,j.m9)(v);return yield fa(!1,g,f.providerId),Gr(g,f)})).apply(this,arguments)}function Ju(v,f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,h.Z)(function*(v,f){return bl((0,j.m9)(v),f)})).apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(v,f){return en(v,"POST","/v1/accounts:signInWithCustomToken",X(v,f))})).apply(this,arguments)}function Sp(v,f){return he.apply(this,arguments)}function he(){return he=(0,h.Z)(function*(v,f){const g=cn(v),E=yield function Tl(v,f){return Sl.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),M=yield Tn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(M.user),M}),he.apply(this,arguments)}class kt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ec._fromServerResponse(f,g):"totpInfo"in g?ga._fromServerResponse(f,g):Ce(f,"internal-error")}}class ec extends kt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ec(g)}}class ga extends kt{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new ga(g)}}function Bn(v,f,g){var E;ie((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Al(v,f,g){return xo.apply(this,arguments)}function xo(){return xo=(0,h.Z)(function*(v,f,g){var E;const M=cn(v),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Y=yield lr(M,N,"getOobCode",!0);g&&Bn(M,Y,g),yield Co(M,Y)}else g&&Bn(M,N,g),yield Co(M,N).catch(function(){var Y=(0,h.Z)(function*(ce){if("auth/missing-recaptcha-token"!==ce.code)return Promise.reject(ce);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ue=yield lr(M,N,"getOobCode",!0);g&&Bn(M,Ue,g),yield Co(M,Ue)}});return function(ce){return Y.apply(this,arguments)}}())}),xo.apply(this,arguments)}function yi(v,f,g){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(v,f,g){yield ua((0,j.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ml(v,f){return xl.apply(this,arguments)}function xl(){return xl=(0,h.Z)(function*(v,f){yield function Ws(v,f){return gi.apply(this,arguments)}((0,j.m9)(v),{oobCode:f})}),xl.apply(this,arguments)}function Ds(v,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(v,f){const g=(0,j.m9)(v),E=yield ua(g,{oobCode:f}),M=E.requestType;switch(ie(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(E.mfaInfo,g,"internal-error");default:ie(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=kt._fromServerResponse(cn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Dr(v,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(v,f){const{data:g}=yield Ds((0,j.m9)(v),f);return g.email})).apply(this,arguments)}function Cs(v,f,g){return ns.apply(this,arguments)}function ns(){return ns=(0,h.Z)(function*(v,f,g){var E;const M=cn(v),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const qe=yield lr(M,N,"signUpPassword");Y=Ao(M,qe)}else Y=Ao(M,N).catch(function(){var qe=(0,h.Z)(function*(ft){if("auth/missing-recaptcha-token"===ft.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $t=yield lr(M,N,"signUpPassword");return Ao(M,$t)}return Promise.reject(ft)});return function(ft){return qe.apply(this,arguments)}}());const ce=yield Y.catch(qe=>Promise.reject(qe)),Ue=yield Tn._fromIdTokenResponse(M,"signIn",ce);return yield M._updateCurrentUser(Ue.user),Ue}),ns.apply(this,arguments)}function $i(v,f,g){return xt((0,j.m9)(v),Il.credential(f,g))}function Rl(v,f,g){return eo.apply(this,arguments)}function eo(){return eo=(0,h.Z)(function*(v,f,g){var E;const M=cn(v),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function Y(ce,Ue){ie(Ue.handleCodeInApp,M,"argument-error"),Ue&&Bn(M,ce,Ue)}if(null!==(E=M._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ce=yield lr(M,N,"getOobCode",!0);Y(ce,g),yield Zs(M,ce)}else Y(N,g),yield Zs(M,N).catch(function(){var ce=(0,h.Z)(function*(Ue){if("auth/missing-recaptcha-token"!==Ue.code)return Promise.reject(Ue);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield lr(M,N,"getOobCode",!0);Y(qe,g),yield Zs(M,qe)}});return function(Ue){return ce.apply(this,arguments)}}())}),eo.apply(this,arguments)}function Nl(v,f){return"EMAIL_SIGNIN"===To.parseLink(f)?.operation}function Ap(v,f,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v),M=Il.credentialWithLink(f,g||tt());return ie(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),xt(E,M)})).apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:createAuthUri",X(v,f))})).apply(this,arguments)}function Pl(v,f){return au.apply(this,arguments)}function au(){return au=(0,h.Z)(function*(v,f){const E={identifier:f,continueUri:Gt()?tt():"http://localhost"},{signinMethods:M}=yield function ou(v,f){return ma.apply(this,arguments)}((0,j.m9)(v),E);return M||[]}),au.apply(this,arguments)}function Ol(v,f){return No.apply(this,arguments)}function No(){return No=(0,h.Z)(function*(v,f){const g=(0,j.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Bn(g.auth,M,f);const{email:N}=yield function Ku(v,f){return ca.apply(this,arguments)}(g.auth,M);N!==v.email&&(yield v.reload())}),No.apply(this,arguments)}function tc(v,f,g){return ya.apply(this,arguments)}function ya(){return ya=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&Bn(E.auth,N,g);const{email:Y}=yield function ml(v,f){return Hr.apply(this,arguments)}(E.auth,N);Y!==v.email&&(yield v.reload())}),ya.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(v,f){return Ie(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function kl(v,f){return rc.apply(this,arguments)}function rc(){return rc=(0,h.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,j.m9)(v),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Y=yield zt(E,function nc(v,f){return uu.apply(this,arguments)}(E.auth,N));E.displayName=Y.displayName||null,E.photoURL=Y.photoUrl||null;const ce=E.providerData.find(({providerId:Ue})=>"password"===Ue);ce&&(ce.displayName=E.displayName,ce.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Y)}),rc.apply(this,arguments)}function Fl(v,f){return Hi((0,j.m9)(v),f,null)}function Nr(v,f){return Hi((0,j.m9)(v),null,f)}function Hi(v,f,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(v,f,g){const{auth:E}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const Y=yield zt(v,Kn(E,N));yield v._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Po{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class ic extends Po{constructor(f,g,E,M){super(f,g,E),this.username=M}}class Mp extends Po{constructor(f,g){super(f,"facebook.com",g)}}class Vl extends ic{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class xp extends Po{constructor(f,g){super(f,"google.com",g)}}class cu extends ic{constructor(f,g,E){super(f,"twitter.com",g,E)}}function sc(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ll(v){var f,g;if(!v)return null;const{providerId:E}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const Y=null===(g=null===(f=Br(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Y)return new Po(N,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!E)return null;switch(E){case"facebook.com":return new Mp(N,M);case"github.com":return new Vl(N,M);case"google.com":return new xp(N,M);case"twitter.com":return new cu(N,M,v.screenName||null);case"custom":case"anonymous":return new Po(N,null);default:return new Po(N,E,M)}}(g)}class is{constructor(f,g,E){this.type=f,this.credential=g,this.auth=E}static _fromIdtoken(f,g){return new is("enroll",f,g)}static _fromMfaPendingCredential(f){return new is("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return is._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return is._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oc{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=cn(f),M=g.customData._serverResponse,N=(M.mfaInfo||[]).map(ce=>kt._fromServerResponse(E,ce));ie(M.mfaPendingCredential,E,"internal-error");const Y=is._fromMfaPendingCredential(M.mfaPendingCredential);return new oc(Y,N,function(){var ce=(0,h.Z)(function*(Ue){const qe=yield Ue._process(E,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const ft=Object.assign(Object.assign({},M),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const $t=yield Tn._fromIdTokenResponse(E,g.operationType,ft);return yield E._updateCurrentUser($t.user),$t;case"reauthenticate":return ie(g.user,E,"internal-error"),Tn._forOperation(g.user,g.operationType,ft);default:Ce(E,"internal-error")}});return function(Ue){return ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function _a(v,f){var g;const E=(0,j.m9)(v),M=f;return ie(f.customData.operationType,E,"argument-error"),ie(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),oc._fromError(E,M)}class Fo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>kt._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Fo(f)}getSession(){var f=this;return(0,h.Z)(function*(){return is._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var E=this;return(0,h.Z)(function*(){const M=f,N=yield E.getSession(),Y=yield zt(E.user,M._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(Y),E.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,M=yield g.user.getIdToken();try{const N=yield zt(g.user,function to(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:withdraw",X(v,f))}(g.user.auth,{idToken:M,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Y})=>Y!==E),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const no=new WeakMap;function Lo(v){const f=(0,j.m9)(v);return no.has(f)||no.set(f,Fo._fromUser(f)),no.get(f)}const wa="__sak";class Ea{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fu=(()=>{class v extends Ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ac(){const v=(0,j.z$)();return F(v)||_t(v)}()&&function ur(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),N=this.localCache[E];M!==N&&g(E,N,M)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ue,qe)=>{this.notifyListeners(ce,qe)});const M=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(M);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!E)return}const N=()=>{const ce=this.storage.getItem(M);!E&&this.localCache[M]===ce||this.notifyListeners(M,ce)},Y=this.storage.getItem(M);!function wn(){return(0,j.w1)()&&10===document.documentMode}()||Y===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,E){this.localCache[g]=E;const M=this.listeners[g];if(M)for(const N of Array.from(M))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var M=()=>super._set,N=this;return(0,h.Z)(function*(){yield M().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,M=this;return(0,h.Z)(function*(){const N=yield E().call(M,g);return M.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,M=this;return(0,h.Z)(function*(){yield E().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),Xr=(()=>{class v extends Ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let lc=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const M=g,{eventId:N,eventType:Y,data:ce}=M.data,Ue=E.handlersMap[Y];if(!Ue?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:Y});const qe=Array.from(Ue).map(function(){var $t=(0,h.Z)(function*(ni){return ni(M.origin,ce)});return function(ni){return $t.apply(this,arguments)}}()),ft=yield function Hl(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(qe);M.ports[0].postMessage({status:"done",eventId:N,eventType:Y,response:ft})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Gi(v="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return v+g}class Gl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var M=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Y,ce;return new Promise((Ue,qe)=>{const ft=Gi("",20);N.port1.start();const $t=setTimeout(()=>{qe(new Error("unsupported_event"))},E);ce={messageChannel:N,onMessage(ni){const ho=ni;if(ho.data.eventId===ft)switch(ho.data.status){case"ack":clearTimeout($t),Y=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Ue(ho.data.response);break;default:clearTimeout($t),clearTimeout(Y),qe(new Error("invalid_response"))}}},M.handlers.add(ce),N.port1.addEventListener("message",ce.onMessage),M.target.postMessage({eventType:f,eventId:ft,data:g},[N.port2])}).finally(()=>{ce&&M.removeMessageHandler(ce)})})()}}function $n(){return window}function pu(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function Da(){return(Da=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qn="firebaseLocalStorageDb",Vo=1,Sn="firebaseLocalStorage",Dh="fbase_key";class Ss{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function mu(v,f){return v.transaction([Sn],f?"readwrite":"readonly").objectStore(Sn)}function dc(){const v=indexedDB.open(Qn,Vo);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Sn,{keyPath:Dh})}catch(M){g(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Sn)?f(E):(E.close(),yield function Uo(){const v=indexedDB.deleteDatabase(Qn);return new Ss(v).toPromise()}(),f(yield dc()))}))})}function hc(v,f,g){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(v,f,g){const E=mu(v,!0).put({[Dh]:f,value:g});return new Ss(E).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(v,f){const g=mu(v,!1).get(f),E=yield new Ss(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ca(v,f){const g=mu(v,!0).delete(f);return new Ss(g).toPromise()}const fc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield dc()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(M++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return pu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=lc._getInstance(function gu(){return pu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(M,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(M,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,M;if(g.activeServiceWorker=yield function zl(){return Da.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Gl(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(M=N[0])&&void 0!==M&&M.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function ql(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield dc();return yield hc(g,wa,"1"),yield Ca(g,wa),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(N=>hc(N,g,E)),M.localCache[g]=E,M.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const M=yield E._withRetries(N=>function Ch(v,f){return ro.apply(this,arguments)}(N,g));return E.localCache[g]=M,M})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(M=>Ca(M,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(Y=>{const ce=mu(Y,!1).getAll();return new Ss(ce).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:Y,value:ce}of E)N.add(Y),JSON.stringify(g.localCache[Y])!==JSON.stringify(ce)&&(g.notifyListeners(Y,ce),M.push(Y));for(const Y of Object.keys(g.localCache))g.localCache[Y]&&!N.has(Y)&&(g.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(g,E){this.localCache[g]=E;const M=this.listeners[g];if(M)for(const N of Array.from(M))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),pc=1e12;class Kl{constructor(f){this.auth=f,this.counter=pc,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new gc(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||pc;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||pc))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(f||pc))||void 0===E||E.execute(),""})()}}class gc{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;ie(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mc(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Th=xr("rcb"),Vm=new oi(3e4,6e4);class oo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=$n().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ie(function Bm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Tt($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((E,M)=>{const N=$n().setTimeout(()=>{M(De(f,"network-request-failed"))},Vm.get());$n()[Th]=()=>{$n().clearTimeout(N),delete $n()[Th];const ce=$n().grecaptcha;if(!ce||!Tt(ce))return void M(De(f,"internal-error"));const Ue=ce.render;ce.render=(qe,ft)=>{const $t=Ue(qe,ft);return this.counter++,$t},this.hostLanguage=g,E(ce)},tn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Th,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),M(De(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=$n().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sh{load(f){return(0,h.Z)(function*(){return new Kl(f)})()}clearedOneInstance(){}}const Jn="recaptcha",vu={theme:"light",type:"image"};class _u{constructor(f,g=Object.assign({},vu),E){this.parameters=g,this.type=Jn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(E),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;ie(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sh:new oo,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const Y=ce=>{ce&&(f.tokenChangeListeners.delete(Y),N(ce))};f.tokenChangeListeners.add(Y),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=$n()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){ie(Gt()&&!pu(),f.auth,"internal-error"),yield function yc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function fe(v){return ne.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ai{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ws._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ms(v,f,g){return vc.apply(this,arguments)}function vc(){return(vc=(0,h.Z)(function*(v,f,g){const E=cn(v),M=yield wu(E,f,(0,j.m9)(g));return new ai(M,N=>xt(E,N))})).apply(this,arguments)}function ba(v,f,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v);yield fa(!1,E,"phone");const M=yield wu(E.auth,f,(0,j.m9)(g));return new ai(M,N=>wh(E,N))})).apply(this,arguments)}function Yl(v,f,g){return _c.apply(this,arguments)}function _c(){return(_c=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v),M=yield wu(E.auth,f,(0,j.m9)(g));return new ai(M,N=>Ju(E,N))})).apply(this,arguments)}function wu(v,f,g){return wc.apply(this,arguments)}function wc(){return wc=(0,h.Z)(function*(v,f,g){var E;const M=yield g.verify();try{let N;if(ie("string"==typeof M,v,"argument-error"),ie(g.type===Jn,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const Y=N.session;if("phoneNumber"in N)return ie("enroll"===Y.type,v,"internal-error"),(yield function hu(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:start",X(v,f))}(v,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ie("signin"===Y.type,v,"internal-error");const ce=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return ie(ce,v,"missing-multi-factor-info"),(yield function Wl(v,f){return Ie(v,"POST","/v2/accounts/mfaSignIn:start",X(v,f))}(v,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function bp(v,f){return yl.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:M});return Y}}finally{g._reset()}}),wc.apply(this,arguments)}function vi(v,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v,f){yield Gr((0,j.m9)(v),f)})).apply(this,arguments)}let xi=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=cn(g)}verifyPhoneNumber(g,E){return wu(this.auth,g,(0,j.m9)(E))}static credential(g,E){return ws._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:M}=g;return E&&M?ws._fromTokenResponse(E,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function at(v,f){return f?Un(f):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ri extends pi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _s(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _s(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _s(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function qn(v){return pa(v.auth,new Ri(v),v.bypassAuthState)}function Ql(v){const{auth:f,user:g}=v;return ie(g,f,"internal-error"),bl(g,new Ri(v),v.bypassAuthState)}function Ta(v){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(v){const{auth:f,user:g}=v;return ie(g,f,"internal-error"),Gr(g,new Ri(v),v.bypassAuthState)})).apply(this,arguments)}class Ec{constructor(f,g,E,M,N=!1){this.auth=f,this.resolver=E,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(E,M){f.pendingPromise={resolve:E,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,M){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:N,tenantId:Y,error:ce,type:Ue}=f;if(ce)return void g.reject(ce);const qe={auth:g.auth,requestUri:E,sessionId:M,tenantId:Y||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(qe))}catch(ft){g.reject(ft)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return qn;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return Ql;default:Ce(this.auth,"internal-error")}}resolve(f){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jl=new oi(2e3,1e4);function _i(v,f,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(v,f,g){const E=cn(v);$e(v,f,Ys);const M=at(E,g);return new Dc(E,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Ic(v,f,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v);$e(E.auth,f,Ys);const M=at(E.auth,g);return new Dc(E.auth,"reauthViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}function $o(v,f,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v);$e(E.auth,f,Ys);const M=at(E.auth,g);return new Dc(E.auth,"linkViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}let Dc=(()=>{class v extends Ec{constructor(g,E,M,N,Y){super(g,E,N,Y),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return ie(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){Et(1===g.filter.length,"Popup operations only handle one event");const E=Gi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(De(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Jl.get())};g()}}return v.currentPopupAction=null,v})();const Xl="pendingRedirect",wi=new Map;class Eu extends Ec{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=wi.get(g.auth._key());if(!E){try{const N=(yield function Pr(v,f){return Sa.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(N)}catch(M){E=()=>Promise.reject(M)}wi.set(g.auth._key(),E)}return g.bypassAuthState||wi.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const M=yield E.auth._redirectUserForId(f.eventId);if(M)return E.user=M,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,h.Z)(function*(v,f){const g=Iu(f),E=Ah(v);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(g));return yield E._remove(g),M})).apply(this,arguments)}function Cc(v,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,f){return Ah(v)._set(Iu(f),"true")})).apply(this,arguments)}function Aa(){wi.clear()}function Ma(v,f){wi.set(v._key(),f)}function Ah(v){return Un(v._redirectPersistence)}function Iu(v){return $r(Xl,v.config.apiKey,v.name)}function xa(v,f,g){return function ed(v,f,g){return bc.apply(this,arguments)}(v,f,g)}function bc(){return(bc=(0,h.Z)(function*(v,f,g){const E=cn(v);$e(v,f,Ys),yield E._initializationPromise;const M=at(E,g);return yield Cc(M,E),M._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Tc(v,f,g){return function Ra(v,f,g){return ui.apply(this,arguments)}(v,f,g)}function ui(){return(ui=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v);$e(E.auth,f,Ys),yield E.auth._initializationPromise;const M=at(E.auth,g);yield Cc(M,E.auth);const N=yield Ei(E);return M._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Sc(v,f,g){return function zr(v,f,g){return Na.apply(this,arguments)}(v,f,g)}function Na(){return(Na=(0,h.Z)(function*(v,f,g){const E=(0,j.m9)(v);$e(E.auth,f,Ys),yield E.auth._initializationPromise;const M=at(E.auth,g);yield fa(!1,E,f.providerId),yield Cc(M,E.auth);const N=yield Ei(E);return M._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Mh(v,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(v,f){return yield cn(v)._initializationPromise,co(v,f,!1)})).apply(this,arguments)}function co(v,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(v,f,g=!1){const E=cn(v),M=at(E,f),Y=yield new Eu(E,M,g).execute();return Y&&!g&&(delete Y.user._redirectEventId,yield E._persistUserIfCurrent(Y.user),yield E._setRedirectUser(null,f)),Y})).apply(this,arguments)}function Ei(v){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(v){const f=Gi(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Du{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rs(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ni(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!Ni(f)){const M=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(De(this.auth,M))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Go(f))}saveEventToCache(f){this.cachedEventUids.add(Go(f)),this.lastProcessedEventTime=Date.now()}}function Go(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Ni({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function fr(v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(v,f={}){return Ie(v,"GET","/v1/projects",f)})).apply(this,arguments)}const jm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cu=/^https?/;function zo(){return(zo=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield fr(v);for(const g of f)try{if(lo(g))return}catch{}Ce(v,"unauthorized-domain")})).apply(this,arguments)}function lo(v){const f=tt(),{protocol:g,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const Y=new URL(v);return""===Y.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Y.hostname===E}if(!Cu.test(g))return!1;if(jm.test(v))return E===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const Ac=new oi(3e4,6e4);function Oa(){const v=$n().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ti=null;const Ii=new oi(5e3,15e3),Rh="__/auth/iframe",td="emulator/auth/iframe",Pi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(v){const f=v.config;ie(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?Ui(f,td):`https://${v.config.authDomain}/${Rh}`,E={apiKey:f.apiKey,appName:v.name,v:k.SDK_VERSION},M=nd.get(v.config.apiHost);M&&(E.eid=M);const N=v._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,j.xO)(E).slice(1)}`}function w(){return w=(0,h.Z)(function*(v){const f=yield function xh(v){return ti=ti||function It(v){return new Promise((f,g)=>{var E,M,N;function Y(){Oa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Oa(),g(De(v,"network-request-failed"))},timeout:Ac.get()})}if(null!==(M=null===(E=$n().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(N=$n().gapi)||void 0===N||!N.load){const ce=xr("iframefcb");return $n()[ce]=()=>{gapi.load?Y():g(De(v,"network-request-failed"))},tn(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ue=>g(Ue))}Y()}}).catch(f=>{throw ti=null,f})}(v),ti}(v),g=$n().gapi;return ie(g,v,"internal-error"),f.open({where:document.body,url:rd(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pi,dontclear:!0},E=>new Promise(function(){var M=(0,h.Z)(function*(N,Y){yield E.restyle({setHideOnLeave:!1});const ce=De(v,"network-request-failed"),Ue=$n().setTimeout(()=>{Y(ce)},Ii.get());function qe(){$n().clearTimeout(Ue),N(E)}E.ping(qe).then(qe,()=>{Y(ce)})});return function(N,Y){return M.apply(this,arguments)}}()))}),w.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S=500,V=600,z="_blank",J="http://localhost";class re{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ge(v,f,g,E=S,M=V){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-E)/2,0).toString();let ce="";const Ue=Object.assign(Object.assign({},D),{width:E.toString(),height:M.toString(),top:N,left:Y}),qe=(0,j.z$)().toLowerCase();g&&(ce=function R(v=(0,j.z$)()){return/crios\//i.test(v)}(qe)?z:g),function O(v=(0,j.z$)()){return/firefox\//i.test(v)}(qe)&&(f=f||J,Ue.scrollbars="yes");const ft=Object.entries(Ue).reduce((ni,[ho,Wo])=>`${ni}${ho}=${Wo},`,"");if(function St(v=(0,j.z$)()){var f;return _t(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(qe)&&"_self"!==ce)return function He(v,f){const g=document.createElement("a");g.href=v,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",ce),new re(null);const $t=window.open(f||"",ce,ft);ie($t,v,"popup-blocked");try{$t.focus()}catch{}return new re($t)}const ct="__/auth/handler",Rt="emulator/auth/handler",Nt=encodeURIComponent("fac");function Cr(v,f,g,E,M,N){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(v,f,g,E,M,N){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const Y={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:k.SDK_VERSION,eventId:M};if(f instanceof Ys){f.setDefaultLanguage(v.languageCode),Y.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ft,$t]of Object.entries(N||{}))Y[ft]=$t}if(f instanceof So){const ft=f.getScopes().filter($t=>""!==$t);ft.length>0&&(Y.scopes=ft.join(","))}v.tenantId&&(Y.tid=v.tenantId);const ce=Y;for(const ft of Object.keys(ce))void 0===ce[ft]&&delete ce[ft];const Ue=yield v._getAppCheckToken(),qe=Ue?`#${Nt}=${encodeURIComponent(Ue)}`:"";return`${function jt({config:v}){return v.emulator?Ui(v,Rt):`https://${v.authDomain}/${ct}`}(v)}?${(0,j.xO)(ce).slice(1)}${qe}`})).apply(this,arguments)}const zi="webStorageSupport",pr=class ka{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xr,this._completeRedirectFn=co,this._overrideRedirectResult=Ma}_openPopup(f,g,E,M){var N=this;return(0,h.Z)(function*(){var Y;Et(null===(Y=N.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ce=yield Cr(f,g,E,tt(),M);return Ge(f,ce,Gi())})()}_openRedirect(f,g,E,M){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function Ts(v){$n().location.href=v}(yield Cr(f,g,E,tt(),M)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:M,promise:N}=this.eventManagers[g];return M?Promise.resolve(M):(Et(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const E=yield function id(v){return w.apply(this,arguments)}(f),M=new Du(f);return E.register("authEvent",N=>(ie(N?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:M},g.iframes[f._key()]=E,M})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(zi,{type:zi},M=>{var N;const Y=null===(N=M?.[0])||void 0===N?void 0:N[zi];void 0!==Y&&g(!!Y),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bu(v){return zo.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vt()||F()||_t()}};class qi{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return Je("unexpected MultiFactorSessionType")}}}class Wi extends qi{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wi(f)}_finalizeEnroll(f,g,E){return function ko(v,f){return Ie(v,"POST","/v2/accounts/mfaEnrollment:finalize",X(v,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function so(v,f){return Ie(v,"POST","/v2/accounts/mfaSignIn:finalize",X(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nh=(()=>{class v{constructor(){}static assertion(g){return Wi._fromCredential(g)}}return v.FACTOR_ID="phone",v})()},5578:(pt,Se,U)=>{U.d(Se,{$s:()=>Un,BH:()=>Me,G6:()=>Ui,L:()=>me,LL:()=>Ne,Pz:()=>De,Sg:()=>$e,UG:()=>Je,US:()=>oe,ZB:()=>Q,ZR:()=>Ie,aH:()=>Ce,b$:()=>Gt,eu:()=>le,hl:()=>ae,jU:()=>Et,m9:()=>$r,ne:()=>zt,pd:()=>Br,r3:()=>_n,ru:()=>tt,tV:()=>Z,uI:()=>ie,vZ:()=>lt,w1:()=>Ji,xO:()=>Fn,xb:()=>Ur,z$:()=>Pe,zI:()=>de,zd:()=>Ar});const te=function(H){const $=[];let O=0;for(let F=0;F<H.length;F++){let R=H.charCodeAt(F);R<128?$[O++]=R:R<2048?($[O++]=R>>6|192,$[O++]=63&R|128):55296==(64512&R)&&F+1<H.length&&56320==(64512&H.charCodeAt(F+1))?(R=65536+((1023&R)<<10)+(1023&H.charCodeAt(++F)),$[O++]=R>>18|240,$[O++]=R>>12&63|128,$[O++]=R>>6&63|128,$[O++]=63&R|128):($[O++]=R>>12|224,$[O++]=R>>6&63|128,$[O++]=63&R|128)}return $},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,$){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let R=0;R<H.length;R+=3){const W=H[R],we=R+1<H.length,et=we?H[R+1]:0,Ct=R+2<H.length,_t=Ct?H[R+2]:0;let wn=(15&et)<<2|_t>>6,Vt=63&_t;Ct||(Vt=64,we||(wn=64)),F.push(O[W>>2],O[(3&W)<<4|et>>4],O[wn],O[Vt])}return F.join("")},encodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(H):this.encodeByteArray(te(H),$)},decodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(H):function(H){const $=[];let O=0,F=0;for(;O<H.length;){const R=H[O++];if(R<128)$[F++]=String.fromCharCode(R);else if(R>191&&R<224){const W=H[O++];$[F++]=String.fromCharCode((31&R)<<6|63&W)}else if(R>239&&R<365){const Ct=((7&R)<<18|(63&H[O++])<<12|(63&H[O++])<<6|63&H[O++])-65536;$[F++]=String.fromCharCode(55296+(Ct>>10)),$[F++]=String.fromCharCode(56320+(1023&Ct))}else{const W=H[O++],we=H[O++];$[F++]=String.fromCharCode((15&R)<<12|(63&W)<<6|63&we)}}return $.join("")}(this.decodeStringToByteArray(H,$))},decodeStringToByteArray(H,$){this.init_();const O=$?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let R=0;R<H.length;){const W=O[H.charAt(R++)],et=R<H.length?O[H.charAt(R)]:0;++R;const _t=R<H.length?O[H.charAt(R)]:64;++R;const St=R<H.length?O[H.charAt(R)]:64;if(++R,null==W||null==et||null==_t||null==St)throw new ye;F.push(W<<2|et>>4),64!==_t&&(F.push(et<<4&240|_t>>2),64!==St&&F.push(_t<<6&192|St))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(H){return function(H){const $=te(H);return oe.encodeByteArray($,!0)}(H).replace(/\./g,"")},Z=function(H){try{return oe.decodeString(H,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function Q(H,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return $}for(const O in $)!$.hasOwnProperty(O)||!je(O)||(H[O]=Q(H[O],$[O]));return H}function je(H){return"__proto__"!==H}const Ae=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=H&&Z(H[1]);return $&&JSON.parse($)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ce=()=>{var H;return null===(H=Ae())||void 0===H?void 0:H.config},De=H=>{var $;return null===($=Ae())||void 0===$?void 0:$[`_${H}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,O)=>{this.resolve=$,this.reject=O})}wrapCallback($){return(O,F)=>{O?this.reject(O):this.resolve(F),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(O):$(O,F))}}}function $e(H,$){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=$||"demo-project",R=H.iat||0,W=H.sub||H.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:R,exp:R+3600,auth_time:R,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},H);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(we)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Je(){var H;const $=null===(H=Ae())||void 0===H?void 0:H.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function tt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ji(){const H=Pe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ui(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((H,$)=>{try{let O=!0;const F="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(F);R.onsuccess=()=>{R.result.close(),O||self.indexedDB.deleteDatabase(F),H(!0)},R.onupgradeneeded=()=>{O=!1},R.onerror=()=>{var W;$((null===(W=R.error)||void 0===W?void 0:W.message)||"")}}catch(O){$(O)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor($,O,F){super(O),this.code=$,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor($,O,F){this.service=$,this.serviceName=O,this.errors=F}create($,...O){const F=O[0]||{},R=`${this.service}/${$}`,W=this.errors[$],we=W?function Xe(H,$){return H.replace(ot,(O,F)=>{const R=$[F];return null!=R?String(R):`<${F}?>`})}(W,F):"Error";return new Ie(R,`${this.serviceName}: ${we} (${R}).`,F)}}const ot=/\{\$([^}]+)}/g;function _n(H,$){return Object.prototype.hasOwnProperty.call(H,$)}function Ur(H){for(const $ in H)if(Object.prototype.hasOwnProperty.call(H,$))return!1;return!0}function lt(H,$){if(H===$)return!0;const O=Object.keys(H),F=Object.keys($);for(const R of O){if(!F.includes(R))return!1;const W=H[R],we=$[R];if(Mn(W)&&Mn(we)){if(!lt(W,we))return!1}else if(W!==we)return!1}for(const R of F)if(!O.includes(R))return!1;return!0}function Mn(H){return null!==H&&"object"==typeof H}function Fn(H){const $=[];for(const[O,F]of Object.entries(H))Array.isArray(F)?F.forEach(R=>{$.push(encodeURIComponent(O)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(O)+"="+encodeURIComponent(F));return $.length?"&"+$.join("&"):""}function Ar(H){const $={};return H.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[R,W]=F.split("=");$[decodeURIComponent(R)]=decodeURIComponent(W)}}),$}function Br(H){const $=H.indexOf("?");if(!$)return"";const O=H.indexOf("#",$);return H.substring($,O>0?O:void 0)}function zt(H,$){const O=new ut(H,$);return O.subscribe.bind(O)}class ut{constructor($,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{$(this)}).catch(F=>{this.error(F)})}next($){this.forEachObserver(O=>{O.next($)})}error($){this.forEachObserver(O=>{O.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,O,F){let R;if(void 0===$&&void 0===O&&void 0===F)throw new Error("Missing Observer.");R=function Ln(H,$){if("object"!=typeof H||null===H)return!1;for(const O of $)if(O in H&&"function"==typeof H[O])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:O,complete:F},void 0===R.next&&(R.next=_r),void 0===R.error&&(R.error=_r),void 0===R.complete&&(R.complete=_r);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),W}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,$)}sendOne($,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{O(this.observers[$])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}const Lt=1e3,Vn=2,bn=144e5,wr=.5;function Un(H,$=Lt,O=Vn){const F=$*Math.pow(O,H),R=Math.round(wr*F*(Math.random()-.5)*2);return Math.min(bn,F+R)}function $r(H){return H&&H._delegate?H._delegate:H}},8819:(pt,Se,U)=>{var h=U(4650);let j=null;function k(){return j}class se{}const oe=new h.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ge(){return(0,h.LFG)(Z)}()},providedIn:"platform"}),n})();const me=new h.OlP("Location Initialized");let Z=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){G()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){G()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Q(){return new Z((0,h.LFG)(oe))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ae)},providedIn:"root"}),n})();const pe=new h.OlP("appBaseHref");let Ae=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+ze(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+ze(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+ze(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+ze(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ye),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(be(Me(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=ze,n.joinWithSlash=je,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(h.LFG(nt))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(){return new Be((0,h.LFG)(nt))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}class dr{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Eo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new dr(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Nn(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Nn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Nn(n,e){n.context.$implicit=e.item}let bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const To="server";function So(n){return n===To}let eu=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new yh((0,h.LFG)(oe),window)}),n})();class yh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Es(this.window.history)||Es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bl extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lu extends Bl{static makeCurrent(){!function te(n){j||(j=n)}(new lu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function va(){return Oo=Oo||document.querySelector("base"),Oo?Oo.getAttribute("href"):null}();return null==t?null:function Rp(n){rs=rs||document.createElement("a"),rs.setAttribute("href",n);const e=rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let rs,Oo=null;const Eh=new h.OlP("TRANSITION_ID"),jl=[{provide:h.ip1,useFactory:function du(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=k(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Eh,oe,h.zs3],multi:!0}];let oc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _a=new h.OlP("EventManagerPlugins");let hu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_a),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=k().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let $l=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),bs=(()=>{class n extends $l{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const to={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fo=/%COMP%/g,Ia=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fu(n,e){return e.flat(100).map(t=>t.replace(Fo,n))}function cc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xr=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Hl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof pu?s.applyToHost(t):s instanceof Ts&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:u=new pu(l,m,r,this.appId,_);break;case h.ifc.ShadowDom:return new $n(l,m,t,r);default:u=new Ts(l,m,r,_)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hu),h.LFG(bs),h.LFG(h.AFp),h.LFG(Ia))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(to[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Gl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Gl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=to[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=to[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,cc(r)):this.eventManager.addEventListener(e,t,cc(r))}}function Gl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $n extends Hl{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fu(s.id,s.styles);for(const l of u){const m=document.createElement("style");m.textContent=l,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ts extends Hl{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=fu(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pu extends Ts{constructor(e,t,r,s,u){const l=s+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function Ih(n){return"_ngcontent-%COMP%".replace(Fo,n)}(l),this.hostAttr=function uc(n){return"_nghost-%COMP%".replace(Fo,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let zl=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Da=["alt","control","meta","shift"],ql={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qn=(()=>{class n extends ko{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Da.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let s=ql[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Da.forEach(l=>{l!==s&&(0,gu[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ch=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Uo(){lu.makeCurrent()},multi:!0},{provide:oe,useFactory:function hc(){return(0,h.RDi)(document),document},deps:[]}]),ro=new h.OlP(""),Ca=[{provide:h.rWj,useClass:class is{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(_){l=l||_,u--,0==u&&r(l)};s.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],io=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function dc(){return new h.qLn},deps:[]},{provide:_a,useClass:zl,multi:!0,deps:[oe,h.R0b,h.Lbi]},{provide:_a,useClass:Qn,multi:!0,deps:[oe]},{provide:Xr,useClass:Xr,deps:[hu,bs,h.AFp,Ia]},{provide:h.FYo,useExisting:Xr},{provide:$l,useExisting:bs},{provide:bs,useClass:bs,deps:[oe]},{provide:hu,useClass:hu,deps:[_a,h.R0b]},{provide:class vh{},useClass:oc,deps:[]},[]];let Bo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Eh,useExisting:h.AFp},jl]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ro,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...io,...Ca],imports:[bo,h.hGG]}),n})(),bh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function so(){return new bh((0,h.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ln=U(8996),xi=U(7669);function at(...n){const e=(0,xi.yG)(n);return(0,ln.D)(n,e)}var Ri=U(7579);class qn extends Ri.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ta=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=U(9751);const{isArray:Ec}=Array,{getPrototypeOf:Jl,prototype:_i,keys:xs}=Object;function Ic(n){if(1===n.length){const e=n[0];if(Ec(e))return{args:e,keys:null};if(function ao(n){return n&&"object"==typeof n&&Jl(n)===_i}(e)){const t=xs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var $o=U(4671),wt=U(4004);const{isArray:Dc}=Array;function wi(n){return(0,wt.U)(e=>function Xl(n,e){return Dc(e)?n(...e):n(e)}(n,e))}function Eu(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Pr=U(5403),Sa=U(9672);function Cc(...n){const e=(0,xi.yG)(n),t=(0,xi.jO)(n),{args:r,keys:s}=Ic(n);if(0===r.length)return(0,ln.D)([],e);const u=new ei.y(function uo(n,e,t=$o.y){return r=>{Aa(e,()=>{const{length:s}=n,u=new Array(s);let l=s,m=s;for(let _=0;_<s;_++)Aa(e,()=>{const b=(0,ln.D)(n[_],e);let T=!1;b.subscribe((0,Pr.x)(r,P=>{u[_]=P,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>Eu(s,l):$o.y));return t?u.pipe(wi(t)):u}function Aa(n,e,t){n?(0,Sa.f)(t,n,e):e()}var Ma=U(8189);function Iu(...n){return function Ah(){return(0,Ma.J)(1)}()((0,ln.D)(n,(0,xi.yG)(n)))}var xa=U(8421);function ed(n){return new ei.y(e=>{(0,xa.Xf)(n()).subscribe(e)})}var bc=U(9635),Tc=U(576);function Ra(n,e){const t=(0,Tc.m)(n)?n:()=>n,r=s=>s.error(t());return new ei.y(e?s=>e.schedule(r,0,s):r)}var ui=U(515),Sc=U(727),zr=U(4482);function Na(){return(0,zr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Pr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Mh extends ei.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,zr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Pr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sc.w0.EMPTY)}return e}refCount(){return Na()(this)}}function Hn(n,e){return(0,zr.e)((t,r)=>{let s=null,u=0,l=!1;const m=()=>l&&!s&&r.complete();t.subscribe((0,Pr.x)(r,_=>{s?.unsubscribe();let b=0;const T=u++;(0,xa.Xf)(n(_,T)).subscribe(s=(0,Pr.x)(r,P=>r.next(e?e(_,P,T,b++):P),()=>{s=null,m()}))},()=>{l=!0,m()}))})}function co(n){return n<=0?()=>ui.E:(0,zr.e)((e,t)=>{let r=0;e.subscribe((0,Pr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Ho(...n){const e=(0,xi.yG)(n);return(0,zr.e)((t,r)=>{(e?Iu(n,t,e):Iu(n,t)).subscribe(r)})}function Ei(n,e){return(0,zr.e)((t,r)=>{let s=0;t.subscribe((0,Pr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Gn=U(5577);function Pa(n){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,Pr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Du(n=Go){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,Pr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Go(){return new Ta}function Ni(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((s,u)=>n(s,u,r)):$o.y,co(1),t?Pa(e):Du(()=>new Ta))}function Rs(n,e){return(0,Tc.m)(e)?(0,Gn.z)(n,e,1):(0,Gn.z)(n,1)}var fr=U(8505);function Ns(n){return(0,zr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Pr.x)(t,void 0,void 0,l=>{u=(0,xa.Xf)(n(l,Ns(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Cu(n,e){return(0,zr.e)(function jm(n,e,t,r,s){return(u,l)=>{let m=t,_=e,b=0;u.subscribe((0,Pr.x)(l,T=>{const P=b++;_=m?n(_,T,P):(m=!0,T),r&&l.next(_)},s&&(()=>{m&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function bu(n){return n<=0?()=>ui.E:(0,zr.e)((e,t)=>{let r=[];e.subscribe((0,Pr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function zo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ei((s,u)=>n(s,u,r)):$o.y,bu(1),t?Pa(e):Du(()=>new Ta))}function Oa(n){return(0,zr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const It="primary",ti=Symbol("RouteTitle");class xh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ii(n){return new xh(n)}function Rh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!nd(n[s],e[s]))return!1;return!0}function nd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function rd(n){return Array.prototype.concat.apply([],n)}function id(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function S(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,ln.D)(Promise.resolve(n)):at(n)}const V=!1,z={exact:function He(n,e,t){if(!pr(n.segments,e.segments)||!Cr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!He(n.children[r],e.children[r],t))return!1;return!0},subset:Rt},J={exact:function Ge(n,e){return Pi(n,e)},subset:function ct(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nd(n[t],e[t]))},ignored:()=>!0};function re(n,e,t){return z[t.paths](n.root,e.root,t.matrixParams)&&J[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Rt(n,e,t){return Nt(n,e,e.segments,t)}function Nt(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!pr(s,t)||e.hasChildren()||!Cr(s,t,r))}if(n.segments.length===t.length){if(!pr(n.segments,t)||!Cr(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Rt(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(pr(n.segments,s)&&Cr(n.segments,s,r)&&n.children[It])&&Nt(n.children[It],e,u,r)}}function Cr(n,e,t){return e.every((r,s)=>J[t](n[s].parameters,r.parameters))}class vn{constructor(e=new jt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return sd.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tu(this)}}class zi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ii(this.parameters)),this._parameterMap}toString(){return Np(this)}}function pr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Nh},providedIn:"root"}),n})();class Nh{parse(e){const t=new M(e);return new vn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Su(e.root,!0)}`,r=function Pp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${La(t)}=${La(s)}`).join("&"):`${La(t)}=${La(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ph(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sd=new Nh;function Tu(n){return n.segments.map(e=>Np(e)).join("/")}function Su(n,e){if(!n.hasChildren())return Tu(n);if(e){const t=n.children[It]?Su(n.children[It],!1):"",r=[];return D(n.children,(s,u)=>{u!==It&&r.push(`${u}:${Su(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function qi(n,e){let t=[];return D(n.children,(r,s)=>{s===It&&(t=t.concat(e(r,s)))}),D(n.children,(r,s)=>{s!==It&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===It?[Su(n.children[It],!1)]:[`${s}:${Su(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${Tu(n)}/${t[0]}`:`${Tu(n)}/(${t.join("//")})`}}function Fa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function La(n){return Fa(n).replace(/%3B/gi,";")}function qo(n){return Fa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Au(n){return decodeURIComponent(n)}function Oh(n){return Au(n.replace(/\+/g,"%20"))}function Np(n){return`${qo(n.path)}${function kh(n){return Object.keys(n).map(e=>`;${qo(e)}=${qo(n[e])}`).join("")}(n.parameters)}`}const $m=/^[^\/()?;=#]+/;function Fh(n){const e=n.match($m);return e?e[0]:""}const v=/^[^=?&#]+/,g=/^[^&#]+/;class M{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[It]=new jt(e,t)),r}parseSegment(){const e=Fh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,V);return this.capture(e),new zi(Au(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Fh(this.remaining);s&&(r=s,this.capture(r))}e[Au(t)]=Au(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function E(n){const e=n.match(g);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=Oh(t),u=Oh(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fh(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,V);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=It);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[It]:new jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,V)}}function N(n){return n.segments.length>0?new jt([],{[It]:n}):n}function Y(n){const e={};for(const r of Object.keys(n.children)){const u=Y(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ce(n){if(1===n.numberOfChildren&&n.children[It]){const e=n.children[It];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Ue(n){return n instanceof vn}const qe=!1;function ho(n,e,t,r,s){if(0===t.length)return ss(e.root,e.root,e.root,r,s);const u=function xc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new od(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return D(u.outlets,(_,b)=>{m[b]="string"==typeof _?_.split("/"):_}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new od(t,e,r)}(t);return u.toRoot()?ss(e.root,e.root,new jt([],{}),r,s):function l(_){const b=function ud(n,e,t,r){if(n.isAbsolute)return new Zo(e.root,!0,0);if(-1===r)return new Zo(t,t===e.root,0);return function Mu(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new h.vHH(4005,qe&&"Invalid number of '../'");s=r.segments.length}return new Zo(r,!1,s-u)}(t,r+(Wo(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=b.processChildren?Ko(b.segmentGroup,b.index,u.commands):xu(b.segmentGroup,b.index,u.commands);return ss(e.root,b.segmentGroup,T,r,s)}(n.snapshot?._lastPathIndex)}function Wo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mc(n){return"object"==typeof n&&null!=n&&n.outlets}function ss(n,e,t,r,s){let l,u={};r&&D(r,(_,b)=>{u[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),l=n===e?t:Lh(n,e,t);const m=N(Y(l));return new vn(m,u,s)}function Lh(n,e,t){const r={};return D(n.children,(s,u)=>{r[u]=s===e?t:Lh(s,e,t)}),new jt(n.segments,r)}class od{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wo(r[0]))throw new h.vHH(4003,qe&&"Root segment cannot have matrix parameters");const s=r.find(Mc);if(s&&s!==id(r))throw new h.vHH(4004,qe&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zo{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xu(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return Ko(n,e,t);const r=function Hm(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],m=t[r];if(Mc(m))break;const _=`${m}`,b=r<t.length-1?t[r+1]:null;if(s>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Gm(_,b,l))return u;r+=2}else{if(!Gm(_,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new jt(n.segments.slice(0,r.pathIndex),{});return u.children[It]=new jt(n.segments.slice(r.pathIndex),n.children),Ko(u,0,s)}return r.match&&0===s.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?Vh(n,e,t):r.match?Ko(n,0,s):Vh(n,e,t)}function Ko(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function cd(n){return Mc(n[0])?n[0].outlets:{[It]:n}}(t),s={};if(!r[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const u=Ko(n.children[It],e,t);return new jt(n.segments,u.children)}return D(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=xu(n.children[l],e,u))}),D(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new jt(n.segments,s)}}function Vh(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Mc(u)){const _=Uh(u.outlets);return new jt(r,_)}if(0===s&&Wo(t[0])){r.push(new zi(n.segments[e].path,D0(t[0]))),s++;continue}const l=Mc(u)?u.outlets[It]:`${u}`,m=s<t.length-1?t[s+1]:null;l&&m&&Wo(m)?(r.push(new zi(l,D0(m))),s+=2):(r.push(new zi(l,{})),s++)}return new jt(r,{})}function Uh(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Vh(new jt([],{}),0,t))}),e}function D0(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function Gm(n,e,t){return n==t.path&&Pi(e,t.parameters)}const Bh="imperative";class Yo{constructor(e,t){this.id=e,this.url=t}}class zm extends Yo{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ru extends Yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jh extends Yo{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rc extends Yo{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class $h extends Yo{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ld extends Yo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SD extends Yo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AD extends Yo{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $A extends Yo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD extends Yo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Op{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let RD=(()=>{class n{createUrlTree(t,r,s,u,l,m){return ho(t||r.root,s,u,l,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return RD.\u0275fac(e)},providedIn:"root"}),n})();class A0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Km(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Km(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Qo(e,this._root).map(t=>t.value)}}function Km(n,e){if(n===e.value)return e;for(const t of e.children){const r=Km(n,t);if(r)return r}return null}function Qo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qo(n,t);if(r.length)return r.unshift(e),r}return[]}class os{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function dd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OD extends A0{constructor(e,t){super(e),this.snapshot=t,Ym(this,e)}toString(){return this.snapshot.toString()}}function kD(n,e){const t=function HA(n,e){const l=new kp([],{},{},"",{},It,e,null,n.root,-1,{});return new x0("",new os(l,[]))}(n,e),r=new qn([new zi("",{})]),s=new qn({}),u=new qn({}),l=new qn({}),m=new qn(""),_=new Hh(r,s,l,m,u,It,e,t.root);return _.snapshot=t.root,new OD(new os(_,[]),t)}class Hh{constructor(e,t,r,s,u,l,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,wt.U)(b=>b[ti]))??at(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>Ii(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>Ii(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FD(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function M0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class kp{get title(){return this.data?.[ti]}constructor(e,t,r,s,u,l,m,_,b,T,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ii(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x0 extends A0{constructor(e,t){super(t),this.url=e,Ym(this,t)}toString(){return R0(this._root)}}function Ym(n,e){e.value._routerState=n,e.children.forEach(t=>Ym(n,t))}function R0(n){const e=n.children.length>0?` { ${n.children.map(R0).join(", ")} } `:"";return`${n.value}${e}`}function Gh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pi(e.params,t.params)||n.params.next(t.params),function td(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fo(n,e){const t=Pi(n.params,e.params)&&function ka(n,e){return pr(n,e)&&n.every((t,r)=>Pi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fo(n.parent,e.parent))}function hd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function N0(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return hd(n,r,s);return hd(n,r)})}(n,e,t);return new os(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>hd(n,m)),l}}const r=function P0(n){return new Hh(new qn(n.url),new qn(n.params),new qn(n.queryParams),new qn(n.fragment),new qn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>hd(n,u));return new os(r,s)}}const O0="ngNavigationCancelingError";function LD(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ue(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=VD(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function VD(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[O0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Fp(n){return Lp(n)&&Ue(n.url)}function Lp(n){return n&&n[O0]}class GA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vp,this.attachRef=null}}let Vp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new GA,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qh=!1;let Qm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Vp),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,qh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,qh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,qh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,qh);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new UD(t,m,s.injector);if(r&&function BD(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(l);this.activated=s.createComponent(b,s.length,_)}else this.activated=s.createComponent(l,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class UD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hh?this.route:e===Vp?this.childContexts:this.parent.get(e,t)}}let Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[Qm],encapsulation:2}),n})();function Xm(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Up(n){const e=n.children&&n.children.map(Up),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==It&&(t.component=Jm),t}function Ps(n){return n.outlet||It}function L0(n,e){const t=n.filter(r=>Ps(r)===e);return t.push(...n.filter(r=>Ps(r)!==e)),t}function Wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class V0{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=dd(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),D(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=dd(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=dd(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=dd(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new b0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Op(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Gh(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),Gh(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Wh(s.snapshot),_=m?.get(h._Vd)??null;l.attachRef=null,l.route=s,l.resolver=_,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class GD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ty{constructor(e,t){this.component=e,this.route=t}}function Zh(n,e,t){const r=n._root;return fd(r,e?e._root:null,t,[r.value])}function Nc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function fd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=dd(e);return n.children.forEach(l=>{(function U0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const _=function WA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pr(n.url,e.url)||!Pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fo(n,e)||!Pi(n.queryParams,e.queryParams);default:return!fo(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new GD(r)):(u.data=l.data,u._resolvedData=l._resolvedData),fd(n,e,u.component?m?m.children:null:t,r,s),_&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new ty(m.outlet.component,l))}else l&&Kh(e,m,s),s.canActivateChecks.push(new GD(r)),fd(n,null,u.component?m?m.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),D(u,(l,m)=>Kh(l,t.getContext(m),s)),s}function Kh(n,e,t){const r=dd(n),s=n.value;D(r,(u,l)=>{Kh(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new ty(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function pd(n){return"function"==typeof n}function Va(n){return n instanceof Ta||"EmptyError"===n?.name}const Bp=Symbol("INITIAL_VALUE");function Nu(){return Hn(n=>Cc(n.map(e=>e.pipe(co(1),Ho(Bp)))).pipe((0,wt.U)(e=>{for(const t of e)if(!0!==t){if(t===Bp)return Bp;if(!1===t||t instanceof vn)return t}return!0}),Ei(e=>e!==Bp),co(1)))}function uy(n){return(0,bc.z)((0,fr.b)(e=>{if(Ue(e))throw LD(0,e)}),(0,wt.U)(e=>!0===e))}const cy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H0(n,e,t,r,s){const u=ly(n,e,t);return u.matched?function gd(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?at(s.map(l=>{const m=Nc(l,n);return S(function sy(n){return n&&pd(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Nu(),uy()):at(!0)}(r=Xm(e,r),e,t).pipe((0,wt.U)(l=>!0===l?u:{...cy})):at(u)}function ly(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Rh)(t,n,e);if(!s)return{...cy};const u={};D(s.posParams,(m,_)=>{u[_]=m.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function md(n,e,t,r){if(t.length>0&&function QD(n,e,t){return t.some(r=>dy(n,e,r)&&Ps(r)!==It)}(n,t,r)){const u=new jt(e,function G0(n,e,t,r){const s={};s[It]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ps(u)!==It){const l=new jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[Ps(u)]=l}return s}(n,e,r,new jt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function z0(n,e,t){return t.some(r=>dy(n,e,r))}(n,t,r)){const u=new jt(n.segments,function YD(n,e,t,r,s){const u={};for(const l of r)if(dy(n,t,l)&&!s[Ps(l)]){const m=new jt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Ps(l)]=m}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new jt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function dy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function q0(n,e,t,r){return!!(Ps(n)===r||r!==It&&dy(e,t,n))&&("**"===n.path||ly(e,n,t).matched)}function yd(n,e,t){return 0===e.length&&!n.children[t]}const Hp=!1;class Ua{constructor(e){this.segmentGroup=e||null}}class vd{constructor(e){this.urlTree=e}}function Yh(n){return Ra(new Ua(n))}function hy(n){return Ra(new vd(n))}class W0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=md(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,It).pipe((0,wt.U)(u=>this.createUrlTree(Y(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ns(u=>{if(u instanceof vd)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ua?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,It).pipe((0,wt.U)(s=>this.createUrlTree(Y(s),e.queryParams,e.fragment))).pipe(Ns(s=>{throw s instanceof Ua?this.noMatchError(s):s}))}noMatchError(e){return new h.vHH(4002,Hp)}createUrlTree(e,t,r){const s=N(e);return new vn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(u=>new jt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,ln.D)(s).pipe(Rs(u=>{const l=r.children[u],m=L0(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,wt.U)(_=>({segment:_,outlet:u})))}),Cu((u,l)=>(u[l.outlet]=l.segment,u),{}),zo())}expandSegment(e,t,r,s,u,l){return(0,ln.D)(r).pipe(Rs(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,l).pipe(Ns(b=>{if(b instanceof Ua)return at(null);throw b}))),Ni(m=>!!m),Ns((m,_)=>{if(Va(m))return yd(t,s,u)?at(new jt([],{})):Yh(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,l,m){return q0(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):Yh(t):Yh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hy(u):this.lineralizeSegments(r,u).pipe((0,Gn.z)(l=>{const m=new jt(l,{});return this.expandSegment(e,m,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:m,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=ly(t,s,u);if(!m)return Yh(t);const P=this.applyRedirectCommands(_,s.redirectTo,T);return s.redirectTo.startsWith("/")?hy(P):this.lineralizeSegments(s,P).pipe((0,Gn.z)(q=>this.expandSegment(e,t,r,q.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=Xm(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,wt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new jt(s,{})))):at(new jt(s,{}))):H0(t,r,s,e).pipe(Hn(({matched:l,consumedSegments:m,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Gn.z)(T=>{const P=T.injector??e,q=T.routes,{segmentGroup:ee,slicedSegments:_e}=md(t,m,_,q),Ve=new jt(ee.segments,ee.children);if(0===_e.length&&Ve.hasChildren())return this.expandChildren(P,q,Ve).pipe((0,wt.U)(Dt=>new jt(m,Dt)));if(0===q.length&&0===_e.length)return at(new jt(m,{}));const Fe=Ps(r)===u;return this.expandSegment(P,Ve,q,_e,Fe?It:u,!0).pipe((0,wt.U)(At=>new jt(m.concat(At.segments),At.children)))})):Yh(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function KD(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?at(!0):at(s.map(l=>{const m=Nc(l,n);return S(function ry(n){return n&&pd(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Nu(),uy())}(e,t,r).pipe((0,Gn.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,fr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function XD(n){return Ra(VD(Hp,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return at(r);if(s.numberOfChildren>1||!s.children[It])return e.redirectTo,Ra(new h.vHH(4e3,Hp));s=s.children[It]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new vn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return D(t.children,(m,_)=>{l[_]=this.createSegmentGroup(e,m,r,s)}),new jt(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,Hp);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class fy{}class Qh{constructor(e,t,r,s,u,l,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m}recognize(){const e=md(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,It).pipe((0,wt.U)(t=>{if(null===t)return null;const r=new kp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new os(r,t),u=new x0(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=FD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,ln.D)(Object.keys(r.children)).pipe(Rs(s=>{const u=r.children[s],l=L0(t,s);return this.processSegmentGroup(e,l,u,s)}),Cu((s,u)=>s&&u?(s.push(...u),s):null),function lo(n,e=!1){return(0,zr.e)((t,r)=>{let s=0;t.subscribe((0,Pr.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),Pa(null),zo(),(0,wt.U)(s=>{if(null===s)return null;const u=K0(s);return function nC(n){n.sort((e,t)=>e.value.outlet===It?-1:t.value.outlet===It?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,ln.D)(t).pipe(Rs(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),Ni(l=>!!l),Ns(l=>{if(Va(l))return yd(r,s,u)?at([]):at(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!q0(t,r,s,u))return at(null);let l;if("**"===t.path){const m=s.length>0?id(s).parameters:{},_=Q0(r)+s.length;l=at({snapshot:new kp(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(t),Ps(t),t.component??t._loadedComponent??null,t,Y0(r),_,J0(t)),consumedSegments:[],remainingSegments:[]})}else l=H0(r,t,s,e).pipe((0,wt.U)(({matched:m,consumedSegments:_,remainingSegments:b,parameters:T})=>{if(!m)return null;const P=Q0(r)+_.length;return{snapshot:new kp(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(t),Ps(t),t.component??t._loadedComponent??null,t,Y0(r),P,J0(t)),consumedSegments:_,remainingSegments:b}}));return l.pipe(Hn(m=>{if(null===m)return at(null);const{snapshot:_,consumedSegments:b,remainingSegments:T}=m;e=t._injector??e;const P=t._loadedInjector??e,q=function rC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ee,slicedSegments:_e}=md(r,b,T,q.filter(Fe=>void 0===Fe.redirectTo));if(0===_e.length&&ee.hasChildren())return this.processChildren(P,q,ee).pipe((0,wt.U)(Fe=>null===Fe?null:[new os(_,Fe)]));if(0===q.length&&0===_e.length)return at([new os(_,[])]);const Ve=Ps(t)===u;return this.processSegment(P,q,ee,_e,Ve?It:u).pipe((0,wt.U)(Fe=>null===Fe?null:[new os(_,Fe)]))}))}}function iC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function K0(n){const e=[],t=new Set;for(const r of n){if(!iC(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=K0(r.children);e.push(new os(r.value,s))}return e.filter(r=>!t.has(r))}function Y0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Q0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Jo(n){return n.data||{}}function J0(n){return n.resolve||{}}function gy(n){return"string"==typeof n.title||null===n.title}function my(n){return Hn(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,wt.U)(()=>e)):at(e)})}const _d=new h.OlP("ROUTES");let vy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=S(t.loadComponent()).pipe((0,wt.U)(tw),(0,fr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Oa(()=>{this.componentLoaders.delete(t)})),s=new Mh(r,()=>new Ri.x).pipe(Na());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,wt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,T=!1;Array.isArray(m)?b=m:(_=m.create(t).injector,b=rd(_.get(_d,[],h.XFs.Self|h.XFs.Optional)));return{routes:b.map(Up),injector:_}}),Oa(()=>{this.childrenLoaders.delete(r)})),l=new Mh(u,()=>new Ri.x).pipe(Na());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return S(t()).pipe((0,wt.U)(tw),(0,Gn.z)(r=>r instanceof h.YKP||Array.isArray(r)?at(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tw(n){return function po(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let zp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ri.x,this.configLoader=(0,h.f3M)(vy),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Wi),this.rootContexts=(0,h.f3M)(Vp),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new xD(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new qm(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(r=>0!==r.id),(0,wt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Hn(r=>{let s=!1,u=!1;return at(r).pipe((0,fr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(l=>{const m=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Rc(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ui.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return nw(l.source)&&(t.browserUrlTree=l.extractedUrl),at(l).pipe(Hn(T=>{const P=this.transitions?.getValue();return this.events.next(new zm(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions?.getValue()?ui.E:Promise.resolve(T)}),function Z0(n,e,t,r){return Hn(s=>function eC(n,e,t,r,s){return new W0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,wt.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,fr.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function oC(n,e,t,r,s){return(0,Gn.z)(u=>function py(n,e,t,r,s,u,l="emptyOnly"){return new Qh(n,e,t,r,s,l,u).recognize().pipe(Hn(m=>null===m?function tC(n){return new ei.y(e=>e.error(n))}(new fy):at(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,wt.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,fr.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const q=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(q,T)}t.browserUrlTree=T.urlAfterRedirects}const P=new ld(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(P)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:P,source:q,restoredState:ee,extras:_e}=l,Ve=new zm(T,this.urlSerializer.serialize(P),q,ee);this.events.next(Ve);const Fe=kD(P,this.rootComponentType).snapshot;return at(r={...l,targetSnapshot:Fe,urlAfterRedirects:P,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Rc(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ui.E}}),(0,fr.b)(l=>{const m=new SD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,wt.U)(l=>r={...l,guards:Zh(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function jp(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?at({...t,guardsResult:!0}):function WD(n,e,t,r){return(0,ln.D)(n).pipe((0,Gn.z)(s=>function ZD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?at(u.map(m=>{const _=Wh(e)??s,b=Nc(m,_);return S(function zD(n){return n&&pd(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Ni())})).pipe(Nu()):at(!0)}(s.component,s.route,t,e,r)),Ni(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Gn.z)(m=>m&&function B0(n){return"boolean"==typeof n}(m)?function oy(n,e,t,r){return(0,ln.D)(e).pipe(Rs(s=>Iu(function Pc(n,e){return null!==n&&e&&e(new C0(n)),at(!0)}(s.route.parent,r),function $p(n,e){return null!==n&&e&&e(new Wm(n)),at(!0)}(s.route,r),function ay(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ny(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ed(()=>at(l.guards.map(_=>{const b=Wh(l.node)??t,T=Nc(_,b);return S(function iy(n){return n&&pd(n.canActivateChild)}(T)?T.canActivateChild(r,n):b.runInContext(()=>T(r,n))).pipe(Ni())})).pipe(Nu())));return at(u).pipe(Nu())}(n,s.path,t),function $0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const s=r.map(u=>ed(()=>{const l=Wh(e)??t,m=Nc(u,l);return S(function ZA(n){return n&&pd(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Ni())}));return at(s).pipe(Nu())}(n,s.route,t))),Ni(s=>!0!==s,!0))}(r,u,n,e):at(m)),(0,wt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,fr.b)(l=>{if(r.guardsResult=l.guardsResult,Ue(l.guardsResult))throw LD(0,l.guardsResult);const m=new AD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),Ei(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),my(l=>{if(l.guards.canActivateChecks.length)return at(l).pipe((0,fr.b)(m=>{const _=new $A(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Hn(m=>{let _=!1;return at(m).pipe(function KA(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return at(t);let u=0;return(0,ln.D)(s).pipe(Rs(l=>function YA(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!gy(s)&&(u[ti]=s.title),function X0(n,e,t,r){const s=function QA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return at({});const u={};return(0,ln.D)(s).pipe((0,Gn.z)(l=>function ew(n,e,t,r){const s=Wh(e)??r,u=Nc(n,s);return S(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Ni(),(0,fr.b)(m=>{u[l]=m}))),bu(1),function Ac(n){return(0,wt.U)(()=>n)}(u),Ns(l=>Va(l)?ui.E:Ra(l)))}(u,n,e,r).pipe((0,wt.U)(l=>(n._resolvedData=l,n.data=FD(n,t).resolve,s&&gy(s)&&(n.data[ti]=s.title),null)))}(l.route,r,n,e)),(0,fr.b)(()=>u++),bu(1),(0,Gn.z)(l=>u===s.length?at(t):ui.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,fr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,fr.b)(m=>{const _=new MD(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),my(l=>{const m=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,fr.b)(T=>{_.component=T}),(0,wt.U)(()=>{})));for(const T of _.children)b.push(...m(T));return b};return Cc(m(l.targetSnapshot.root)).pipe(Pa(),co(1))}),my(()=>this.afterPreactivation()),(0,wt.U)(l=>{const m=function zh(n,e,t){const r=hd(n,e._root,t?t._root:void 0);return new OD(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,fr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new V0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),co(1),(0,fr.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ru(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Oa(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ns(l=>{if(u=!0,Lp(l)){Fp(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new jh(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),Fp(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nw(r.source)};t.scheduleNavigation(_,Bh,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new $h(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return ui.E}))}))}cancelNavigationTransition(t,r,s){const u=new jh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nw(n){return n!==Bh}let rw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===It);return r}getResolvedTitleForRoute(t){return t.data[ti]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(aC)},providedIn:"root"}),n})(),aC=(()=>{class n extends rw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(cC)},providedIn:"root"}),n})();class uC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let cC=(()=>{class n extends uC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ut=new h.OlP("",{providedIn:"root",factory:()=>({})});let sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ow)},providedIn:"root"}),n})(),ow=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dC(n){throw n}function hC(n,e,t){return e.parse("/")}const aw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Ut,{optional:!0})||{},this.errorHandler=this.options.errorHandler||dC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(sw),this.routeReuseStrategy=(0,h.f3M)(iw),this.urlCreationStrategy=(0,h.f3M)(PD),this.titleStrategy=(0,h.f3M)(rw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rd((0,h.f3M)(_d,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(zp),this.urlSerializer=(0,h.f3M)(Wi),this.location=(0,h.f3M)(Be),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kD(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Up),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:l;let T=null;switch(m){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,T,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Ue(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Bh,null,r)}navigate(t,r={skipLocationChange:!1}){return function pC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...aw}:!1===r?{...fC}:r,Ue(t))return re(this.currentUrlTree,t,s);const u=this.parseUrl(t);return re(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let m,_,b,T;return l?(m=l.resolve,_=l.reject,b=l.promise):b=new Promise((P,q)=>{m=P,_=q}),T="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oc=(()=>{class n{constructor(t,r,s,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ri.x;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Ru&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Oi),h.Y36(Hh),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(nt))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class _y{}let wy=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(t=>t instanceof Ru),Rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,ln.D)(s).pipe((0,Ma.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const u=s.pipe((0,Gn.z)(l=>null===l?at(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,ln.D)([u,l]).pipe((0,Ma.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(_y),h.LFG(vy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ef=new h.OlP("");let cw=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ru&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Os=(()=>((Os=Os||{})[Os.COMPLETE=0]="COMPLETE",Os[Os.FAILED=1]="FAILED",Os[Os.REDIRECTING=2]="REDIRECTING",Os))();const tf=!1;function kc(n,e){return{\u0275kind:n,\u0275providers:e}}const Iy=new h.OlP("",{providedIn:"root",factory:()=>!1});function nf(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Oi),s=n.get(lw);1===n.get(Wp)&&r.initialNavigation(),n.get(dw,null,h.XFs.Optional)?.setUpPreloading(),n.get(ef,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const lw=new h.OlP(tf?"bootstrap done indicator":"",{factory:()=>new Ri.x}),Wp=new h.OlP(tf?"initial navigation":"",{providedIn:"root",factory:()=>1});function vC(){let n=[];return n=tf?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Oi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function T0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],kc(1,n)}const dw=new h.OlP(tf?"router preloader":"");function _C(n){return kc(0,[{provide:dw,useExisting:wy},{provide:_y,useExisting:n}])}const Id=!1,IC=new h.OlP(Id?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Dy=[Be,{provide:Wi,useClass:Nh},Oi,Vp,{provide:Hh,useFactory:function Ey(n){return n.routerState.root},deps:[Oi]},vy,Id?{provide:Iy,useValue:!0}:[]];function DC(){return new h.PXZ("Router",Oi)}let CC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Dy,Id&&r?.enableTracing?vC().\u0275providers:[],{provide:_d,multi:!0,useValue:t},{provide:IC,useFactory:pw,deps:[[Oi,new h.FiY,new h.tp0]]},{provide:Ut,useValue:r||{}},r?.useHash?{provide:nt,useClass:xe}:{provide:nt,useClass:Ae},{provide:ef,useFactory:()=>{const n=(0,h.f3M)(eu),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Ut),r=(0,h.f3M)(zp),s=(0,h.f3M)(Wi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new cw(s,r,n,e,t)}},r?.preloadingStrategy?_C(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:DC},r?.initialNavigation?TC(r):[],[{provide:gw,useFactory:nf},{provide:h.tb,multi:!0,useExisting:gw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_d,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(IC,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Jm]}),n})();function pw(n){if(Id&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function TC(n){return["disabled"===n.initialNavigation?kc(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Oi);return()=>{e.setUpLocationChangeListener()}}},{provide:Wp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kc(2,[{provide:Wp,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Oi),u=e.get(lw);(function eM(n,e){n.events.pipe(Ei(t=>t instanceof Ru||t instanceof jh||t instanceof $h||t instanceof Rc),(0,wt.U)(t=>t instanceof Ru||t instanceof Rc?Os.COMPLETE:t instanceof jh&&(0===t.code||1===t.code)?Os.REDIRECTING:Os.FAILED),Ei(t=>t!==Os.REDIRECTING),co(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(zp).afterPreactivation=()=>(r(!0),u.closed?at(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const gw=new h.OlP(Id?"Router Initializer":"");var Cy=U(9500),an=U(5578),go=(U(7212),U(9357)),by=(U(1617),U(6451)),Cd=U(5363),Ty=U(6063);class mw extends Ri.x{constructor(e=1/0,t=1/0,r=Ty.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)m=_;m&&r.splice(0,m+1)}}}var Sy=U(3099);function yw(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,Sy.B)({connector:()=>new mw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function vw(n,e){return(0,Tc.m)(e)?Hn(()=>n,e):Hn(()=>n)}var Kp=U(9468),Di=U(2088),ks=U(2011);U(8140);var Ee=U(5861);class yf{constructor(){return(0,Di.vb)("app-check")}}typeof window<"u"&&window,U(1274);const nv=new h.OlP("angularfire2.auth.use-emulator"),rv=new h.OlP("angularfire2.auth.settings"),Ow=new h.OlP("angularfire2.auth.tenant-id"),kw=new h.OlP("angularfire2.auth.langugage-code"),Fw=new h.OlP("angularfire2.auth.use-device-language"),iv=new h.OlP("angularfire.auth.persistence"),lg=(n,e,t,r,s,u,l,m)=>(0,ks.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=s,u&&_.useDeviceLanguage(),l)for(const[b,T]of Object.entries(l))_.settings[b]=T;return m&&_.setPersistence(m),_},[t,r,s,u,l,m]);let dg=(()=>{class n{constructor(t,r,s,u,l,m,_,b,T,P,q,ee){const _e=new Ri.x,Ve=at(void 0).pipe((0,Cd.Q)(l.outsideAngular),Hn(()=>u.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,5054)))),(0,wt.U)(()=>(0,ks.on)(t,u,r)),(0,wt.U)(Fe=>lg(Fe,u,m,b,T,P,_,q)),yw({bufferSize:1,refCount:!1}));if(So(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{Ve.pipe(Ni()).subscribe();const bt=Ve.pipe(Hn(Ft=>Ft.getRedirectResult().then(Xt=>Xt,()=>null)),Di.iC,yw({bufferSize:1,refCount:!1})),At=Ve.pipe(Hn(Ft=>new ei.y(Xt=>({unsubscribe:u.runOutsideAngular(()=>Ft.onAuthStateChanged(pn=>Xt.next(pn),pn=>Xt.error(pn),()=>Xt.complete()))})))),Dt=Ve.pipe(Hn(Ft=>new ei.y(Xt=>({unsubscribe:u.runOutsideAngular(()=>Ft.onIdTokenChanged(pn=>Xt.next(pn),pn=>Xt.error(pn),()=>Xt.complete()))}))));this.authState=bt.pipe(vw(At),(0,Kp.R)(l.outsideAngular),(0,Cd.Q)(l.insideAngular)),this.user=bt.pipe(vw(Dt),(0,Kp.R)(l.outsideAngular),(0,Cd.Q)(l.insideAngular)),this.idToken=this.user.pipe(Hn(Ft=>Ft?(0,ln.D)(Ft.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Hn(Ft=>Ft?(0,ln.D)(Ft.getIdTokenResult()):at(null))),this.credential=(0,by.T)(bt,_e,this.authState.pipe(Ei(Ft=>!Ft))).pipe((0,wt.U)(Ft=>Ft?.user?Ft:null),(0,Kp.R)(l.outsideAngular),(0,Cd.Q)(l.insideAngular))}return(0,ks.pX)(this,Ve,u,{spy:{apply:(Fe,bt,At)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&At.then(Dt=>_e.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ks.Dh),h.LFG(ks.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Di.HU),h.LFG(nv,8),h.LFG(rv,8),h.LFG(Ow,8),h.LFG(kw,8),h.LFG(Fw,8),h.LFG(iv,8),h.LFG(yf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vf=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r}ngOnInit(){}login(t,r){this.fireauth.signInWithEmailAndPassword(t,r).then(s=>{localStorage.setItem("token","true"),this.router.navigate(1==s.user?.emailVerified?["/dashboard"]:["/verify-email"])},s=>{alert("User Not Found"),this.router.navigate(["/login"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(s=>{alert("Verify your email"),this.verifyEmail(s.user)},s=>{alert("something Went Wrong")})}logout(){this.fireauth.signOut(),this.router.navigate(["/login"])}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/verify-email"])},r=>{alert("something went wrong")})}verifyEmail(t){t.sendEmailVerification().then(r=>{this.router.navigate(["/verify-email"])},r=>{alert("something went wrong")})}signWithGoogle(){return this.fireauth.signInWithPopup(new Cy.V).then(t=>{localStorage.setItem("token",JSON.stringify(t.user?.uid)),this.router.navigate(["/dashboard"])},t=>{alert(t.message)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(dg),h.LFG(Oi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sv=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Ou=(()=>{class n extends sv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const mo=new h.OlP("NgValueAccessor"),ku={provide:mo,useExisting:(0,h.Gpc)(()=>Ha),multi:!0},ob=new h.OlP("CompositionEventMode");let Ha=(()=>{class n extends sv{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sb(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ob,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([ku]),h.qOj]}),n})();const jc=!1,ri=new h.OlP("NgValidators"),$c=new h.OlP("NgAsyncValidators");function cv(n){return null!=n}function lv(n){const e=(0,h.QGY)(n)?(0,ln.D)(n):n;if(jc&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function Hc(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Gw(n,e){return e.map(t=>t(n))}function dv(n){return n.map(e=>function ab(n){return!n.validate}(e)?e:t=>e.validate(t))}function fg(n){return null!=n?function zw(n){if(!n)return null;const e=n.filter(cv);return 0==e.length?null:function(t){return Hc(Gw(t,e))}}(dv(n)):null}function pg(n){return null!=n?function ub(n){if(!n)return null;const e=n.filter(cv);return 0==e.length?null:function(t){return function Lw(...n){const e=(0,xi.jO)(n),{args:t,keys:r}=Ic(n),s=new ei.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let _=l,b=l;for(let T=0;T<l;T++){let P=!1;(0,xa.Xf)(t[T]).subscribe((0,Pr.x)(u,q=>{P||(P=!0,b--),m[T]=q},()=>_--,void 0,()=>{(!_||!P)&&(b||u.next(r?Eu(r,m):m),u.complete())}))}});return e?s.pipe(wi(e)):s}(Gw(t,e).map(lv)).pipe((0,wt.U)(Hc))}}(dv(n)):null}function gg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hv(n){return n?Array.isArray(n)?n:[n]:[]}function as(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vs(n,e){const t=hv(e);return hv(n).forEach(s=>{as(t,s)||t.push(s)}),t}function Us(n,e){return hv(e).filter(t=>!as(n,t))}class fv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bi extends fv{get formDirective(){return null}get path(){return null}}class Fu extends fv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ww{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gc=(()=>{class n extends Ww{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Fu,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Ga=(()=>{class n extends Ww{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bi,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function yv(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const mg=!1,xd="VALID",Ef="INVALID",Rd="PENDING",If="DISABLED";function vv(n){return(yg(n)?n.validators:n)||null}function _v(n,e){return(yg(e)?e.asyncValidators:n)||null}function yg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xd}get invalid(){return this.status===Ef}get pending(){return this.status==Rd}get disabled(){return this.status===If}get enabled(){return this.status!==If}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Vs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Us(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Us(e,this._rawAsyncValidators))}hasValidator(e){return as(this._rawValidators,e)}hasAsyncValidator(e){return as(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=If,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xd||this.status===Rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?If:xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;const t=lv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?If:this.errors?Ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(Ef)?Ef:xd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fb(n){return Array.isArray(n)?fg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function pb(n){return Array.isArray(n)?pg(n):n||null}(this._rawAsyncValidators)}}class wv extends rE{constructor(e,t,r){super(vv(t),_v(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function nE(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,mg?function eE(n,e){return`Must supply a value for form control ${yv(n,e)}`}(e,s):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function tE(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,mg?function Jw(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,mg?function Xw(n,e){return`Cannot find form control ${yv(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const zc=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Df}),Df="always";function Nd(n,e,t=Df){_g(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function sE(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ev(n,e)})}(n,e),function aE(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function oE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ev(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function iE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _g(n,e){const t=function yo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(gg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function qw(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(gg(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();bf(e._rawValidators,s),bf(e._rawAsyncValidators,s)}function Ev(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const yb={provide:bi,useExisting:(0,h.Gpc)(()=>Bs)},Sf=(()=>Promise.resolve())();let Bs=(()=>{class n extends bi{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new wv({},fg(t),pg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sf.then(()=>{const r=this._findContainer(t.path),s=new wv({});(function Iv(n,e){_g(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Sf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Dv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ri,10),h.Y36($c,10),h.Y36(zc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([yb]),h.qOj]}),n})();function hE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Af(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mf=class extends rE{constructor(e=null,t,r){super(vv(t),_v(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Af(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Af(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Eb={provide:Fu,useExisting:(0,h.Gpc)(()=>Pd)},pE=(()=>Promise.resolve())();let Pd=(()=>{class n extends Fu{constructor(t,r,s,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new Mf,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function dE(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Ha?t=u:function lE(n){return Object.getPrototypeOf(n.constructor)===Ou}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function cE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.D6c)(r);pE.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function vg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bi,9),h.Y36(ri,10),h.Y36($c,10),h.Y36(mo,10),h.Y36(h.sBO,8),h.Y36(zc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Eb]),h.qOj,h.TTD]}),n})(),za=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Wc=new h.OlP("NgModelWithFormControlWarning");let Sg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Sv]}),n})(),Vb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zc,useValue:t.callSetDisabledState??Df}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Sg]}),n})(),Ub=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zc,useValue:t.callSetDisabledState??Df}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Sg]}),n})(),NE=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Enter Your Password"):alert("Enter Your Email")}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("enter your password"):alert("enter your Email")}signInWithGoogle(){this.auth.signWithGoogle()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vf))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"mb-4","text-center"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["name","email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["name","password","type","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-3"],["routerLink","/register",1,"text-decoration-none"],["routerLink","/forgot-password",1,"text-decoration-none"],[1,"row","mt-4"],[1,"btn",3,"click"],["height","30px","src","/assets/icons8-google-48.png","alt",""]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"h3",6),h._uU(8,"Login"),h.qZA(),h.TgZ(9,"div",7)(10,"label",8),h._uU(11,"Email address"),h.qZA(),h.TgZ(12,"input",9),h.NdJ("ngModelChange",function(l){return s.email=l}),h.qZA()(),h.TgZ(13,"div",7)(14,"label",10),h._uU(15,"Password"),h.qZA(),h.TgZ(16,"input",11),h.NdJ("ngModelChange",function(l){return s.password=l}),h.qZA()(),h.TgZ(17,"button",12),h.NdJ("click",function(){return s.login()}),h._uU(18,"Login"),h.qZA(),h.TgZ(19,"div",13)(20,"div",2)(21,"a",14),h._uU(22,"No Account ? "),h.TgZ(23,"span"),h._uU(24,"Register"),h.qZA()()(),h.TgZ(25,"div",2)(26,"a",15),h._uU(27,"Forgot Password ?"),h.qZA()()(),h.TgZ(28,"div",16)(29,"div",4)(30,"button",17),h.NdJ("click",function(){return s.signInWithGoogle()}),h._UZ(31,"img",18),h.TgZ(32,"span"),h._uU(33,"Sign in with google"),h.qZA()()()()()()()(),h._UZ(34,"div",2),h.qZA()()),2&r&&(h.xp6(12),h.Q6J("ngModel",s.email),h.xp6(4),h.Q6J("ngModel",s.password))},dependencies:[Oc,za,Ha,Gc,Ga,Pd,Bs]})}return n})(),PE=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}register(){""!=this.email?""!=this.password?this.auth.register(this.email,this.password):alert("Enter your password"):alert("Enter your Email")}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vf))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:27,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"mb-4","text-center"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["name","email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["name","password","type","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-3"],["routerLink","/login",1,"text-decoration-none"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"h3",6),h._uU(8,"Register"),h.qZA(),h.TgZ(9,"div",7)(10,"label",8),h._uU(11,"Email address"),h.qZA(),h.TgZ(12,"input",9),h.NdJ("ngModelChange",function(l){return s.email=l}),h.qZA()(),h.TgZ(13,"div",7)(14,"label",10),h._uU(15,"Password"),h.qZA(),h.TgZ(16,"input",11),h.NdJ("ngModelChange",function(l){return s.password=l}),h.qZA()(),h.TgZ(17,"button",12),h.NdJ("click",function(){return s.register()}),h._uU(18,"Register"),h.qZA(),h.TgZ(19,"div",13)(20,"div",2)(21,"a",14),h._uU(22,"Already Have Account ? "),h.TgZ(23,"span"),h._uU(24,"Login"),h.qZA()()(),h._UZ(25,"div",2),h.qZA()()()()(),h._UZ(26,"div",2),h.qZA()()),2&r&&(h.xp6(12),h.Q6J("ngModel",s.email),h.xp6(4),h.Q6J("ngModel",s.password))},dependencies:[Oc,za,Ha,Gc,Ga,Pd,Bs]})}return n})();var Bb=U(4986);function Pv(){return(0,zr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Pr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function jb(n,e){return n===e}U(5054),U(6101);var Qe,Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},us={},Rf=Rf||{},Zt=Ov||self;function Ag(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Mg="closure_uid_"+(1e9*Math.random()>>>0),Fd=0;function kE(n,e,t){return n.call.apply(n.bind,arguments)}function Gb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kE:Gb).apply(null,arguments)}function Nf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vu(){this.s=this.s,this.o=this.o}Vu.prototype.s=!1,Vu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hb(n){Object.prototype.hasOwnProperty.call(n,Mg)&&n[Mg]||(n[Mg]=++Fd)}(this)},Vu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function xg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Rg(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ag(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ci.prototype.h=function(){this.defaultPrevented=!0};var LE=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",()=>{},e),Zt.removeEventListener("test",()=>{},e)}catch{}return n}();function Ld(n){return/^[\s\xa0]*$/.test(n)}function Pf(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function ra(n){return-1!=Pf().indexOf(n)}function Fv(n){return Fv[" "](n),n}Fv[" "]=function(){};var Lv,qb=ra("Opera"),Kc=ra("Trident")||ra("MSIE"),Wb=ra("Edge"),Ng=Wb||Kc,VE=ra("Gecko")&&!(-1!=Pf().toLowerCase().indexOf("webkit")&&!ra("Edge"))&&!(ra("Trident")||ra("MSIE"))&&!ra("Edge"),Zb=-1!=Pf().toLowerCase().indexOf("webkit")&&!ra("Edge");function Kb(){var n=Zt.document;return n?n.documentMode:void 0}e:{var Vv="",Uv=function(){var n=Pf();return VE?/rv:([^\);]+)(\)|;)/.exec(n):Wb?/Edge\/([\d\.]+)/.exec(n):Kc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zb?/WebKit\/(\S+)/.exec(n):qb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Uv&&(Vv=Uv?Uv[1]:""),Kc){var Bv=Kb();if(null!=Bv&&Bv>parseFloat(Vv)){Lv=String(Bv);break e}}Lv=Vv}var Yb=Zt.document&&Kc&&(Kb()||parseInt(Lv,10))||void 0;function Of(n,e){if(ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VE){e:{try{Fv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Of.$.h.call(this)}}var Qb={2:"touch",3:"pen",4:"mouse"};Of.prototype.h=function(){Of.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),Jb=0;function Xb(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Jb,this.fa=this.ia=!1}function Uu(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Pg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $v(n){const e={};for(const t in n)e[t]=n[t];return e}const Hv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gv(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Hv.length;u++)t=Hv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Og(n){this.src=n,this.g={},this.h=0}function zv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=FE(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Uu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jE(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Og.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=jE(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Xb(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var qv="closure_lm_"+(1e6*Math.random()|0),Wv={};function $E(n,e,t,r,s){if(r&&r.once)return Vd(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)$E(n,e[u],t,r,s);return null}return t=Zv(t),n&&n[kf]?n.O(e,t,Zc(r)?!!r.capture:!!r,s):HE(n,e,t,!1,r,s)}function HE(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Zc(s)?!!s.capture:!!s,m=Lf(n);if(m||(n[qv]=m=new Og(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function eT(){const e=tT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)LE||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(vo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Vd(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Vd(n,e[u],t,r,s);return null}return t=Zv(t),n&&n[kf]?n.P(e,t,Zc(r)?!!r.capture:!!r,s):HE(n,e,t,!0,r,s)}function GE(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)GE(n,e[u],t,r,s);else r=Zc(r)?!!r.capture:!!r,t=Zv(t),n&&n[kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jE(u=n.g[e],t,r,s))&&(Uu(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Lf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jE(e,t,r,s)),(t=-1<n?e[n]:null)&&Ff(t))}function Ff(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[kf])zv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Lf(e))?(zv(t,n),0==t.h&&(t.src=null,e[qv]=null)):Uu(n)}}}function vo(n){return n in Wv?Wv[n]:Wv[n]="on"+n}function tT(n,e){if(n.fa)n=!0;else{e=new Of(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ff(n),n=t.call(r,e)}return n}function Lf(n){return(n=n[qv])instanceof Og?n:null}var Yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(n){return"function"==typeof n?n:(n[Yc]||(n[Yc]=function(e){return n.handleEvent(e)}),n[Yc])}function ii(){Vu.call(this),this.i=new Og(this),this.S=this,this.J=null}function li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ci(e,n);else if(e instanceof ci)e.target=e.target||n;else{var s=e;Gv(e=new ci(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=Qc(l,r,!0,e)&&s}if(s=Qc(l=e.g=n,r,!0,e)&&s,s=Qc(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Qc(l=e.g=t[u],r,!1,e)&&s}function Qc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,_=l.la||l.src;l.ia&&zv(n.i,l),s=!1!==m.call(_,r)&&s}}return s&&!r.defaultPrevented}ii.prototype[kf]=!0,ii.prototype.removeEventListener=function(n,e,t,r){GE(this,n,e,t,r)},ii.prototype.N=function(){if(ii.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Uu(t[r]);delete n.g[e],n.h--}}this.J=null},ii.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ii.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ud=Zt.JSON.stringify;class nT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function rT(){var n=Vf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class zE{constructor(){this.h=this.g=null}add(e,t){const r=Kv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Kv=new nT(()=>new Yv,n=>n.reset());class Yv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qE(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Qv(n){Zt.setTimeout(()=>{throw n},0)}let Jc,Bd=!1,Vf=new zE,kg=()=>{const n=Zt.Promise.resolve(void 0);Jc=()=>{n.then(iT)}};var iT=()=>{for(var n;n=rT();){try{n.h.call(n.g)}catch(t){Qv(t)}var e=Kv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bd=!1};function Fg(n,e){ii.call(this),this.h=n||1,this.g=e||Zt,this.j=ki(this.qb,this),this.l=Date.now()}function Jv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Xv(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function e_(n){n.g=Xv(()=>{n.g=null,n.i&&(n.i=!1,e_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Qe=Fg.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),li(this,"tick"),this.ga&&(Jv(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Fg.$.N.call(this),Jv(this),delete this.g};class t_ extends Vu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:e_(this)}N(){super.N(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(n){Vu.call(this),this.h=n,this.g={}}var WE=[];function n_(n,e,t,r){Array.isArray(t)||(t&&(WE[0]=t.toString()),t=WE);for(var s=0;s<t.length;s++){var u=$E(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function r_(n){Pg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ff(e)},n),n.g={}}function Lg(){this.g=!0}function $d(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Ud(t)}catch{return e}}(n,t)+(r?" "+r:"")})}jd.prototype.N=function(){jd.$.N.call(this),r_(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lg.prototype.Ea=function(){this.g=!1},Lg.prototype.info=function(){};var Tr={},Xc=null;function Vg(){return Xc=Xc||new ii}function QE(n){ci.call(this,Tr.Ta,n)}function Ug(n){const e=Vg();li(e,new QE(e))}function oT(n,e){ci.call(this,Tr.STAT_EVENT,n),this.stat=e}function Ti(n){const e=Vg();li(e,new oT(e,n))}function Bg(n,e){ci.call(this,Tr.Ua,n),this.size=e}function qa(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}Tr.Ta="serverreachability",Tr.STAT_EVENT="statevent",Tr.Ua="timingevent";var jg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$g={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function JE(){}var Hg,Uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function o_(){ci.call(this,"d")}function Bf(){ci.call(this,"c")}function jf(){}function Bu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new jd(this),this.P=UM,this.V=new Fg(n=Ng?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gg}function Gg(){this.i=null,this.g="",this.h=!1}jf.prototype.g=function(){return new XMLHttpRequest},jf.prototype.i=function(){return{}},Hg=new jf;var UM=45e3,zg={},qg={};function Wg(n,e,t){n.L=1,n.v=Gf(Wa(e)),n.s=t,n.S=!0,el(n,null)}function el(n,e){n.G=Date.now(),Zg(n),n.A=Wa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),dT(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Gg,n.g=E_(n.l,t?e:null,!n.s),0<n.O&&(n.M=new t_(ki(n.Pa,n,n.g),n.O)),n_(n.U,n.g,"readystatechange",n.nb),e=n.I?$v(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ug(),function ZE(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),_=0;_<m.length;_++){var b=m[_].split("=");if(1<b.length){var T=b[0];b=b[1];var P=T.split("_");l=2<=P.length&&"type"==P[1]?l+(T+"=")+b+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function a_(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=u_(n,t),s==qg){4==e&&(n.o=4,Ti(14),r=!1),$d(n.j,n.m,null,"[Incomplete Response]");break}if(s==zg){n.o=4,Ti(15),$d(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}$d(n.j,n.m,s,null),l_(n,s)}XE(n)&&s!=qg&&s!=zg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ti(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jf(e),e.M=!0,Ti(11))):($d(n.j,n.m,t,"[Invalid Chunked Response]"),tl(n),$f(n))}function u_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qg:(t=Number(e.substring(t,r)),isNaN(t)?zg:(r+=1)+t>e.length?qg:(e=e.slice(r,r+t),n.C=r+t,e))}function Zg(n){n.Y=Date.now()+n.P,eI(n,n.P)}function eI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qa(ki(n.lb,n),e)}function c_(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function $f(n){0==n.l.H||n.J||yT(n.l,n)}function tl(n){c_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Jv(n.V),r_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function l_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Wf(t.i,n)))if(!n.K&&Wf(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sm(t),Qf(t)}im(t),Ti(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=qa(ki(t.ib,t),6e3));if(1>=hT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else sl(t,11)}else if((n.K||t.g==n)&&sm(t),!Ld(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let b=s[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const T=b[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const P=b[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const q=b[5];null!=q&&"number"==typeof q&&0<q&&(t.L=r=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ee=n.g;if(ee){const _e=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var u=r.i;u.g||-1==_e.indexOf("spdy")&&-1==_e.indexOf("quic")&&-1==_e.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Qg(u,u.h),u.h=null))}if(r.F){const Ve=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,Pn(r.I,r.F,Ve))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=_I(r,r.J?r.pa:null,r.Y),l.K){uI(r.i,l);var m=l,_=r.L;_&&m.setTimeout(_),m.B&&(c_(m),Zg(m)),r.g=l}else Ka(r);0<t.j.length&&rm(t)}else"stop"!=b[0]&&"close"!=b[0]||sl(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?sl(t,7):v_(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}Ug()}catch{}}function rI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ag(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ag(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ag(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Qe=Bu.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==ia(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const T=ia(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Ng||this.g&&(this.h.h||this.g.ja()||nm(this.g)))){this.J||4!=T||7==e||Ug(),c_(this);var t=this.g.da();this.ca=t;t:if(XE(this)){var r=nm(this.g);n="";var s=r.length,u=4==ia(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),$f(this);var l="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function KE(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ld(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ti(12),tl(this),$f(this);break e}$d(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,l_(this,t)}this.S?(a_(this,T,l),Ng&&this.i&&3==T&&(n_(this.U,this.V,"tick",this.mb),this.V.start())):($d(this.j,this.m,l,null),l_(this,l)),4==T&&tl(this),this.i&&!this.J&&(4==T?yT(this.l,this):(this.i=!1,Zg(this)))}else(function mT(n){const e={};n=(n.g&&2<=ia(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ld(n[r]))continue;var t=qE(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function BE(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),tl(this),$f(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=ia(this.g),e=this.g.ja();this.C<e.length&&(c_(this),a_(this,n,e),this.i&&4!=n&&Zg(this))}},Qe.cancel=function(){this.J=!0,tl(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function YE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ug(),Ti(17)),tl(this),this.o=2,$f(this)):eI(this,this.Y-n)};var d_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nl){this.h=n.h,Hf(this,n.j),this.s=n.s,this.g=n.g,Kg(this,n.m),this.l=n.l;var e=n.i,t=new Yg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),h_(this,t),this.o=n.o}else n&&(e=String(n).match(d_))?(this.h=!1,Hf(this,e[1]||"",!0),this.s=Hd(e[2]||""),this.g=Hd(e[3]||"",!0),Kg(this,e[4]),this.l=Hd(e[5]||"",!0),h_(this,e[6]||"",!0),this.o=Hd(e[7]||"")):(this.h=!1,this.i=new Yg(null,this.h))}function Wa(n){return new nl(n)}function Hf(n,e,t){n.j=t?Hd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function h_(n,e,t){e instanceof Yg?(n.i=e,function HM(n,e){e&&!n.j&&(rl(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(cT(this,r),dT(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=zf(e,jM)),n.i=new Yg(e,n.h))}function Pn(n,e,t){n.i.set(e,t)}function Gf(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zf(e,uT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zf(e,uT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(zf(t,"/"==t.charAt(0)?BM:sI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zf(t,$M)),n.join("")};var uT=/[#\/\?@]/g,sI=/[#\?:]/g,BM=/[#\?]/g,jM=/[#\?@]/g,$M=/#/g;function Yg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rl(n){n.g||(n.g=new Map,n.h=0,n.i&&function iI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cT(n,e){rl(n),e=Za(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lT(n,e){return rl(n),e=Za(n,e),n.g.has(e)}function dT(n,e,t){cT(n,e),0<t.length&&(n.i=null,n.g.set(Za(n,e),xg(t)),n.h+=t.length)}function Za(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qf(n){this.l=n||aI,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ka&&Zt.g.Ka()&&Zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Yg.prototype).add=function(n,e){rl(this),this.i=null,n=Za(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){rl(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Qe.ta=function(){rl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Qe.Z=function(n){rl(this);let e=[];if("string"==typeof n)lT(this,n)&&(e=e.concat(this.g.get(Za(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return rl(this),this.i=null,lT(this,n=Za(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var aI=10;function f_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hT(n){return n.h?1:n.g?n.g.size:0}function Wf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Qg(n,e){n.g?n.g.add(e):n.h=e}function uI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fT(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return xg(n.i)}qf.prototype.cancel=function(){if(this.i=fT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,GM=class{stringify(n){return Zt.JSON.stringify(n,void 0)}parse(n){return Zt.JSON.parse(n,void 0)}};function pT(){this.g=new GM}function gT(n,e,t){const r=t||"";try{rI(n,function(s,u){let l=s;Zc(s)&&(l=Ud(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Xg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function em(n){this.l=n.fc||null,this.j=n.ob||!1}function p_(n,e){ii.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}em.prototype.g=function(){return new p_(this.l,this.j)},em.prototype.i=(n={},function(){return n});var cI=0;function lI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kf(n)}function Kf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=p_.prototype).open=function(n,e){if(this.readyState!=cI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kf(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=cI},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kf(this)),this.g&&(this.readyState=3,Kf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zf(this):Kf(this),3==this.readyState&&lI(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,Zf(this))},Qe.Ya=function(n){this.g&&(this.response=n,Zf(this))},Qe.ka=function(){this.g&&Zf(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var zM=Zt.JSON.parse;function mr(n){ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g_,this.L=this.M=!1}var g_="",dI=/^https?$/i,qM=["POST","PUT"];function hI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tm(n),m_(n)}function tm(n){n.F||(n.F=!0,li(n,"complete"),li(n,"error"))}function fI(n){if(n.h&&typeof Rf<"u"&&(!n.C[1]||4!=ia(n)||2!=n.da()))if(n.v&&4==ia(n))Xv(n.La,0,n);else if(li(n,"readystatechange"),4==ia(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(d_)[1]||null;!s&&Zt.self&&Zt.self.location&&(s=Zt.self.location.protocol.slice(0,-1)),r=!dI.test(s?s.toLowerCase():"")}t=r}if(t)li(n,"complete"),li(n,"success");else{n.m=6;try{var u=2<ia(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",tm(n)}}finally{m_(n)}}}function m_(n,e){if(n.g){cs(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||li(n,"ready");try{t.onreadystatechange=r}catch{}}}function cs(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function ia(n){return n.g?n.g.readyState:0}function nm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case g_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pI(n){let e="";return Pg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Yf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=pI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Gd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function y_(n){this.Ga=0,this.j=[],this.l=new Lg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gd("baseRetryDelayMs",5e3,n),this.hb=Gd("retryDelaySeedMs",1e4,n),this.eb=Gd("forwardChannelMaxRetries",2,n),this.xa=Gd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new qf(n&&n.concurrentRequestLimit),this.Ja=new pT,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function v_(n){if(__(n),3==n.H){var e=n.W++,t=Wa(n.I);if(Pn(t,"SID",n.K),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),il(n,t),(e=new Bu(n,n.l,e)).L=2,e.v=Gf(Wa(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon)try{t=Zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=E_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zg(e)}vI(n)}function Qf(n){n.g&&(Jf(n),n.g.cancel(),n.g=null)}function __(n){Qf(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),sm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function rm(n){if(!f_(n.i)&&!n.m){n.m=!0;var e=n.Na;Jc||kg(),Bd||(Jc(),Bd=!0),Vf.add(e,n),n.C=0}}function mI(n,e){var t;t=e?e.m:n.W++;const r=Wa(n.I);Pn(r,"SID",n.K),Pn(r,"RID",t),Pn(r,"AID",n.V),il(n,r),n.o&&n.s&&Yf(r,n.o,n.s),t=new Bu(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=sa(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Qg(n.i,t),Wg(t,r,e)}function il(n,e){n.na&&Pg(n.na,function(t,r){Pn(e,r,t)}),n.h&&rI({},function(t,r){Pn(e,r,t)})}function sa(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ki(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let _=0;_<t;_++){let b=s[_].g;const T=s[_].map;if(b-=u,0>b)u=Math.max(0,s[_].g-100),m=!1;else try{gT(T,l,"req"+b+"_")}catch{r&&r(T)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Ka(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jc||kg(),Bd||(Jc(),Bd=!0),Vf.add(e,n),n.A=0}}function im(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=qa(ki(n.Ma,n),yI(n,n.A)),n.A++,0))}function Jf(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function w_(n){n.g=new Bu(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wa(n.wa);Pn(e,"RID","rpc"),Pn(e,"SID",n.K),Pn(e,"AID",n.V),Pn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Pn(e,"TO",n.qa),Pn(e,"TYPE","xmlhttp"),il(n,e),n.o&&n.s&&Yf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Gf(Wa(e)),t.s=null,t.S=!0,el(t,n)}function sm(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function yT(n,e){var t=null;if(n.g==e){sm(n),Jf(n),n.g=null;var r=2}else{if(!Wf(n.i,e))return;t=e.F,uI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;li(r=Vg(),new Bg(r,t)),rm(n)}else Ka(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function gI(n,e){return!(hT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=qa(ki(n.Na,n,e),yI(n,n.C)),n.C++,0)))}(n,e)||2==r&&im(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:sl(n,5);break;case 4:sl(n,10);break;case 3:sl(n,6);break;default:sl(n,2)}}function yI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function sl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ki(n.pb,n);t||(t=new nl("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Hf(t,"https"),Gf(t)),function Jg(n,e){const t=new Lg;if(Zt.Image){const r=new Image;r.onload=Nf(Xg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Nf(Xg,t,r,"TestLoadImage: error",!1,e),r.onabort=Nf(Xg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nf(Xg,t,r,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ti(2);n.H=0,n.h&&n.h.za(e),vI(n),__(n)}function vI(n){if(n.H=0,n.ma=[],n.h){const e=fT(n.i);(0!=e.length||0!=n.j.length)&&(Rg(n.ma,e),Rg(n.ma,n.j),n.i.i.length=0,xg(n.j),n.j.length=0),n.h.ya()}}function _I(n,e,t){var r=t instanceof nl?Wa(t):new nl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Kg(r,r.m);else{var s=Zt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new nl(null);r&&Hf(u,r),e&&(u.g=e),s&&Kg(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Pn(r,t,e),Pn(r,"VER",n.ra),il(n,r),r}function E_(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Ha&&!n.va?new em({ob:!0}):n.va)).Oa(n.J),e}function Xf(){if(Kc&&!(10<=Number(Yb)))throw Error("Environmental error: no available transport.")}function ls(n,e){ii.call(this),this.g=new y_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ld(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ld(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ju(this)}function I_(n){o_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _T(){Bf.call(this),this.status=1}function ju(n){this.g=n}function js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function om(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function En(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Qe=mr.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=function s_(n){return n.h||(n.h=n.i())}(this.u?this.u:Hg),this.g.onreadystatechange=ki(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void hI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Zt.FormData&&n instanceof Zt.FormData,!(0<=FE(qM,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cs(this),0<this.B&&((this.L=function _o(n){return Kc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.ua,this)):this.A=Xv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){hI(this,u)}},Qe.ua=function(){typeof Rf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,li(this,"complete"),li(this,"abort"),m_(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),m_(this,!0)),mr.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?fI(this):this.kb())},Qe.kb=function(){fI(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<ia(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zM(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=y_.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Bu(this,this.l,n);let u=this.s;if(this.U&&(u?(u=$v(u),Gv(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sa(this,s,e),Pn(t=Wa(this.I),"RID",n),Pn(t,"CVER",22),this.F&&Pn(t,"X-HTTP-Session-Id",this.F),il(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(pI(u)))+"&"+e:this.o&&Yf(t,this.o,u)),Qg(this.i,s),this.bb&&Pn(t,"TYPE","init"),this.P?(Pn(t,"$req",e),Pn(t,"SID","null"),s.aa=!0,Wg(s,t,null)):Wg(s,t,e),this.H=2}}else 3==this.H&&(n?mI(this,n):0==this.j.length||f_(this.i)||mI(this))},Qe.Ma=function(){if(this.u=null,w_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=qa(ki(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ti(10),Qf(this),w_(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Qf(this),im(this),Ti(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ti(2)):(this.l.info("Failed to ping google.com"),Ti(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=function vT(){}.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},Xf.prototype.g=function(n,e){return new ls(n,e)},ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ti(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_I(n,null,n.Y),rm(n)},ls.prototype.close=function(){v_(this.g)},ls.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ud(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rm(e)},ls.prototype.N=function(){this.g.h=null,delete this.j,v_(this.g),delete this.g,ls.$.N.call(this)},ju.prototype.Ba=function(){li(this.g,"a")},ju.prototype.Aa=function(n){li(this.g,new I_(n))},ju.prototype.za=function(n){li(this.g,new _T)},ju.prototype.ya=function(){li(this.g,"b")},js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},js.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)om(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){om(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){om(this,r),s=0;break}}this.h=s,this.i+=e},js.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var EI={};function zd(n){return-128<=n&&128>n?function zb(n,e){var t=EI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new En([0|e],0>e?-1:0)}):new En([0|n],0>n?-1:0)}function ds(n){if(isNaN(n)||!isFinite(n))return qd;if(0>n)return di(ds(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=C_;return new En(e,0)}var C_=4294967296,qd=zd(0),II=zd(1),wT=zd(16777216);function $u(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hs(n){return-1==n.h}function di(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new En(t,~n.h).add(II)}function am(n,e){return n.add(di(e))}function um(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cm(n,e){this.g=n,this.h=e}function b_(n,e){if($u(e))throw Error("division by zero");if($u(n))return new cm(qd,qd);if(hs(n))return e=b_(di(n),e),new cm(di(e.g),di(e.h));if(hs(e))return e=b_(n,di(e)),new cm(di(e.g),e.h);if(30<n.g.length){if(hs(n)||hs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=II,r=e;0>=r.X(n);)t=ET(t),r=ET(r);var s=ep(t,1),u=ep(r,1);for(r=ep(r,2),t=ep(t,2);!$u(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=ep(r,1),t=ep(t,1)}return e=am(n,s.R(e)),new cm(s,e)}for(s=qd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=ds(t)).R(e);hs(l)||0<l.X(n);)l=(u=ds(t-=r)).R(e);$u(u)&&(u=II),s=s.add(u),n=am(n,l)}return new cm(s,n)}function ET(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new En(t,n.h)}function ep(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new En(s,n.h)}(Qe=En.prototype).ea=function(){if(hs(this))return-di(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:C_+r)*e,e*=C_}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if($u(this))return"0";if(hs(this))return"-"+di(this).toString(n);for(var e=ds(Math.pow(n,6)),t=this,r="";;){var s=b_(t,e).g,u=((0<(t=am(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if($u(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return hs(n=am(this,n))?-1:$u(n)?0:1},Qe.abs=function(){return hs(this)?di(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new En(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if($u(this)||$u(n))return qd;if(hs(this))return hs(n)?di(this).R(di(n)):di(di(this).R(n));if(hs(n))return di(this.R(di(n)));if(0>this.X(wT)&&0>n.X(wT))return ds(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(s)>>>16,_=65535&n.D(s);t[2*r+2*s]+=l*_,um(t,2*r+2*s),t[2*r+2*s+1]+=u*_,um(t,2*r+2*s+1),t[2*r+2*s+1]+=l*m,um(t,2*r+2*s+1),t[2*r+2*s+2]+=u*m,um(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new En(t,0)},Qe.gb=function(n){return b_(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new En(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new En(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new En(t,this.h^n.h)},Xf.prototype.createWebChannel=Xf.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,jg.NO_ERROR=0,jg.TIMEOUT=8,jg.HTTP_ERROR=6,$g.COMPLETE="complete",JE.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",ii.prototype.listen=ii.prototype.O,mr.prototype.listenOnce=mr.prototype.P,mr.prototype.getLastError=mr.prototype.Sa,mr.prototype.getLastErrorCode=mr.prototype.Ia,mr.prototype.getStatus=mr.prototype.da,mr.prototype.getResponseJson=mr.prototype.Wa,mr.prototype.getResponseText=mr.prototype.ja,mr.prototype.send=mr.prototype.ha,mr.prototype.setWithCredentials=mr.prototype.Oa,js.prototype.digest=js.prototype.l,js.prototype.reset=js.prototype.reset,js.prototype.update=js.prototype.j,En.prototype.add=En.prototype.add,En.prototype.multiply=En.prototype.R,En.prototype.modulo=En.prototype.gb,En.prototype.compare=En.prototype.X,En.prototype.toNumber=En.prototype.ea,En.prototype.toString=En.prototype.toString,En.prototype.getBits=En.prototype.D,En.fromNumber=ds,En.fromString=function D_(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return di(D_(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ds(Math.pow(e,8)),r=qd,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=ds(Math.pow(e,u)),r=r.R(u).add(ds(l))):r=(r=r.R(t)).add(ds(l))}return r};var WM=us.createWebChannelTransport=function(){return new Xf},IT=us.getStatEventTarget=function(){return Vg()},Wd=us.ErrorCode=jg,DT=us.EventType=$g,CT=us.Event=Tr,T_=us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ol=us.FetchXmlHttpFactory=em,tp=us.WebChannel=JE,S_=us.XhrIo=mr,A_=us.Md5=js,Zd=us.Integer=En;class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Ya="9.23.0";const al=new go.Yd("@firebase/firestore");function DI(){return al.logLevel}function Le(n,...e){if(al.logLevel<=go.in.DEBUG){const t=e.map(M_);al.debug(`Firestore (${Ya}): ${n}`,...t)}}function yr(n,...e){if(al.logLevel<=go.in.ERROR){const t=e.map(M_);al.error(`Firestore (${Ya}): ${n}`,...t)}}function $s(n,...e){if(al.logLevel<=go.in.WARN){const t=e.map(M_);al.warn(`Firestore (${Ya}): ${n}`,...t)}}function M_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function gt(n,e){n||rt()}function We(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class R_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class N_{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new N_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function TT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class SI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=TT(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function np(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Xn(0,0))}static max(){return new yt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends rp{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const QM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends rp{construct(e,t,r){return new Sr(e,t,r)}static isValidIdentifier(e){return QM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(t)}static emptyPath(){return new Sr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(fn.fromString(e))}static fromName(e){return new Ze(fn.fromString(e).popFirst(5))}static empty(){return new Ze(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new fn(e.slice()))}}function y(n){return new I(n.readTime,n.key,-1)}class I{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new I(yt.min(),Ze.empty(),-1)}static max(){return new I(yt.max(),Ze.empty(),-1)}}function C(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function B(n){return K.apply(this,arguments)}function K(){return K=(0,Ee.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==A)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),K.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,r)=>{t(e)})}static reject(e){return new L((t,r)=>{r(e)})}static waitFor(e){return new L((t,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&t()},_=>r(_))}),l=!0,u===s&&t()})}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next(s=>s?L.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new L((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let _=0;_<u;_++){const b=_;t(e[b]).next(T=>{l[b]=T,++m,m===u&&r(l)},T=>s(T))}})}static doWhile(e,t){return new L((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function vt(n){return"IndexedDbTransactionError"===n.name}let wo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function O_(n){return null==n}function k_(n){return 0===n&&1/n==-1/0}function ox(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ax(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Zn{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xI(this.root,e,this.comparator,!1)}getReverseIterator(){return new xI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xI(this.root,e,this.comparator,!0)}}class xI{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Fi.RED,this.left=s??Fi.EMPTY,this.right=u??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Fi(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Fi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Fi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hs{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new Hs([])}unionWith(e){let t=new tr(Sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return np(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cx("Invalid base64 string: "+s):s}}(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yd(n){if(gt(!!n),"string"==typeof n){let e=0;const t=q1.exec(n);if(gt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ul(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function RI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function NI(n){const e=n.mapValue.fields.__previous_value__;return RI(e)?NI(e):e}function F_(n){const e=Yd(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class W1{constructor(e,t,r,s,u,l,m,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=b}}class Qd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qd&&e.projectId===this.projectId&&e.database===this.database}}const Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RI(n)?4:fx(n)?9007199254740991:10:rt()}function Gu(n,e){if(n===e)return!0;const t=Xd(n);if(t!==Xd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return F_(n).isEqual(F_(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Yd(r.timestampValue),l=Yd(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,ul(n.bytesValue).isEqual(ul(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Vr(r.geoPointValue.latitude)===Vr(s.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Vr(r.integerValue)===Vr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Vr(r.doubleValue),l=Vr(s.doubleValue);return u===l?k_(u)===k_(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return np(n.arrayValue.values||[],e.arrayValue.values||[],Gu);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(ox(u)!==ox(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Gu(u[m],l[m])))return!1;return!0}(n,e);default:return rt()}var s}function L_(n,e){return void 0!==(n.values||[]).find(t=>Gu(t,e))}function eh(n,e){if(n===e)return 0;const t=Xd(n),r=Xd(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Vr(s.integerValue||s.doubleValue),m=Vr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return lx(n.timestampValue,e.timestampValue);case 4:return lx(F_(n),F_(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(s,u){const l=ul(s),m=ul(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let _=0;_<l.length&&_<m.length;_++){const b=Ht(l[_],m[_]);if(0!==b)return b}return Ht(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ht(Vr(s.latitude),Vr(u.latitude));return 0!==l?l:Ht(Vr(s.longitude),Vr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let _=0;_<l.length&&_<m.length;++_){const b=eh(l[_],m[_]);if(b)return b}return Ht(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Jd.mapValue&&u===Jd.mapValue)return 0;if(s===Jd.mapValue)return 1;if(u===Jd.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),_=u.fields||{},b=Object.keys(_);m.sort(),b.sort();for(let T=0;T<m.length&&T<b.length;++T){const P=Ht(m[T],b[T]);if(0!==P)return P;const q=eh(l[m[T]],_[b[T]]);if(0!==q)return q}return Ht(m.length,b.length)}(n.mapValue,e.mapValue);default:throw rt()}}function lx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Yd(n),r=Yd(e),s=Ht(t.seconds,r.seconds);return 0!==s?s:Ht(t.nanos,r.nanos)}function hm(n){return MT(n)}function MT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Yd(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ul(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=MT(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${MT(r.fields[m])}`;return u+"}"}(n.mapValue):rt();var e}function ip(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xT(n){return!!n&&"integerValue"in n}function V_(n){return!!n&&"arrayValue"in n}function dx(n){return!!n&&"nullValue"in n}function hx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kI(n){return!!n&&"mapValue"in n}function U_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Kd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=U_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=U_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=U_(t)}setAll(e){let t=Sr.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,s),r={},s=[],t=m.popLast()}l?r[m.lastSegment()]=U_(l):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());kI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];kI(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Kd(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Li(U_(this.value))}}function mx(n){const e=[];return Kd(n.fields,(t,r)=>{const s=new Sr([t]);if(kI(r)){const u=mx(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Hs(e)}class nr{constructor(e,t,r,s,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new nr(e,0,yt.min(),yt.min(),yt.min(),Li.empty(),0)}static newFoundDocument(e,t,r,s){return new nr(e,1,t,yt.min(),r,s,0)}static newNoDocument(e,t){return new nr(e,2,t,yt.min(),yt.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,yt.min(),yt.min(),Li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,t){this.position=e,this.inclusive=t}}function yx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Ze.comparator(Ze.fromName(l.referenceValue),t.key):eh(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function vx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gu(n.position[t],e.position[t]))return!1;return!0}class fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _x{}class dn extends _x{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Q1(e,t,r):"array-contains"===t?new eP(e,r):"in"===t?new bx(e,r):"not-in"===t?new tP(e,r):"array-contains-any"===t?new nP(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new J1(e,r):new X1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eh(t,this.value)):null!==t&&Xd(this.value)===Xd(t)&&this.matchesComparison(eh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class An extends _x{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new An(e,t)}matches(e){return pm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pm(n){return"and"===n.op}function NT(n){return function wx(n){for(const e of n.filters)if(e instanceof An)return!1;return!0}(n)&&pm(n)}function PT(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+hm(n.value);if(NT(n))return n.filters.map(e=>PT(e)).join(",");{const e=n.filters.map(t=>PT(t)).join(",");return`${n.op}(${e})`}}function Ex(n,e){return n instanceof dn?(t=n,(r=e)instanceof dn&&t.op===r.op&&t.field.isEqual(r.field)&&Gu(t.value,r.value)):n instanceof An?function(t,r){return r instanceof An&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&Ex(u,r.filters[l]),!0)}(n,e):void rt();var t,r}function Dx(n){return n instanceof dn?`${(e=n).field.canonicalString()} ${e.op} ${hm(e.value)}`:n instanceof An?function(e){return e.op.toString()+" {"+e.getFilters().map(Dx).join(" ,")+"}"}(n):"Filter";var e}class Q1 extends dn{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class J1 extends dn{constructor(e,t){super(e,"in",t),this.keys=Cx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X1 extends dn{constructor(e,t){super(e,"not-in",t),this.keys=Cx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class eP extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return V_(t)&&L_(t.arrayValue,this.value)}}class bx extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&L_(this.value.arrayValue,t)}}class tP extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(L_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!L_(this.value.arrayValue,t)}}class nP extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!V_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>L_(this.value.arrayValue,r))}}class rP{constructor(e,t=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function OT(n,e=null,t=[],r=[],s=null,u=null,l=null){return new rP(n,e,t,r,s,u,l)}function sp(n){const e=We(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),O_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hm(r)).join(",")),e.dt=t}return e.dt}function B_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ex(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vx(n.startAt,e.startAt)&&vx(n.endAt,e.endAt)}function FI(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class cl{constructor(e,t=null,r=[],s=[],u=null,l="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=_,this.wt=null,this._t=null}}function gm(n){return new cl(n)}function Mx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function VI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function FT(n){return null!==n.collectionGroup}function op(n){const e=We(n);if(null===e.wt){e.wt=[];const t=VI(e),r=kT(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new fm(t)),e.wt.push(new fm(Sr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fm(Sr.keyField(),u))}}}return e.wt}function fs(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=OT(e.path,e.collectionGroup,op(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of op(e))t.push(new fm(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new th(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new th(e.startAt.position,e.startAt.inclusive):null;e._t=OT(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function LT(n,e){e.getFirstInequalityField(),VI(n);const t=n.filters.concat([e]);return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function UI(n,e,t){return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j_(n,e){return B_(fs(n),fs(e))&&n.limitType===e.limitType}function xx(n){return`${sp(fs(n))}|lt:${n.limitType}`}function VT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Dx(r)).join(", ")}]`),O_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hm(r)).join(",")),`Target(${t})`}(fs(n))}; limitType=${n.limitType})`}function $_(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ze.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of op(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const m=yx(s,u,l);return s.inclusive?m<=0:m<0}(t.startAt,op(t),r)||t.endAt&&!function(s,u,l){const m=yx(s,u,l);return s.inclusive?m>=0:m>0}(t.endAt,op(t),r)));var t,r}function Nx(n){return(e,t)=>{let r=!1;for(const s of op(n)){const u=iP(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function iP(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(s,u,l){const m=u.data.field(s),_=l.data.field(s);return null!==m&&null!==_?eh(m,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Kd(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return ax(this.inner)}size(){return this.innerSize}}const sP=new Zn(Ze.comparator);function Gs(){return sP}const Px=new Zn(Ze.comparator);function H_(...n){let e=Px;for(const t of n)e=e.insert(t.key,t);return e}function Ox(n){let e=Px;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zu(){return G_()}function kx(){return G_()}function G_(){return new ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const oP=new Zn(Ze.comparator),aP=new tr(Ze.comparator);function nn(...n){let e=aP;for(const t of n)e=e.add(t);return e}const uP=new tr(Ht);function Fx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k_(e)?"-0":e}}function Lx(n){return{integerValue:""+n}}function Vx(n,e){return function XM(n){return"number"==typeof n&&Number.isInteger(n)&&!k_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Lx(e):Fx(n,e)}class BI{constructor(){this._=void 0}}function cP(n,e,t){return n instanceof mm?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&RI(s)&&(s=NI(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof ap?Bx(n,e):n instanceof up?jx(n,e):function(r,s){const u=Ux(r,s),l=$x(u)+$x(r.gt);return xT(u)&&xT(r.gt)?Lx(l):Fx(r.serializer,l)}(n,e)}function lP(n,e,t){return n instanceof ap?Bx(n,e):n instanceof up?jx(n,e):t}function Ux(n,e){return n instanceof ym?xT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mm extends BI{}class ap extends BI{constructor(e){super(),this.elements=e}}function Bx(n,e){const t=Hx(e);for(const r of n.elements)t.some(s=>Gu(s,r))||t.push(r);return{arrayValue:{values:t}}}class up extends BI{constructor(e){super(),this.elements=e}}function jx(n,e){let t=Hx(e);for(const r of n.elements)t=t.filter(s=>!Gu(s,r));return{arrayValue:{values:t}}}class ym extends BI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function $x(n){return Vr(n.integerValue||n.doubleValue)}function Hx(n){return V_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hP{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $I{}function Gx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new _m(n.key,vr.none()):new vm(n.key,n.data,vr.none());{const t=n.data,r=Li.empty();let s=new tr(Sr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new dl(n.key,r,new Hs(s.toArray()),vr.none())}}function fP(n,e,t){n instanceof vm?function(r,s,u){const l=r.value.clone(),m=Wx(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof dl?function(r,s,u){if(!jI(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=Wx(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(qx(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function q_(n,e,t,r){return n instanceof vm?function(s,u,l,m){if(!jI(s.precondition,u))return l;const _=s.value.clone(),b=Zx(s.fieldTransforms,m,u);return _.setAll(b),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof dl?function(s,u,l,m){if(!jI(s.precondition,u))return l;const _=Zx(s.fieldTransforms,m,u),b=u.data;return b.setAll(qx(s)),b.setAll(_),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,jI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function pP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Ux(r.transform,s||null);null!=u&&(null===t&&(t=Li.empty()),t.set(r.field,u))}return t||null}function zx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&np(t,r,(s,u)=>function dP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ap&&r instanceof ap||t instanceof up&&r instanceof up?np(t.elements,r.elements,Gu):t instanceof ym&&r instanceof ym?Gu(t.gt,r.gt):t instanceof mm&&r instanceof mm);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vm extends $I{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class dl extends $I{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wx(n,e,t){const r=new Map;gt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,lP(l,m,t[s]))}return r}function Zx(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,cP(u,l,e))}return r}class _m extends $I{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BT extends $I{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jT{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&fP(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=q_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=q_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kx();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(s.key)?null:m;const _=Gx(l,m);null!==_&&r.set(s.key,_),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&np(this.mutations,e.mutations,(t,r)=>zx(t,r))&&np(this.baseMutations,e.baseMutations,(t,r)=>zx(t,r))}}class $T{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gt(e.mutations.length===r.length);let s=oP;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new $T(e,t,r,s)}}class HT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mP{constructor(e,t){this.count=e,this.unchangedNames=t}}var si,mn;function Yx(n){if(void 0===n)return yr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case si.OK:return ue.OK;case si.CANCELLED:return ue.CANCELLED;case si.UNKNOWN:return ue.UNKNOWN;case si.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case si.INTERNAL:return ue.INTERNAL;case si.UNAVAILABLE:return ue.UNAVAILABLE;case si.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case si.NOT_FOUND:return ue.NOT_FOUND;case si.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case si.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case si.ABORTED:return ue.ABORTED;case si.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case si.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case si.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(mn=si||(si={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class GT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return HI}static getOrCreateInstance(){return null===HI&&(HI=new GT),HI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let HI=null;const yP=new Zd([4294967295,4294967295],0);function Jx(n){const e=function Qx(){return new TextEncoder}().encode(n),t=new A_;return t.update(e),new Uint8Array(t.digest())}function Xx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zd([t,r],0),new Zd([s,u],0)]}class zT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new W_(`Invalid padding: ${t}`);if(r<0)throw new W_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new W_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new W_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Zd.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Zd.fromNumber(r)));return 1===s.compare(yP)&&(s=new Zd([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Jx(e),[r,s]=Xx(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new zT(u,s,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=Jx(e),[r,s]=Xx(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class W_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Z_{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,K_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Z_(yt.min(),s,new Zn(Ht),Gs(),nn())}}class K_{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new K_(r,t,nn(),nn(),nn())}}class GI{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class eR{constructor(e,t){this.targetId=e,this.Vt=t}}class tR{constructor(e,t,r=hi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class nR{constructor(){this.St=0,this.Dt=iR(),this.Ct=hi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),r=nn();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new K_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=iR()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vP{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gs(),this.zt=rR(),this.Wt=new Zn(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(FI(l))if(0===s){const m=new Ze(l.path);this.Yt(r,m,nr.newNoDocument(m,yt.min()))}else gt(1===s);else{const m=this.ie(r);if(m!==s){const _=this.re(e,m);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=GT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,T,P){var q,ee,_e,Ve,Fe,bt;const At={localCacheCount:T,existenceFilterCount:P.count},Dt=P.unchangedNames;return Dt&&(At.bloomFilter={applied:0===b,hashCount:null!==(q=Dt?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(Ve=null===(_e=null===(ee=Dt?.bits)||void 0===ee?void 0:ee.bitmap)||void 0===_e?void 0:_e.length)&&void 0!==Ve?Ve:0,padding:null!==(bt=null===(Fe=Dt?.bits)||void 0===Fe?void 0:Fe.padding)&&void 0!==bt?bt:0}),At}(_,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let _,b;try{_=ul(u).toUint8Array()}catch(T){if(T instanceof cx)return $s("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{b=new zT(_,l,m)}catch(T){return $s(T instanceof W_?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===b.It?1:s!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&FI(m.target)){const _=new Ze(m.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,nr.newNoDocument(_,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=nn();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(_=>{const b=this.se(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new Z_(e,t,this.Wt,this.jt,r);return this.jt=Gs(),this.zt=rR(),this.Wt=new Zn(Ht),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new nR,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new tr(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nR),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function rR(){return new Zn(Ze.comparator)}function iR(){return new Zn(Ze.comparator)}const _P=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),wP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EP=(()=>({and:"AND",or:"OR"}))();class IP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qT(n,e){return n.useProto3Json||O_(e)?e:{value:e}}function wm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DP(n,e){return wm(n,e.toTimestamp())}function Wr(n){return gt(!!n),yt.fromTimestamp(function(e){const t=Yd(e);return new Xn(t.seconds,t.nanos)}(n))}function WT(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oR(n){const e=fn.fromString(n);return gt(gR(e)),e}function Y_(n,e){return WT(n.databaseId,e.path)}function qu(n,e){const t=oR(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(uR(t))}function ZT(n,e){return WT(n.databaseId,e)}function Q_(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uR(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cR(n,e,t){return{name:Y_(n,e),fields:t.value.mapValue.fields}}function dR(n,e){return{documents:[ZT(n,e.path)]}}function YT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ZT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(_){if(0!==_.length)return pR(An.create(_,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(_){if(0!==_.length)return _.map(b=>{return{field:nh((T=b).field),direction:AP(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=qT(n,e.limit);var m,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function hR(n){let e=function aR(n){const e=oR(n);return 4===e.length?fn.emptyPath():uR(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gt(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const P=fR(T);return P instanceof An&&NT(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new fm(Em((P=T).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(T){let P;return P="object"==typeof T?T.value:T,O_(P)?null:P}(t.limit));let _=null;var T;t.startAt&&(_=new th((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new th(T.values||[],!T.before)}(t.endAt)),function Ax(n,e,t,r,s,u,l,m){return new cl(n,e,t,r,s,u,l,m)}(e,s,l,u,m,"F",_,b)}function fR(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Em(e.unaryFilter.field);return dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Em(e.unaryFilter.field);return dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Em(e.unaryFilter.field);return dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Em(e.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?dn.create(Em((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return An.create(e.compositeFilter.filters.map(t=>fR(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function AP(n){return _P[n]}function MP(n){return wP[n]}function xP(n){return EP[n]}function nh(n){return{fieldPath:n.canonicalString()}}function Em(n){return Sr.fromServerFormat(n.fieldPath)}function pR(n){return n instanceof dn?function(e){if("=="===e.op){if(hx(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NAN"}};if(dx(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hx(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NAN"}};if(dx(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(e.field),op:MP(e.op),value:e.value}}}(n):n instanceof An?function(e){const t=e.getFilters().map(r=>pR(r));return 1===t.length?t[0]:{compositeFilter:{op:xP(e.op),filters:t}}}(n):rt()}function RP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hl{constructor(e,t,r,s,u=yt.min(),l=yt.min(),m=hi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mR{constructor(e){this.fe=e}}function QT(n){const e=hR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?UI(e,e.limit,"L"):e}class hp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),k_(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ul(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?fx(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}hp.Ve=new hp;class BP{constructor(){this.rn=new rS}addToCollectionParentIndex(e,t){return this.rn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(I.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(I.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class rS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new tr(fn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tr(fn.comparator)).toArray()}}class Ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(41943040,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class pp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pp(0)}static Mn(){return new pp(-1)}}class VR{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HR{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&q_(r.mutation,s,Hs.empty(),Xn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const s=zu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=H_();return u.forEach((m,_)=>{l=l.insert(m,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=zu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,s){let u=Gs();const l=G_(),m=G_();return t.forEach((_,b)=>{const T=r.get(b.key);s.has(b.key)&&(void 0===T||T.mutation instanceof dl)?u=u.insert(b.key,b):void 0!==T?(l.set(b.key,T.mutation.getFieldMask()),q_(T.mutation,b,T.mutation.getFieldMask(),Xn.now())):l.set(b.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((b,T)=>l.set(b,T)),t.forEach((b,T)=>{var P;return m.set(b,new ZP(T,null!==(P=l.get(b))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(e,t){const r=G_();let s=new Zn((l,m)=>l-m),u=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let T=r.get(_)||Hs.empty();T=m.applyToLocalView(b,T),r.set(_,T);const P=(s.get(m.batchId)||nn()).add(_);s=s.insert(m.batchId,P)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),b=_.key,T=_.value,P=kx();T.forEach(q=>{if(!u.has(q)){const ee=Gx(t.get(q),r.get(q));null!==ee&&P.set(q,ee),u=u.add(q)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,P))}return L.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):L.resolve(zu());let m=-1,_=u;return l.next(b=>L.forEach(b,(T,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(T)?L.resolve():this.remoteDocumentCache.getEntry(e,T).next(q=>{_=_.insert(T,q)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,_,b,nn())).next(T=>({batchId:m,changes:Ox(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let s=H_();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=H_();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,m=>{const _=(b=t,T=m.child(s),new cl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((T,P)=>{u=u.insert(T,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,_)=>{const b=_.getKey();null===u.get(b)&&(u=u.insert(b,nr.newInvalidDocument(b)))});let l=H_();return u.forEach((m,_)=>{const b=s.get(m);void 0!==b&&q_(b.mutation,_,Hs.empty(),Xn.now()),$_(t,_)&&(l=l.insert(m,_))}),l})}}class KP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return L.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:QT(r.bundledQuery),readTime:Wr(r.readTime)}),L.resolve();var r}}class YP{constructor(){this.overlays=new Zn(Ze.comparator),this.ls=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zu();return L.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),L.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const s=zu(),u=t.length+1,l=new Ze(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const _=m.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&_.largestBatchId>r&&s.set(_.getKey(),_)}return L.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Zn((b,T)=>b-T);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=u.get(b.largestBatchId);null===T&&(T=zu(),u=u.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const m=zu(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>m.set(b,T)),!(m.size()>=s)););return L.resolve(m)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new HT(t,r));let u=this.ls.get(t);void 0===u&&(u=nn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class iS{constructor(){this.fs=new tr(Ai.ds),this.ws=new tr(Ai._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ai(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ai(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ze(new fn([])),r=new Ai(t,e),s=new Ai(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ze(new fn([])),r=new Ai(t,e),s=new Ai(t,e+1);let u=nn();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Ai(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ai{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ze.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Ze.comparator(e.key,t.key)}}class QP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new tr(Ai.ds)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new jT(u,t,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new Ai(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return L.resolve(l)}lookupMutationBatch(e,t){return L.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ai(t,0),s=new Ai(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(Ht);return t.forEach(s=>{const u=new Ai(s,0),l=new Ai(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),L.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ze.isDocumentKey(u)||(u=u.child(""));const l=new Ai(new Ze(u),0);let m=new tr(Ht);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===s&&(m=m.add(_.As)),!0)},l),L.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){gt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return L.forEach(t.mutations,s=>{const u=new Ai(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ai(t,0),s=this.Rs.firstAfterOrEqual(r);return L.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return L.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JP{constructor(e){this.Ds=e,this.docs=new Zn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=Gs();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():nr.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Gs();const l=t.path,m=new Ze(l.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:b,value:{document:T}}=_.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||C(y(T),r)<=0||(s.has(T.key)||$_(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(e,t,r,s){rt()}Cs(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XP(this)}getSize(e){return L.resolve(this.size)}}class XP extends VR{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class eO{constructor(e){this.persistence=e,this.xs=new ll(t=>sp(t),B_),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iS,this.targetCount=0,this.Ms=pp.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),L.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new pp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Fn(t),L.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),L.waitFor(u).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),L.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.ks.containsKey(t))}}class sS{constructor(e,t){this.$s={},this.overlays={},this.Os=new wo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eO(this),this.indexManager=new BP,this.remoteDocumentCache=new JP(r=>this.referenceDelegate.Ls(r)),this.serializer=new mR(t),this.qs=new KP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new QP(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const s=new tO(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return L.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class tO extends x{constructor(e){super(),this.currentSequenceNumber=e}}class XI{constructor(e){this.persistence=e,this.Qs=new iS,this.js=null}static zs(e){return new XI(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),L.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,r=>{const s=Ze.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return L.or([()=>L.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class cS{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=nn(),s=nn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new cS(e,t.fromCache,r,s)}}class zR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Mx(t))return L.resolve(null);let r=fs(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=UI(t,null,"F"),r=fs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=nn(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.ji(t,m);return this.zi(t,b,l,_.readTime)?this.Ki(e,UI(t,null,"F")):this.Wi(e,b,t,_)}))})))}Gi(e,t,r,s){return Mx(t)||s.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(DI()<=go.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),VT(t)),this.Wi(e,l,t,function p(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=yt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new I(s,Ze.empty(),e)}(s,-1)))})}ji(e,t){let r=new tr(Nx(e));return t.forEach((s,u)=>{$_(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return DI()<=go.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",VT(t)),this.Ui.getDocumentsMatchingQuery(e,t,I.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class rO{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Zn(Ht),this.Yi=new ll(u=>sp(u),B_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function WR(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Ee.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let _=nn();for(const b of s){l.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of u){m.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),lS.apply(this,arguments)}function ZR(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function oO(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bm(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,Ee.Z)(function*(n,e,t){const r=We(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!vt(l))throw l;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),dS.apply(this,arguments)}function nD(n,e,t){const r=We(n);let s=yt.min(),u=nn();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,_,b){const T=We(m),P=T.Yi.get(b);return void 0!==P?L.resolve(T.Ji.get(P)):T.Bs.getTargetData(_,b)}(r,l,fs(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:yt.min(),t?u:nn())).next(m=>(function JR(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function Rx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,ir:u})))}class mS{constructor(){this.activeTargetIds=function UT(){return uP}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tN{constructor(){this.Hr=new mS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cO{Yr(e){}shutdown(){}}class nN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sD=null;function vS(){return null===sD?sD=268435456+Math.round(2147483648*Math.random()):sD++,"0x"+sD.toString(16)}const lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yi="WebChannelConnection";class hO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=vS(),m=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const _={};return this.Eo(_,s,u),this.Ao(e,m,_,r).then(b=>(Le("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw $s("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${lO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=vS();return new Promise((l,m)=>{const _=new S_;_.setWithCredentials(!0),_.listenOnce(DT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Wd.NO_ERROR:const T=_.getResponseJson();Le(Yi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),l(T);break;case Wd.TIMEOUT:Le(Yi,`RPC '${e}' ${u} timed out`),m(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const P=_.getStatus();if(Le(Yi,`RPC '${e}' ${u} failed with status:`,P,"response text:",_.getResponseText()),P>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const ee=q?.error;if(ee&&ee.status&&ee.message){const _e=function(Ve){const Fe=Ve.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Fe)>=0?Fe:ue.UNKNOWN}(ee.status);m(new Te(_e,ee.message))}else m(new Te(ue.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le(Yi,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(s);Le(Yi,`RPC '${e}' ${u} sending request:`,s),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const s=vS(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WM(),m=IT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.xmlHttpFactory=new ol({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=u.join("");Le(Yi,`Creating RPC '${e}' stream ${s}: ${T}`,_);const P=l.createWebChannel(T,_);let q=!1,ee=!1;const _e=new dO({ro:Fe=>{ee?Le(Yi,`Not sending because RPC '${e}' stream ${s} is closed:`,Fe):(q||(Le(Yi,`Opening RPC '${e}' stream ${s} transport.`),P.open(),q=!0),Le(Yi,`RPC '${e}' stream ${s} sending:`,Fe),P.send(Fe))},oo:()=>P.close()}),Ve=(Fe,bt,At)=>{Fe.listen(bt,Dt=>{try{At(Dt)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return Ve(P,tp.EventType.OPEN,()=>{ee||Le(Yi,`RPC '${e}' stream ${s} transport opened.`)}),Ve(P,tp.EventType.CLOSE,()=>{ee||(ee=!0,Le(Yi,`RPC '${e}' stream ${s} transport closed`),_e.wo())}),Ve(P,tp.EventType.ERROR,Fe=>{ee||(ee=!0,$s(Yi,`RPC '${e}' stream ${s} transport errored:`,Fe),_e.wo(new Te(ue.UNAVAILABLE,"The operation could not be completed")))}),Ve(P,tp.EventType.MESSAGE,Fe=>{var bt;if(!ee){const At=Fe.data[0];gt(!!At);const Ft=At.error||(null===(bt=At[0])||void 0===bt?void 0:bt.error);if(Ft){Le(Yi,`RPC '${e}' stream ${s} received error:`,Ft);const Xt=Ft.status;let pn=function(Dp){const I1=si[Dp];if(void 0!==I1)return Yx(I1)}(Xt),Qi=Ft.message;void 0===pn&&(pn=ue.INTERNAL,Qi="Unknown error status: "+Xt+" with message "+Ft.message),ee=!0,_e.wo(new Te(pn,Qi)),P.close()}else Le(Yi,`RPC '${e}' stream ${s} received:`,At),_e._o(At)}}),Ve(m,CT.STAT_EVENT,Fe=>{Fe.stat===T_.PROXY?Le(Yi,`RPC '${e}' stream ${s} detected buffering proxy`):Fe.stat===T_.NOPROXY&&Le(Yi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_e.fo()},0),_e}}function oD(){return typeof document<"u"?document:null}function u0(n){return new IP(n,!0)}class _S{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iN{constructor(e,t,r,s,u,l,m,_){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _S(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ee.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Te(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fO extends iN{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function bP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),s=e.targetChange.targetIds||[],u=function(_,b){return _.useProto3Json?(gt(void 0===b||"string"==typeof b),hi.fromBase64String(b||"")):(gt(void 0===b||b instanceof Uint8Array),hi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(_){const b=void 0===_.code?ue.UNKNOWN:Yx(_.code);return new Te(b,_.message||"")}(l);t=new tR(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=qu(n,r.document.name),u=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):yt.min(),m=new Li({mapValue:{fields:r.document.fields}}),_=nr.newFoundDocument(s,u,l,m);t=new GI(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,s=qu(n,r.document),u=r.readTime?Wr(r.readTime):yt.min(),l=nr.newNoDocument(s,u);t=new GI([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=qu(n,r.document);t=new GI([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new mP(s,u);t=new eR(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?Wr(u.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Q_(this.serializer),t.addTarget=function(s,u){let l;const m=u.target;if(l=FI(m)?{documents:dR(s,m)}:{query:YT(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=sR(s,u.resumeToken);const _=qT(s,u.expectedCount);null!==_&&(l.expectedCount=_)}else if(u.snapshotVersion.compareTo(yt.min())>0){l.readTime=wm(s,u.snapshotVersion.toTimestamp());const _=qT(s,u.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function SP(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Q_(this.serializer),t.removeTarget=e,this.Wo(t)}}class pO extends iN{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function TP(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,s){let u=Wr(r.updateTime?r.updateTime:s);return u.isEqual(yt.min())&&(u=Wr(s)),new hP(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.cu(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Q_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function J_(n,e){let t;if(e instanceof vm)t={update:cR(n,e.key,e.value)};else if(e instanceof _m)t={delete:Y_(n,e.key)};else if(e instanceof dl)t={update:cR(n,e.key,e.data),updateMask:RP(e.fieldMask)};else{if(!(e instanceof BT))return rt();t={verify:Y_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof mm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ap)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof up)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ym)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:DP(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}(this.serializer,r))};this.Wo(t)}}class gO extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ue.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ue.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class yO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yr(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vO{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,Ee.Z)(function*(){var _;oh(l)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ee.Z)(function*(b){const T=We(b);T.vu.add(4),yield Tm(T),T.bu.set("Unknown"),T.vu.delete(4),yield c0(T)}),function(b){return _.apply(this,arguments)})(l))}))}),this.bu=new yO(r,s)}}function c0(n){return ES.apply(this,arguments)}function ES(){return ES=(0,Ee.Z)(function*(n){if(oh(n))for(const e of n.Ru)yield e(!0)}),ES.apply(this,arguments)}function Tm(n){return IS.apply(this,arguments)}function IS(){return IS=(0,Ee.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),IS.apply(this,arguments)}function aD(n,e){const t=We(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bS(t)?CS(t):Am(t).Ko()&&DS(t,e))}function l0(n,e){const t=We(n),r=Am(t);t.Au.delete(e),r.Ko()&&sN(t,e),0===t.Au.size&&(r.Ko()?r.jo():oh(t)&&t.bu.set("Unknown"))}function DS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Am(n).su(e)}function sN(n,e){n.Vu.qt(e),Am(n).iu(e)}function CS(n){n.Vu=new vP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Am(n).start(),n.bu.gu()}function bS(n){return oh(n)&&!Am(n).Uo()&&n.Au.size>0}function oh(n){return 0===We(n).vu.size}function oN(n){n.Vu=void 0}function _O(n){return TS.apply(this,arguments)}function TS(){return TS=(0,Ee.Z)(function*(n){n.Au.forEach((e,t)=>{DS(n,e)})}),TS.apply(this,arguments)}function wO(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,Ee.Z)(function*(n,e){oN(n),bS(n)?(n.bu.Iu(e),CS(n)):n.bu.set("Unknown")}),SS.apply(this,arguments)}function EO(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,Ee.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof tR&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uD(n,r)}else if(e instanceof GI?n.Vu.Ht(e):e instanceof eR?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield ZR(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const b=s.Au.get(_);b&&s.Au.set(_,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,_)=>{const b=s.Au.get(m);if(!b)return;s.Au.set(m,b.withResumeToken(hi.EMPTY_BYTE_STRING,b.snapshotVersion)),sN(s,m);const T=new hl(b.target,m,_,b.sequenceNumber);DS(s,T)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield uD(n,r)}var r}),AS.apply(this,arguments)}function uD(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,Ee.Z)(function*(n,e,t){if(!vt(e))throw e;n.vu.add(1),yield Tm(n),n.bu.set("Offline"),t||(t=()=>ZR(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield c0(n)}))}),MS.apply(this,arguments)}function aN(n,e){return e().catch(t=>uD(n,t,e))}function Sm(n){return xS.apply(this,arguments)}function xS(){return xS=(0,Ee.Z)(function*(n){const e=We(n),t=ah(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;IO(e);)try{const s=yield oO(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,DO(e,s)}catch(s){yield uD(e,s)}uN(e)&&cN(e)}),xS.apply(this,arguments)}function IO(n){return oh(n)&&n.Eu.length<10}function DO(n,e){n.Eu.push(e);const t=ah(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function uN(n){return oh(n)&&!ah(n).Uo()&&n.Eu.length>0}function cN(n){ah(n).start()}function CO(n){return RS.apply(this,arguments)}function RS(){return RS=(0,Ee.Z)(function*(n){ah(n).hu()}),RS.apply(this,arguments)}function bO(n){return NS.apply(this,arguments)}function NS(){return NS=(0,Ee.Z)(function*(n){const e=ah(n);for(const t of n.Eu)e.uu(t.mutations)}),NS.apply(this,arguments)}function TO(n,e,t){return PS.apply(this,arguments)}function PS(){return PS=(0,Ee.Z)(function*(n,e,t){const r=n.Eu.shift(),s=$T.from(r,e,t);yield aN(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Sm(n)}),PS.apply(this,arguments)}function SO(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,Ee.Z)(function*(n,e){var t;e&&ah(n).ou&&(yield(t=(0,Ee.Z)(function*(r,s){if(function Kx(n){switch(n){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}(u=s.code)&&u!==ue.ABORTED){const l=r.Eu.shift();ah(r).Qo(),yield aN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield Sm(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),uN(n)&&cN(n)}),OS.apply(this,arguments)}function lN(n,e){return kS.apply(this,arguments)}function kS(){return kS=(0,Ee.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=oh(t);t.vu.add(3),yield Tm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield c0(t)}),kS.apply(this,arguments)}function LS(){return LS=(0,Ee.Z)(function*(n,e){const t=We(n);e?(t.vu.delete(2),yield c0(t)):e||(t.vu.add(2),yield Tm(t),t.bu.set("Unknown"))}),LS.apply(this,arguments)}function Am(n){return n.Su||(n.Su=function(e,t,r){const s=We(e);return s.fu(),new fO(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:_O.bind(null,n),ao:wO.bind(null,n),nu:EO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Su.Qo(),bS(n)?CS(n):n.bu.set("Unknown")):(yield n.Su.stop(),oN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ah(n){return n.Du||(n.Du=function(e,t,r){const s=We(e);return s.fu(),new pO(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:CO.bind(null,n),ao:SO.bind(null,n),au:bO.bind(null,n),cu:TO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Du.Qo(),yield Sm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class VS{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,m=new VS(e,t,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(n,e){if(yr("AsyncQueue",`${e}: ${n}`),vt(n))return new Te(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class xm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=H_(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new xm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dN{constructor(){this.Cu=new Zn(Ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rm{constructor(e,t,r,s,u,l,m,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new Rm(e,t,xm.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class AO{constructor(){this.Nu=void 0,this.listeners=[]}}class MO{constructor(){this.queries=new ll(e=>xx(e),j_),this.onlineState="Unknown",this.ku=new Set}}function US(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new AO),s)try{u.Nu=yield t.onListen(r)}catch(l){const m=Mm(l,`Initialization of query '${VT(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&HS(t)}),BS.apply(this,arguments)}function jS(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),$S.apply(this,arguments)}function xO(n,e){const t=We(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&HS(t)}function RO(n,e,t){const r=We(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function HS(n){n.ku.forEach(e=>{e.next()})}class GS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Rm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Rm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class pN{constructor(e){this.key=e}}class gN{constructor(e){this.key=e}}class mN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=Nx(e),this.ec=new xm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new dN,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,m=!1;const _="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,b="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,P)=>{const q=s.get(T),ee=$_(this.query,P)?P:null,_e=!!q&&this.mutatedKeys.has(q.key),Ve=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Fe=!1;q&&ee?q.data.isEqual(ee.data)?_e!==Ve&&(r.track({type:3,doc:ee}),Fe=!0):this.rc(q,ee)||(r.track({type:2,doc:ee}),Fe=!0,(_&&this.tc(ee,_)>0||b&&this.tc(ee,b)<0)&&(m=!0)):!q&&ee?(r.track({type:0,doc:ee}),Fe=!0):q&&!ee&&(r.track({type:1,doc:q}),Fe=!0,(_||b)&&(m=!0)),Fe&&(ee?(l=l.add(ee),u=Ve?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,T)=>function(P,q){const ee=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return ee(P)-ee(q)}(b.type,T.type)||this.tc(b.doc,T.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,_=m!==this.Xu;return this.Xu=m,0!==u.length||_?{snapshot:new Rm(this.query,e.ec,s,u,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new gN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new pN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Rm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class OO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kO{constructor(e){this.key=e,this.fc=!1}}class FO{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ll(m=>xx(m),j_),this._c=new Map,this.mc=new Set,this.gc=new Zn(Ze.comparator),this.yc=new Map,this.Ic=new iS,this.Tc={},this.Ec=new Map,this.Ac=pp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LO(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,Ee.Z)(function*(n,e){const t=function pA(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.dc.nu=xO.bind(null,e.eventManager),e.dc.Pc=RO.bind(null,e.eventManager),e}(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield function Cm(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,L.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new hl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,fs(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield function qS(n,e,t,r,s){return WS.apply(this,arguments)}(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&aD(t.remoteStore,l)}return s}),zS.apply(this,arguments)}function WS(){return WS=(0,Ee.Z)(function*(n,e,t,r,s){n.Rc=(P,q,ee)=>{return(_e=(0,Ee.Z)(function*(Ve,Fe,bt,At){let Dt=Fe.view.sc(bt);Dt.zi&&(Dt=yield nD(Ve.localStore,Fe.query,!1).then(({documents:pn})=>Fe.view.sc(pn,Dt)));const Ft=At&&At.targetChanges.get(Fe.targetId),Xt=Fe.view.applyChanges(Dt,Ve.isPrimaryClient,Ft);return rA(Ve,Fe.targetId,Xt.cc),Xt.snapshot}),function(Ve,Fe,bt,At){return _e.apply(this,arguments)})(n,P,q,ee);var _e};const u=yield nD(n.localStore,e,!0),l=new mN(e,u.ir),m=l.sc(u.documents),_=K_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),b=l.applyChanges(m,n.isPrimaryClient,_);rA(n,t,b.cc);const T=new OO(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),WS.apply(this,arguments)}function VO(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,Ee.Z)(function*(n,e){const t=We(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!j_(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),l0(t.remoteStore,r.targetId),Nm(t,r.targetId)}).catch(B))):(Nm(t,r.targetId),yield bm(t.localStore,r.targetId,!0))}),ZS.apply(this,arguments)}function KS(){return KS=(0,Ee.Z)(function*(n,e,t){const r=function gA(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}(n);try{const s=yield function(u,l){const m=We(u),_=Xn.now(),b=l.reduce((q,ee)=>q.add(ee.key),nn());let T,P;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let ee=Gs(),_e=nn();return m.Zi.getEntries(q,b).next(Ve=>{ee=Ve,ee.forEach((Fe,bt)=>{bt.isValidDocument()||(_e=_e.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,ee)).next(Ve=>{T=Ve;const Fe=[];for(const bt of l){const At=pP(bt,T.get(bt.key).overlayedDocument);null!=At&&Fe.push(new dl(bt.key,At,mx(At.value.mapValue),vr.exists(!0)))}return m.mutationQueue.addMutationBatch(q,_,Fe,l)}).next(Ve=>{P=Ve;const Fe=Ve.applyToLocalDocumentSet(T,_e);return m.documentOverlayCache.saveOverlays(q,Ve.batchId,Fe)})}).then(()=>({batchId:P.batchId,changes:Ox(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let _=u.Tc[u.currentUser.toKey()];_||(_=new Zn(Ht)),_=_.insert(l,m),u.Tc[u.currentUser.toKey()]=_}(r,s.batchId,t),yield fl(r,s.changes),yield Sm(r.remoteStore)}catch(s){const u=Mm(s,"Failed to persist write");t.reject(u)}}),KS.apply(this,arguments)}function yN(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,Ee.Z)(function*(n,e){const t=We(n);try{const r=yield function sO(n,e){const t=We(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((T,P)=>{const q=s.get(P);if(!q)return;m.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,P)));let ee=q.withSequenceNumber(u.currentSequenceNumber);var _e,Ve,Fe;null!==e.targetMismatches.get(P)?ee=ee.withResumeToken(hi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(T.resumeToken,r)),s=s.insert(P,ee),Ve=ee,Fe=T,(0===(_e=q).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,ee))});let _=Gs(),b=nn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(function KR(n,e,t){let r=nn(),s=nn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Gs();return t.forEach((m,_)=>{const b=u.get(m);_.isFoundDocument()!==b.isFoundDocument()&&(s=s.add(m)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(m,_.readTime),l=l.insert(m,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),l=l.insert(m,_)):Le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",_.version)}),{nr:l,sr:s}})}(u,l,e.documentUpdates).next(T=>{_=T.nr,b=T.sr})),!r.isEqual(yt.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(T)}return L.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,b)).next(()=>_)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?gt(l.fc):s.removedDocuments.size>0&&(gt(l.fc),l.fc=!1))}),yield fl(t,r,e)}catch(r){yield B(r)}}),YS.apply(this,arguments)}function vN(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=We(u);m.onlineState=l;let _=!1;m.queries.forEach((b,T)=>{for(const P of T.listeners)P.Mu(l)&&(_=!0)}),_&&HS(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BO(n,e,t){return QS.apply(this,arguments)}function QS(){return QS=(0,Ee.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new Zn(Ze.comparator);l=l.insert(u,nr.newNoDocument(u,yt.min()));const m=nn().add(u),_=new Z_(yt.min(),new Map,new Zn(Ht),l,m);yield yN(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),iA(r)}else yield bm(r.localStore,e,!1).then(()=>Nm(r,e,t)).catch(B)}),QS.apply(this,arguments)}function jO(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,Ee.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const s=yield function iO(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,_,b){const T=_.batch,P=T.keys();let q=L.resolve();return P.forEach(ee=>{q=q.next(()=>b.getEntry(m,ee)).next(_e=>{const Ve=_.docVersions.get(ee);gt(null!==Ve),_e.version.compareTo(Ve)<0&&(T.applyToRemoteDocument(_e,_),_e.isValidDocument()&&(_e.setReadTime(_.commitVersion),b.addEntry(_e)))})}),q.next(()=>l.mutationQueue.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=nn();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(m=m.add(l.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);nA(t,r,null),tA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fl(t,s)}catch(s){yield B(s)}}),JS.apply(this,arguments)}function $O(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,Ee.Z)(function*(n,e,t){const r=We(n);try{const s=yield function(u,l){const m=We(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return m.mutationQueue.lookupMutationBatch(_,l).next(T=>(gt(null!==T),b=T.keys(),m.mutationQueue.removeMutationBatch(_,T))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>m.localDocuments.getDocuments(_,b))})}(r.localStore,e);nA(r,e,t),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fl(r,s)}catch(s){yield B(s)}}),XS.apply(this,arguments)}function tA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function nA(n,e,t){const r=We(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||_N(n,r)})}function _N(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(l0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),iA(n))}function rA(n,e,t){for(const r of t)r instanceof pN?(n.Ic.addReference(r.key,e),GO(n,r)):r instanceof gN?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||_N(n,r.key)):rt()}function GO(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),iA(n))}function iA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ze(fn.fromString(e)),r=n.Ac.next();n.yc.set(r,new kO(t)),n.gc=n.gc.insert(t,r),aD(n.remoteStore,new hl(fs(gm(t.path)),r,"TargetPurposeLimboResolution",wo.ct))}}function fl(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,Ee.Z)(function*(n,e,t){const r=We(n),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,_)=>{l.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){s.push(b);const T=cS.Li(_.targetId,b);u.push(T)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,Ee.Z)(function*(_,b){const T=We(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>L.forEach(b,q=>L.forEach(q.Fi,ee=>T.persistence.referenceDelegate.addReference(P,q.targetId,ee)).next(()=>L.forEach(q.Bi,ee=>T.persistence.referenceDelegate.removeReference(P,q.targetId,ee)))))}catch(P){if(!vt(P))throw P;Le("LocalStore","Failed to update sequence numbers: "+P)}for(const P of b){const q=P.targetId;if(!P.fromCache){const ee=T.Ji.get(q),Ve=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);T.Ji=T.Ji.insert(q,Ve)}}}),function(_,b){return m.apply(this,arguments)})(r.localStore,u))}),sA.apply(this,arguments)}function zO(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,Ee.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield WR(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Te(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fl(t,r.er)}var s}),oA.apply(this,arguments)}function qO(n,e){const t=We(n),r=t.yc.get(e);if(r&&r.fc)return nn().add(r.key);{let s=nn();const u=t._c.get(e);if(!u)return s;for(const l of u){const m=t.wc.get(l);s=s.unionWith(m.view.nc)}return s}}class d0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=u0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function qR(n,e,t,r){return new rO(n,e,t,r)}(this.persistence,new zR,e.initialUser,this.serializer)}createPersistence(e){return new sS(XI.zs,this.serializer)}createSharedClientState(e){return new tN}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pm{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>vN(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,r.syncEngine),yield function FS(n,e){return LS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MO}createDatastore(e){const t=u0(e.databaseInfo.databaseId),r=new hO(e.databaseInfo);return new gO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>vN(this.syncEngine,m,0),l=nN.D()?new nN:new cO,new vO(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,m,_,b){const T=new FO(r,s,u,l,m,_);return b&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=We(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Tm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sk{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Lr.UNAUTHENTICATED,this.clientId=SI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ee.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Le("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Mm(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function lD(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ee.Z)(function*(u){r.isEqual(u)||(yield WR(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yA.apply(this,arguments)}function vA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wA(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>lN(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>lN(e.remoteStore,u)),n._onlineComponents=e}),_A.apply(this,arguments)}function wA(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function CN(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;$s("Error using user provided cache. Falling back to memory cache: "+t),yield lD(n,new d0)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield lD(n,new d0);return n._offlineComponents}),EA.apply(this,arguments)}function dD(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield vA(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield vA(n,new Pm))),n._onlineComponents}),IA.apply(this,arguments)}function hD(n){return wA(n).then(e=>e.localStore)}function Om(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Ee.Z)(function*(n){const e=yield dD(n),t=e.eventManager;return t.onListen=LO.bind(null,e.syncEngine),t.onUnlisten=VO.bind(null,e.syncEngine),t}),CA.apply(this,arguments)}function AN(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,m,_){const b=new cD({next:P=>{u.enqueueAndForget(()=>jS(s,T));const q=P.docs.has(l);!q&&P.fromCache?_.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&P.fromCache&&m&&"server"===m.source?_.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(P)},error:P=>_.reject(P)}),T=new GS(gm(l.path),b,{includeMetadataChanges:!0,Ku:!0});return US(s,T)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function MN(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(s,u,l,m,_){const b=new cD({next:P=>{u.enqueueAndForget(()=>jS(s,T)),P.fromCache&&"server"===m.source?_.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),T=new GS(l,b,{includeMetadataChanges:!0,Ku:!0});return US(s,T)}(yield Om(n),n.asyncQueue,e,t,r)})),r.promise}function xN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const RN=new Map;function bA(n,e,t){if(!t)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PN(n){if(!Ze.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ON(n){if(Ze.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fD(n);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kN(n,e){if(e<=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class FN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function NN(n,e,t,r){if(!0===e&&!0===r)throw new Te(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new R_;switch(t.type){case"firstParty":return new bT(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RN.get(e);t&&(Le("ComponentProvider","Removing Datastore"),RN.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Vi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Wu extends Vi{constructor(e,t,r){super(e,t,gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Ze(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function pD(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=SI.A()),bA("doc","path",e),n instanceof h0){const r=fn.fromString(e,...t);return PN(r),new rr(n,null,new Ze(r))}{if(!(n instanceof rr||n instanceof Wu))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return PN(r),new rr(n.firestore,n instanceof Wu?n.converter:null,new Ze(r))}}function UN(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof rr||n instanceof Wu)&&(e instanceof rr||e instanceof Wu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TA(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof Vi&&e instanceof Vi&&n.firestore===e.firestore&&j_(n._query,e._query)&&n.converter===e.converter}class gk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _S(this,"async_queue_retry"),this.Xc=()=>{const t=oD();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=oD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=oD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!vt(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=VS.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function SA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class ir extends h0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new gk,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BN(this),this._firestoreClient.terminate()}}function Zr(n){return n._firestoreClient||BN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BN(n){var e,t,r;const s=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new W1(n._databaseId,m,n._persistenceKey,(b=s).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,xN(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new sk(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class Zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zu(hi.fromBase64String(e))}catch(t){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zu(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class gD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const Sk=/^__.*__$/;class Ak{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new vm(e,this.data,t,this.fieldTransforms)}}class HN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class mD{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _D(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(GN(this.ca)&&Sk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Mk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||u0(e)}ya(e,t,r,s=!1){return new mD({ca:e,methodName:t,ga:r,path:Sr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(n){const e=n._freezeSettings(),t=u0(n._databaseId);return new Mk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yD(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);RA("Data must be an object, but it was:",l,r);const m=WN(r,l);let _,b;if(u.merge)_=new Hs(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const P of u.mergeFields){const q=g0(e,P,t);if(!l.contains(q))throw new Te(ue.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);KN(T,q)||T.push(q)}_=new Hs(T),b=l.fieldTransforms.filter(P=>_.covers(P.field))}else _=null,b=l.fieldTransforms;return new Ak(new Li(m),_,b)}class p0 extends mp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p0}}function qN(n,e,t,r=!1){return vp(t,n.ya(r?4:3,e))}function vp(n,e){if(ZN(n=(0,an.m9)(n)))return RA("Unsupported field value:",e,n),WN(n,e);if(n instanceof mp)return function(t,r){if(!GN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let m=vp(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Vx(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Xn.fromDate(t);return{timestampValue:wm(r.serializer,s)}}if(t instanceof Xn){const s=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wm(r.serializer,s)}}if(t instanceof gD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zu)return{bytesValue:sR(r.serializer,t._byteString)};if(t instanceof rr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${fD(t)}`)}(n,e)}function WN(n,e){const t={};return ax(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kd(n,(r,s)=>{const u=vp(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ZN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof gD||n instanceof Zu||n instanceof rr||n instanceof mp)}function RA(n,e,t){if(!ZN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function g0(n,e,t){if((e=(0,an.m9)(e))instanceof pl)return e._internalPath;if("string"==typeof e)return vD(n,e);throw _D("Field path arguments must be of type string or ",n,!1,void 0,t)}const Pk=new RegExp("[~\\*/\\[\\]]");function vD(n,e,t){if(e.search(Pk)>=0)throw _D(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pl(...e.split("."))._internalPath}catch{throw _D(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _D(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||l)&&(_+=" (found",u&&(_+=` in field ${r}`),l&&(_+=` in document ${s}`),_+=")"),new Te(ue.INVALID_ARGUMENT,m+n+_)}function KN(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ok(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ok extends m0{data(){return super.data()}}function wD(n,e){return"string"==typeof e?vD(n,e):e instanceof pl?e._internalPath:e._delegate._internalPath}function YN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NA{}class y0 extends NA{}function uh(n,e,...t){let r=[];e instanceof NA&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof km).length,l=s.filter(m=>m instanceof v0).length;if(u>1||u>0&&l>0)throw new Te(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class v0 extends y0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new v0(e,t,r)}_apply(e){const t=this._parse(e);return e1(e._query,t),new Vi(e.firestore,e.converter,LT(e._query,t))}_parse(e){const t=yp(e.firestore);return function(s,u,l,m,_,b,T){let P;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){XN(T,b);const q=[];for(const ee of T)q.push(JN(m,s,ee));P={arrayValue:{values:q}}}else P=JN(m,s,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||XN(T,b),P=qN(l,"where",T,"in"===b||"not-in"===b);return dn.create(_,b,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class km extends NA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new km(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:An.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)e1(u,m),u=LT(u,m)}(e._query,t),new Vi(e.firestore,e.converter,LT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PA extends y0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PA(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new fm(s,u);return function(m,_){if(null===kT(m)){const b=VI(m);null!==b&&t1(0,b,_.field)}}(r,l),l}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new cl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ED extends y0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ED(e,t,r)}_apply(e){return new Vi(e.firestore,e.converter,UI(e._query,this._limit,this._limitType))}}class ID extends y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ID(e,t,r)}_apply(e){const t=QN(e,this.type,this._docOrFields,this._inclusive);return new Vi(e.firestore,e.converter,(s=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class DD extends y0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DD(e,t,r)}_apply(e){const t=QN(e,this.type,this._docOrFields,this._inclusive);return new Vi(e.firestore,e.converter,(s=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function QN(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof m0)return function(s,u,l,m,_){if(!m)throw new Te(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const T of op(s))if(T.field.isKeyField())b.push(ip(u,m.key));else{const P=m.data.field(T.field);if(RI(P))throw new Te(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const q=T.field.canonicalString();throw new Te(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}b.push(P)}return new th(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=yp(n.firestore);return function(u,l,m,_,b,T){const P=u.explicitOrderBy;if(b.length>P.length)throw new Te(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let ee=0;ee<b.length;ee++){const _e=b[ee];if(P[ee].field.isKeyField()){if("string"!=typeof _e)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof _e}`);if(!FT(u)&&-1!==_e.indexOf("/"))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${_e}' contains a slash.`);const Ve=u.path.child(fn.fromString(_e));if(!Ze.isDocumentKey(Ve))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Fe=new Ze(Ve);q.push(ip(l,Fe))}else{const Ve=qN(m,_,_e);q.push(Ve)}}return new th(q,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function JN(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(e)&&-1!==t.indexOf("/"))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!Ze.isDocumentKey(r))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ip(n,new Ze(r))}if(t instanceof rr)return ip(n,t._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fD(t)}.`)}function XN(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(n,e){if(e.isInequality()){const r=VI(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=kT(n);null!==u&&t1(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function t1(n,e,t){if(!t.isEqual(e))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class OA{convertValue(e,t="none"){switch(Xd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kd(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new gD(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=NI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(F_(e));default:return null}}convertTimestamp(e){const t=Yd(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);gt(gR(r));const s=new Qd(r.get(1),r.get(3)),u=new Ze(r.popFirst(5));return s.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function CD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends m0{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends gl{data(e={}){return super.data(e)}}class ch{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new _p(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new _p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _p(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new _0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _p(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==l.type&&(_=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:zk(l.type),doc:m,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function r1(n,e){return n instanceof gl&&e instanceof gl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ch&&e instanceof ch&&n._firestore===e._firestore&&TA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class lh extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function i1(n,e,t){n=hn(n,rr);const r=hn(n.firestore,ir),s=CD(n.converter,e,t);return Fm(r,[yD(yp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,vr.none())])}function s1(n,e,t,...r){n=hn(n,rr);const s=hn(n.firestore,ir),u=yp(s);let l;return l="string"==typeof(e=(0,an.m9)(e))||e instanceof pl?function xA(n,e,t,r,s,u){const l=n.ya(1,e,t),m=[g0(e,r,t)],_=[s];if(u.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<u.length;q+=2)m.push(g0(e,u[q])),_.push(u[q+1]);const b=[],T=Li.empty();for(let q=m.length-1;q>=0;--q)if(!KN(b,m[q])){const ee=m[q];let _e=_[q];_e=(0,an.m9)(_e);const Ve=l.da(ee);if(_e instanceof p0)b.push(ee);else{const Fe=vp(_e,Ve);null!=Fe&&(b.push(ee),T.set(ee,Fe))}}const P=new Hs(b);return new HN(T,P,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function MA(n,e,t,r){const s=n.ya(1,e,t);RA("Data must be an object, but it was:",s,r);const u=[],l=Li.empty();Kd(r,(_,b)=>{const T=vD(e,_,t);b=(0,an.m9)(b);const P=s.da(T);if(b instanceof p0)u.push(T);else{const q=vp(b,P);null!=q&&(u.push(T),l.set(T,q))}});const m=new Hs(u);return new HN(l,m,s.fieldTransforms)}(u,"updateDoc",n._key,e),Fm(s,[l.toMutation(n._key,vr.exists(!0))])}function o1(n,...e){var t,r,s;n=(0,an.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||SA(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(SA(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let _,b,T;if(n instanceof rr)b=hn(n.firestore,ir),T=gm(n._key.path),_={next:P=>{e[l]&&e[l](kA(b,n,P))},error:e[l+1],complete:e[l+2]};else{const P=hn(n,Vi);b=hn(P.firestore,ir),T=P._query;const q=new lh(b);_={next:ee=>{e[l]&&e[l](new ch(b,q,P,ee))},error:e[l+1],complete:e[l+2]},YN(n._query)}return function(P,q,ee,_e){const Ve=new cD(_e),Fe=new GS(q,Ve,ee);return P.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return US(yield Om(P),Fe)})),()=>{Ve.Dc(),P.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return jS(yield Om(P),Fe)}))}}(Zr(b),T,m,_)}function Fm(n,e){return function(t,r){const s=new qr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function UO(n,e,t){return KS.apply(this,arguments)}(yield function DA(n){return dD(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Zr(n),e)}function kA(n,e,t){const r=t.docs.get(e._key),s=new lh(n);return new gl(n,s,e._key,r,new _p(t.hasPendingWrites,t.fromCache),e.converter)}function c1(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function l1(){if(!function z1(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class w0{constructor(e){this._delegate=e}static fromBase64String(e){return l1(),new w0(Zu.fromBase64String(e))}static fromUint8Array(e){return c1(),new w0(Zu.fromUint8Array(e))}toBase64(){return l1(),this._delegate.toBase64()}toUint8Array(){return c1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function LA(n){return function _F(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bD extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new w0(new Zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new wp(e,new bD(e),t),s.set(t,u)),u}}wp.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new rr(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new oa(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lm(this.firestore,function VN(n,e,...t){if(n=(0,an.m9)(n),bA("collection","path",e),n instanceof h0){const r=fn.fromString(e,...t);return ON(r),new Wu(n,null,r)}{if(!(n instanceof rr||n instanceof Wu))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return ON(r),new Wu(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof rr&&UN(this._delegate,e)}set(e,t){t=function FA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?i1(this._delegate,e,t):i1(this._delegate,e)}catch(r){throw ps(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?s1(this._delegate,e):s1(this._delegate,e,t,...r)}catch(s){throw ps(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Jk(n){return Fm(hn(n.firestore,ir),[new _m(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=p1(e),r=g1(e,s=>new E0(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return o1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Wk(n){n=hn(n,rr);const e=hn(n.firestore,ir),t=Zr(e),r=new lh(e);return function uk(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const m=yield function(_,b){const T=We(_);return T.persistence.runTransaction("read document","readonly",P=>T.localDocuments.getDocument(P,b))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Te(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=Mm(m,`Failed to get document '${u} from cache`);l.reject(_)}}),function(s,u,l){return r.apply(this,arguments)})(yield hD(n),e,t);var r})),t.promise}(t,n._key).then(s=>new gl(e,r,n._key,s,new _p(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Zk(n){n=hn(n,rr);const e=hn(n.firestore,ir);return AN(Zr(e),n._key,{source:"server"}).then(t=>kA(e,n,t))}(this._delegate):function qk(n){n=hn(n,rr);const e=hn(n.firestore,ir);return AN(Zr(e),n._key).then(t=>kA(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function ps(n,e,t){return n.message=n.message.replace(e,t),n}function p1(n){for(const e of n)if("object"==typeof e&&!LA(e))return e;return{}}function g1(n,e){var t,r;let s;return s=LA(n[0])?n[0]:LA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return r1(this._delegate,e._delegate)}}class I0 extends E0{data(e){const t=this._delegate.data(e);return function CI(n,e){n||rt()}(void 0!==t),t}}class gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bD(e)}where(e,t,r){try{return new gs(this.firestore,uh(this._delegate,function kk(n,e,t){const r=e,s=wD("where",n);return v0._create(s,r,t)}(e,t,r)))}catch(s){throw ps(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new gs(this.firestore,uh(this._delegate,function Fk(n,e="asc"){const t=e,r=wD("orderBy",n);return PA._create(r,t)}(e,t)))}catch(r){throw ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gs(this.firestore,uh(this._delegate,function Lk(n){return kN("limit",n),ED._create("limit",n,"F")}(e)))}catch(t){throw ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new gs(this.firestore,uh(this._delegate,function Vk(n){return kN("limitToLast",n),ED._create("limitToLast",n,"L")}(e)))}catch(t){throw ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gs(this.firestore,uh(this._delegate,function Uk(...n){return ID._create("startAt",n,!0)}(...e)))}catch(t){throw ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gs(this.firestore,uh(this._delegate,function Bk(...n){return ID._create("startAfter",n,!1)}(...e)))}catch(t){throw ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gs(this.firestore,uh(this._delegate,function jk(...n){return DD._create("endBefore",n,!1)}(...e)))}catch(t){throw ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gs(this.firestore,uh(this._delegate,function $k(...n){return DD._create("endAt",n,!0)}(...e)))}catch(t){throw ps(t,"endAt()","Query.endAt()")}}isEqual(e){return TA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Yk(n){n=hn(n,Vi);const e=hn(n.firestore,ir),t=Zr(e),r=new lh(e);return function ck(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(s,u,l){try{const m=yield nD(s,u,!0),_=new mN(u,m.ir),b=_.sc(m.documents),T=_.applyChanges(b,!1);l.resolve(T.snapshot)}catch(m){const _=Mm(m,`Failed to execute query '${u} against cache`);l.reject(_)}}),function(s,u,l){return r.apply(this,arguments)})(yield hD(n),e,t);var r})),t.promise}(t,n._query).then(s=>new ch(e,r,n,s))}(this._delegate):"server"===e?.source?function Qk(n){n=hn(n,Vi);const e=hn(n.firestore,ir),t=Zr(e),r=new lh(e);return MN(t,n._query,{source:"server"}).then(s=>new ch(e,r,n,s))}(this._delegate):function Kk(n){n=hn(n,Vi);const e=hn(n.firestore,ir),t=Zr(e),r=new lh(e);return YN(n._query),MN(t,n._query).then(s=>new ch(e,r,n,s))}(this._delegate),t.then(r=>new VA(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=p1(e),r=g1(e,s=>new VA(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return o1(this._delegate,t,r)}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}class IF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class VA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I0(this._firestore,r))})}isEqual(e){return r1(this._delegate,e._delegate)}}class Lm extends gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?pD(this._delegate):pD(this._delegate,e))}catch(t){throw ps(t,"doc()","CollectionReference.doc()")}}add(e){return function Xk(n,e){const t=hn(n.firestore,ir),r=pD(n),s=CD(n.converter,e);return Fm(t,[yD(yp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return UN(this._delegate,e._delegate)}withConverter(e){return new Lm(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function m1(n,e){return function TF(n,e=Bb.z){return new ei.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function BA(n,e){return m1(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function TD(n,e){return BA(n,e).pipe(Ho(void 0),Pv(),(0,wt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const _=s.find(T=>T.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function y1(n,e,t){return TD(n,t).pipe(Cu((r,s)=>function AF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function MF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function OE(n,e=$o.y){return n=n??jb,(0,zr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Pr.x)(r,l=>{const m=e(l);(u||!n(s,m))&&(u=!1,s=m,r.next(l))}))})}(),(0,wt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function jA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function v1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=TD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Ho(void 0),Pv(),Ei(([r,s])=>s.length>0||!r),(0,wt.U)(([r,s])=>s),Di.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=v1(e);return y1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Di.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Di.iC)}add(e){return this.ref.add(e)}doc(e){return new w1(this.ref.doc(e),this.afs)}}class w1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=E1(r,t);return new _1(s,u,this.afs)}snapshotChanges(){return function SF(n,e){return m1(n,e).pipe(Ho(void 0),Pv(),(0,wt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe(Di.iC)}}class xF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TD(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ei(t=>t.length>0),Di.iC):TD(this.query,this.afs.schedulers.outsideAngular).pipe(Di.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=v1(e);return y1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Di.iC)}valueChanges(e={}){return BA(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Di.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Di.iC)}}const RF=new h.OlP("angularfire2.enableFirestorePersistence"),NF=new h.OlP("angularfire2.firestore.persistenceSettings"),PF=new h.OlP("angularfire2.firestore.settings"),OF=new h.OlP("angularfire2.firestore.use-emulator");function E1(n,e=(t=>t)){return{query:e(n),ref:n}}let kF=(()=>{class n{constructor(t,r,s,u,l,m,_,b,T,P,q,ee,_e,Ve,Fe,bt,At){this.schedulers=_;const Dt=(0,ks.on)(t,m,r),Ft=T;P&&lg(Dt,m,q,_e,Ve,Fe,ee,bt),[this.firestore,this.persistenceEnabled$]=(0,ks.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Xt=m.runOutsideAngular(()=>Dt.firestore());if(u&&Xt.settings(u),Ft&&Xt.useEmulator(...Ft),s&&!So(l)){const pn=()=>{try{return(0,ln.D)(Xt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Qi){return typeof console<"u"&&console.warn(Qi),at(!1)}};return[Xt,m.runOutsideAngular(pn)]}return[Xt,at(!1)]},[u,Ft,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=E1(s,r),m=this.schedulers.ngZone.run(()=>u);return new _1(m,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new xF(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new w1(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ks.Dh),h.LFG(ks.xv,8),h.LFG(RF,8),h.LFG(PF,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Di.HU),h.LFG(NF,8),h.LFG(OF,8),h.LFG(dg,8),h.LFG(nv,8),h.LFG(rv,8),h.LFG(Ow,8),h.LFG(kw,8),h.LFG(Fw,8),h.LFG(iv,8),h.LFG(yf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FF=(()=>{class n{constructor(t){this.afs=t}getAllStudents(){return this.afs.collection("/Students").snapshotChanges()}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/Students").add(t)}deleteStudent(t){return this.afs.doc("/Students/"+t.id).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(kF))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr")(1,"th"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td")(10,"button",20),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.deleteStudent(u))}),h._uU(11,"Delete"),h.qZA()()()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.firstName),h.xp6(2),h.Oqu(t.lastName),h.xp6(2),h.Oqu(t.email),h.xp6(2),h.Oqu(t.mobile)}}const VF=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:NE},{path:"register",component:PE},{path:"dashboard",component:(()=>{class n{constructor(t,r){this.auth=t,this.data=r,this.studentList=[],this.studentObj={id:"",firstName:"",lastName:"",email:"",mobile:""},this.id="",this.firstName="",this.lastName="",this.email="",this.mobile=""}ngOnInit(){this.getAllStudents()}logout(){this.auth.logout()}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentList=t.map(r=>{const s=r.payload.doc.data();return s.id=r.payload.doc.id,s})})}addStudent(){""!=this.firstName&&""!=this.lastName&&""!=this.email&&""!=this.mobile?(this.studentObj.firstName=this.firstName,this.studentObj.lastName=this.lastName,this.studentObj.email=this.email,this.studentObj.mobile=this.mobile,this.data.addStudent(this.studentObj)):alert("fill the all input field")}deleteStudent(t){window.confirm("Are you sure ?")&&this.data.deleteStudent(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vf),h.Y36(FF))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:46,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"mt-3","text-end"],[1,"btn","btn-outline-primary",3,"click"],[1,"col-md-4","mt-3"],[1,"card","p-3","shadow"],[1,"form-floating","mb-3"],[1,"text-center"],["type","text","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","text","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"col-md-8","mt-3"],[1,"card"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("click",function(){return s.logout()}),h._uU(4,"Logout"),h.qZA()(),h.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"h3",7),h._uU(9,"Add Student"),h.qZA()(),h.TgZ(10,"div",6)(11,"input",8),h.NdJ("ngModelChange",function(l){return s.firstName=l}),h.qZA(),h.TgZ(12,"label",9),h._uU(13,"First Name"),h.qZA()(),h.TgZ(14,"div",6)(15,"input",10),h.NdJ("ngModelChange",function(l){return s.lastName=l}),h.qZA(),h.TgZ(16,"label",9),h._uU(17,"Last Name"),h.qZA()(),h.TgZ(18,"div",6)(19,"input",11),h.NdJ("ngModelChange",function(l){return s.email=l}),h.qZA(),h.TgZ(20,"label",9),h._uU(21,"Email"),h.qZA()(),h.TgZ(22,"div",6)(23,"input",12),h.NdJ("ngModelChange",function(l){return s.mobile=l}),h.qZA(),h.TgZ(24,"label",9),h._uU(25,"Mobile"),h.qZA()(),h.TgZ(26,"button",13),h.NdJ("click",function(){return s.addStudent()}),h._uU(27,"Add Student"),h.qZA()()(),h.TgZ(28,"div",14)(29,"div",15)(30,"div",16)(31,"table",17)(32,"thead")(33,"tr")(34,"th",18),h._uU(35,"First Name"),h.qZA(),h.TgZ(36,"th",18),h._uU(37,"Last Name"),h.qZA(),h.TgZ(38,"th",18),h._uU(39,"Email"),h.qZA(),h.TgZ(40,"th",18),h._uU(41,"Mobile"),h.qZA(),h.TgZ(42,"th",18),h._uU(43,"Actions"),h.qZA()()(),h.TgZ(44,"tbody"),h.YNc(45,LF,12,4,"tr",19),h.qZA()()()()()()()),2&r&&(h.xp6(11),h.Q6J("ngModel",s.firstName),h.xp6(4),h.Q6J("ngModel",s.lastName),h.xp6(4),h.Q6J("ngModel",s.email),h.xp6(4),h.Q6J("ngModel",s.mobile),h.xp6(22),h.Q6J("ngForOf",s.studentList))},dependencies:[Eo,Ha,Gc,Pd]})}return n})()},{path:"forgot-password",component:(()=>{class n{constructor(t){this.auth=t,this.email=""}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(vf))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-forgot-password"]],decls:21,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"mb-4","text-center"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["name","email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-3"],["routerLink","/login"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"h3",6),h._uU(8,"Change Password"),h.qZA(),h.TgZ(9,"div",7)(10,"label",8),h._uU(11,"Email address"),h.qZA(),h.TgZ(12,"input",9),h.NdJ("ngModelChange",function(l){return s.email=l}),h.qZA()(),h.TgZ(13,"button",10),h.NdJ("click",function(){return s.forgotPassword()}),h._uU(14,"Sent Link "),h.qZA(),h.TgZ(15,"div",11)(16,"div",2)(17,"a",12),h._uU(18,"Back to Login"),h.qZA()(),h._UZ(19,"div",2),h.qZA()()()()(),h._UZ(20,"div",2),h.qZA()()),2&r&&(h.xp6(12),h.Q6J("ngModel",s.email))},dependencies:[Oc,za,Ha,Gc,Ga,Pd,Bs]})}return n})()},{path:"verify-email",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-verify-email"]],decls:18,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"mb-4","text-center"],[1,"mb-4"],[1,""],[1,"row","mt-3"],["routerLink","/login",1,""]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"h4",6),h._uU(8,"Verify your Email"),h.qZA(),h.TgZ(9,"div",7)(10,"p",8),h._uU(11,"Sent link to your registered email address"),h.qZA()(),h.TgZ(12,"div",9)(13,"div",2)(14,"a",10),h._uU(15,"Back to Login"),h.qZA()(),h._UZ(16,"div",2),h.qZA()()()()(),h._UZ(17,"div",2),h.qZA()())},dependencies:[Oc,za,Ga,Bs]})}return n})()}];let UF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[CC.forRoot(VF),CC]})}return n})(),BF=(()=>{class n{constructor(){this.title="practice"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[Qm]})}return n})();const jF_firebase={apiKey:"AIzaSyBVFUmSnFkVUUssUaahVBmIAQGLbHDNbQQ",authDomain:"practice-20554.firebaseapp.com",projectId:"practice-20554",storageBucket:"practice-20554.appspot.com",messagingSenderId:"810588895151",appId:"1:810588895151:web:95c30ff1c3a0d2f7e8a15a"};let $F=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[BF]});static#n=this.\u0275inj=h.cJS({imports:[Bo,UF,Ub,Vb,ks.hO.initializeApp(jF_firebase)]})}return n})();Ch().bootstrapModule($F).catch(n=>console.error(n))},9751:(pt,Se,U)=>{U.d(Se,{y:()=>ge});var h=U(2961),j=U(727),k=U(8822),te=U(9635),se=U(2416),oe=U(576),ye=U(2806);let ge=(()=>{class Q{constructor(be){be&&(this._subscribe=be)}lift(be){const ze=new Q;return ze.source=this,ze.operator=be,ze}subscribe(be,ze,nt){const pe=function G(Q){return Q&&Q instanceof h.Lv||function Z(Q){return Q&&(0,oe.m)(Q.next)&&(0,oe.m)(Q.error)&&(0,oe.m)(Q.complete)}(Q)&&(0,j.Nn)(Q)}(be)?be:new h.Hp(be,ze,nt);return(0,ye.x)(()=>{const{operator:Ae,source:xe}=this;pe.add(Ae?Ae.call(pe,xe):xe?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(be){try{return this._subscribe(be)}catch(ze){be.error(ze)}}forEach(be,ze){return new(ze=me(ze))((nt,pe)=>{const Ae=new h.Hp({next:xe=>{try{be(xe)}catch(Be){pe(Be),Ae.unsubscribe()}},error:pe,complete:nt});this.subscribe(Ae)})}_subscribe(be){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(be)}[k.L](){return this}pipe(...be){return(0,te.U)(be)(this)}toPromise(be){return new(be=me(be))((ze,nt)=>{let pe;this.subscribe(Ae=>pe=Ae,Ae=>nt(Ae),()=>ze(pe))})}}return Q.create=je=>new Q(je),Q})();function me(Q){var je;return null!==(je=Q??se.v.Promise)&&void 0!==je?je:Promise}},7579:(pt,Se,U)=>{U.d(Se,{x:()=>ye});var h=U(9751),j=U(727);const te=(0,U(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=U(8737),oe=U(2806);let ye=(()=>{class me extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new ge(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new te}next(G){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:je,observers:be}=this;return Q||je?j.Lc:(this.currentObservers=null,be.push(G),new j.w0(()=>{this.currentObservers=null,(0,se.P)(be,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:je,isStopped:be}=this;Q?G.error(je):be&&G.complete()}asObservable(){const G=new h.y;return G.source=this,G}}return me.create=(Z,G)=>new ge(Z,G),me})();class ge extends ye{constructor(Z,G){super(),this.destination=Z,this.source=G}next(Z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,Z)}error(Z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,Z)}complete(){var Z,G;null===(G=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===G||G.call(Z)}_subscribe(Z){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(Z))&&void 0!==Q?Q:j.Lc}}},2961:(pt,Se,U)=>{U.d(Se,{Hp:()=>nt,Lv:()=>Q});var h=U(576),j=U(727),k=U(2416),te=U(7849);function se(){}const oe=me("C",void 0,void 0);function me(Ce,De,Me){return{kind:Ce,value:De,error:Me}}var Z=U(3410),G=U(2806);class Q extends j.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,j.Nn)(De)&&De.add(this)):this.destination=Be}static create(De,Me,$e){return new nt(De,Me,$e)}next(De){this.isStopped?xe(function ge(Ce){return me("N",Ce,void 0)}(De),this):this._next(De)}error(De){this.isStopped?xe(function ye(Ce){return me("E",void 0,Ce)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?xe(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function be(Ce,De){return je.call(Ce,De)}class ze{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Me}=this;if(Me.next)try{Me.next(De)}catch($e){pe($e)}}error(De){const{partialObserver:Me}=this;if(Me.error)try{Me.error(De)}catch($e){pe($e)}else pe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Me){pe(Me)}}}class nt extends Q{constructor(De,Me,$e){let Pe;if(super(),(0,h.m)(De)||!De)Pe={next:De??void 0,error:Me??void 0,complete:$e??void 0};else{let ie;this&&k.v.useDeprecatedNextContext?(ie=Object.create(De),ie.unsubscribe=()=>this.unsubscribe(),Pe={next:De.next&&be(De.next,ie),error:De.error&&be(De.error,ie),complete:De.complete&&be(De.complete,ie)}):Pe=De}this.destination=new ze(Pe)}}function pe(Ce){k.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ce):(0,te.h)(Ce)}function xe(Ce,De){const{onStoppedNotification:Me}=k.v;Me&&Z.z.setTimeout(()=>Me(Ce,De))}const Be={closed:!0,next:se,error:function Ae(Ce){throw Ce},complete:se}},727:(pt,Se,U)=>{U.d(Se,{Lc:()=>oe,w0:()=>se,Nn:()=>ye});var h=U(576);const k=(0,U(3888).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var te=U(8737);class se{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const be of G)be.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(be){Z=be instanceof k?be.errors:[be]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const be of je)try{ge(be)}catch(ze){Z=Z??[],ze instanceof k?Z=[...Z,...ze.errors]:Z.push(ze)}}if(Z)throw new k(Z)}}add(Z){var G;if(Z&&Z!==this)if(this.closed)ge(Z);else{if(Z instanceof se){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(Z)}}_hasParent(Z){const{_parentage:G}=this;return G===Z||Array.isArray(G)&&G.includes(Z)}_addParent(Z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(Z),G):G?[G,Z]:Z}_removeParent(Z){const{_parentage:G}=this;G===Z?this._parentage=null:Array.isArray(G)&&(0,te.P)(G,Z)}remove(Z){const{_finalizers:G}=this;G&&(0,te.P)(G,Z),Z instanceof se&&Z._removeParent(this)}}se.EMPTY=(()=>{const me=new se;return me.closed=!0,me})();const oe=se.EMPTY;function ye(me){return me instanceof se||me&&"closed"in me&&(0,h.m)(me.remove)&&(0,h.m)(me.add)&&(0,h.m)(me.unsubscribe)}function ge(me){(0,h.m)(me)?me():me.unsubscribe()}},2416:(pt,Se,U)=>{U.d(Se,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Se,U)=>{U.d(Se,{E:()=>j});const j=new(U(9751).y)(se=>se.complete())},8996:(pt,Se,U)=>{U.d(Se,{D:()=>De});var h=U(8421),j=U(5363),k=U(9468),oe=U(9751),ge=U(2202),me=U(576),Z=U(9672);function Q(Me,$e){if(!Me)throw new Error("Iterable cannot be null");return new oe.y(Pe=>{(0,Z.f)(Pe,$e,()=>{const ie=Me[Symbol.asyncIterator]();(0,Z.f)(Pe,$e,()=>{ie.next().then(Je=>{Je.done?Pe.complete():Pe.next(Je.value)})},0,!0)})})}var je=U(3670),be=U(8239),ze=U(1144),nt=U(6495),pe=U(2206),Ae=U(4532),xe=U(3260);function De(Me,$e){return $e?function Ce(Me,$e){if(null!=Me){if((0,je.c)(Me))return function te(Me,$e){return(0,h.Xf)(Me).pipe((0,k.R)($e),(0,j.Q)($e))}(Me,$e);if((0,ze.z)(Me))return function ye(Me,$e){return new oe.y(Pe=>{let ie=0;return $e.schedule(function(){ie===Me.length?Pe.complete():(Pe.next(Me[ie++]),Pe.closed||this.schedule())})})}(Me,$e);if((0,be.t)(Me))return function se(Me,$e){return(0,h.Xf)(Me).pipe((0,k.R)($e),(0,j.Q)($e))}(Me,$e);if((0,pe.D)(Me))return Q(Me,$e);if((0,nt.T)(Me))return function G(Me,$e){return new oe.y(Pe=>{let ie;return(0,Z.f)(Pe,$e,()=>{ie=Me[ge.h](),(0,Z.f)(Pe,$e,()=>{let Je,Et;try{({value:Je,done:Et}=ie.next())}catch(tt){return void Pe.error(tt)}Et?Pe.complete():Pe.next(Je)},0,!0)}),()=>(0,me.m)(ie?.return)&&ie.return()})}(Me,$e);if((0,xe.L)(Me))return function Be(Me,$e){return Q((0,xe.Q)(Me),$e)}(Me,$e)}throw(0,Ae.z)(Me)}(Me,$e):(0,h.Xf)(Me)}},8421:(pt,Se,U)=>{U.d(Se,{Xf:()=>je});var h=U(7582),j=U(1144),k=U(8239),te=U(9751),se=U(3670),oe=U(2206),ye=U(4532),ge=U(6495),me=U(3260),Z=U(576),G=U(7849),Q=U(8822);function je(Ce){if(Ce instanceof te.y)return Ce;if(null!=Ce){if((0,se.c)(Ce))return function be(Ce){return new te.y(De=>{const Me=Ce[Q.L]();if((0,Z.m)(Me.subscribe))return Me.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,j.z)(Ce))return function ze(Ce){return new te.y(De=>{for(let Me=0;Me<Ce.length&&!De.closed;Me++)De.next(Ce[Me]);De.complete()})}(Ce);if((0,k.t)(Ce))return function nt(Ce){return new te.y(De=>{Ce.then(Me=>{De.closed||(De.next(Me),De.complete())},Me=>De.error(Me)).then(null,G.h)})}(Ce);if((0,oe.D)(Ce))return Ae(Ce);if((0,ge.T)(Ce))return function pe(Ce){return new te.y(De=>{for(const Me of Ce)if(De.next(Me),De.closed)return;De.complete()})}(Ce);if((0,me.L)(Ce))return function xe(Ce){return Ae((0,me.Q)(Ce))}(Ce)}throw(0,ye.z)(Ce)}function Ae(Ce){return new te.y(De=>{(function Be(Ce,De){var Me,$e,Pe,ie;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Me=(0,h.KL)(Ce);!($e=yield Me.next()).done;)if(De.next($e.value),De.closed)return}catch(Je){Pe={error:Je}}finally{try{$e&&!$e.done&&(ie=Me.return)&&(yield ie.call(Me))}finally{if(Pe)throw Pe.error}}De.complete()})})(Ce,De).catch(Me=>De.error(Me))})}},6451:(pt,Se,U)=>{U.d(Se,{T:()=>oe});var h=U(8189),j=U(8421),k=U(515),te=U(7669),se=U(8996);function oe(...ye){const ge=(0,te.yG)(ye),me=(0,te._6)(ye,1/0),Z=ye;return Z.length?1===Z.length?(0,j.Xf)(Z[0]):(0,h.J)(me)((0,se.D)(Z,ge)):k.E}},5403:(pt,Se,U)=>{U.d(Se,{x:()=>j});var h=U(2961);function j(te,se,oe,ye,ge){return new k(te,se,oe,ye,ge)}class k extends h.Lv{constructor(se,oe,ye,ge,me,Z){super(se),this.onFinalize=me,this.shouldUnsubscribe=Z,this._next=oe?function(G){try{oe(G)}catch(Q){se.error(Q)}}:super._next,this._error=ge?function(G){try{ge(G)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(G){se.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(pt,Se,U)=>{U.d(Se,{U:()=>k});var h=U(4482),j=U(5403);function k(te,se){return(0,h.e)((oe,ye)=>{let ge=0;oe.subscribe((0,j.x)(ye,me=>{ye.next(te.call(se,me,ge++))}))})}},8189:(pt,Se,U)=>{U.d(Se,{J:()=>k});var h=U(5577),j=U(4671);function k(te=1/0){return(0,h.z)(j.y,te)}},5577:(pt,Se,U)=>{U.d(Se,{z:()=>ge});var h=U(4004),j=U(8421),k=U(4482),te=U(9672),se=U(5403),ye=U(576);function ge(me,Z,G=1/0){return(0,ye.m)(Z)?ge((Q,je)=>(0,h.U)((be,ze)=>Z(Q,be,je,ze))((0,j.Xf)(me(Q,je))),G):("number"==typeof Z&&(G=Z),(0,k.e)((Q,je)=>function oe(me,Z,G,Q,je,be,ze,nt){const pe=[];let Ae=0,xe=0,Be=!1;const Ce=()=>{Be&&!pe.length&&!Ae&&Z.complete()},De=$e=>Ae<Q?Me($e):pe.push($e),Me=$e=>{be&&Z.next($e),Ae++;let Pe=!1;(0,j.Xf)(G($e,xe++)).subscribe((0,se.x)(Z,ie=>{je?.(ie),be?De(ie):Z.next(ie)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ae--;pe.length&&Ae<Q;){const ie=pe.shift();ze?(0,te.f)(Z,ze,()=>Me(ie)):Me(ie)}Ce()}catch(ie){Z.error(ie)}}))};return me.subscribe((0,se.x)(Z,De,()=>{Be=!0,Ce()})),()=>{nt?.()}}(Q,je,me,G)))}},5363:(pt,Se,U)=>{U.d(Se,{Q:()=>te});var h=U(9672),j=U(4482),k=U(5403);function te(se,oe=0){return(0,j.e)((ye,ge)=>{ye.subscribe((0,k.x)(ge,me=>(0,h.f)(ge,se,()=>ge.next(me),oe),()=>(0,h.f)(ge,se,()=>ge.complete(),oe),me=>(0,h.f)(ge,se,()=>ge.error(me),oe)))})}},3099:(pt,Se,U)=>{U.d(Se,{B:()=>se});var h=U(8421),j=U(7579),k=U(2961),te=U(4482);function se(ye={}){const{connector:ge=(()=>new j.x),resetOnError:me=!0,resetOnComplete:Z=!0,resetOnRefCountZero:G=!0}=ye;return Q=>{let je,be,ze,nt=0,pe=!1,Ae=!1;const xe=()=>{be?.unsubscribe(),be=void 0},Be=()=>{xe(),je=ze=void 0,pe=Ae=!1},Ce=()=>{const De=je;Be(),De?.unsubscribe()};return(0,te.e)((De,Me)=>{nt++,!Ae&&!pe&&xe();const $e=ze=ze??ge();Me.add(()=>{nt--,0===nt&&!Ae&&!pe&&(be=oe(Ce,G))}),$e.subscribe(Me),!je&&nt>0&&(je=new k.Hp({next:Pe=>$e.next(Pe),error:Pe=>{Ae=!0,xe(),be=oe(Be,me,Pe),$e.error(Pe)},complete:()=>{pe=!0,xe(),be=oe(Be,Z),$e.complete()}}),(0,h.Xf)(De).subscribe(je))})(Q)}}function oe(ye,ge,...me){if(!0===ge)return void ye();if(!1===ge)return;const Z=new k.Hp({next:()=>{Z.unsubscribe(),ye()}});return(0,h.Xf)(ge(...me)).subscribe(Z)}},9468:(pt,Se,U)=>{U.d(Se,{R:()=>j});var h=U(4482);function j(k,te=0){return(0,h.e)((se,oe)=>{oe.add(k.schedule(()=>se.subscribe(oe),te))})}},8505:(pt,Se,U)=>{U.d(Se,{b:()=>se});var h=U(576),j=U(4482),k=U(5403),te=U(4671);function se(oe,ye,ge){const me=(0,h.m)(oe)||ye||ge?{next:oe,error:ye,complete:ge}:oe;return me?(0,j.e)((Z,G)=>{var Q;null===(Q=me.subscribe)||void 0===Q||Q.call(me);let je=!0;Z.subscribe((0,k.x)(G,be=>{var ze;null===(ze=me.next)||void 0===ze||ze.call(me,be),G.next(be)},()=>{var be;je=!1,null===(be=me.complete)||void 0===be||be.call(me),G.complete()},be=>{var ze;je=!1,null===(ze=me.error)||void 0===ze||ze.call(me,be),G.error(be)},()=>{var be,ze;je&&(null===(be=me.unsubscribe)||void 0===be||be.call(me)),null===(ze=me.finalize)||void 0===ze||ze.call(me)}))}):te.y}},4408:(pt,Se,U)=>{U.d(Se,{o:()=>se});var h=U(727);class j extends h.w0{constructor(ye,ge){super()}schedule(ye,ge=0){return this}}const k={setInterval(oe,ye,...ge){const{delegate:me}=k;return me?.setInterval?me.setInterval(oe,ye,...ge):setInterval(oe,ye,...ge)},clearInterval(oe){const{delegate:ye}=k;return(ye?.clearInterval||clearInterval)(oe)},delegate:void 0};var te=U(8737);class se extends j{constructor(ye,ge){super(ye,ge),this.scheduler=ye,this.work=ge,this.pending=!1}schedule(ye,ge=0){var me;if(this.closed)return this;this.state=ye;const Z=this.id,G=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(G,Z,ge)),this.pending=!0,this.delay=ge,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,ge),this}requestAsyncId(ye,ge,me=0){return k.setInterval(ye.flush.bind(ye,this),me)}recycleAsyncId(ye,ge,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ge;null!=ge&&k.clearInterval(ge)}execute(ye,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ye,ge);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,ge){let Z,me=!1;try{this.work(ye)}catch(G){me=!0,Z=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ye,scheduler:ge}=this,{actions:me}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(me,this),null!=ye&&(this.id=this.recycleAsyncId(ge,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Se,U)=>{U.d(Se,{v:()=>k});var h=U(6063);class j{constructor(se,oe=j.now){this.schedulerActionCtor=se,this.now=oe}schedule(se,oe=0,ye){return new this.schedulerActionCtor(this,se).schedule(ye,oe)}}j.now=h.l.now;class k extends j{constructor(se,oe=j.now){super(se,oe),this.actions=[],this._active=!1}flush(se){const{actions:oe}=this;if(this._active)return void oe.push(se);let ye;this._active=!0;do{if(ye=se.execute(se.state,se.delay))break}while(se=oe.shift());if(this._active=!1,ye){for(;se=oe.shift();)se.unsubscribe();throw ye}}}},4986:(pt,Se,U)=>{U.d(Se,{z:()=>k});var h=U(4408);const k=new(U(7565).v)(h.o)},6063:(pt,Se,U)=>{U.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(pt,Se,U)=>{U.d(Se,{z:()=>h});const h={setTimeout(j,k,...te){const{delegate:se}=h;return se?.setTimeout?se.setTimeout(j,k,...te):setTimeout(j,k,...te)},clearTimeout(j){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(pt,Se,U)=>{U.d(Se,{h:()=>j});const j=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Se,U)=>{U.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,Se,U)=>{U.d(Se,{_6:()=>oe,jO:()=>te,yG:()=>se});var h=U(576);function k(ye){return ye[ye.length-1]}function te(ye){return(0,h.m)(k(ye))?ye.pop():void 0}function se(ye){return function j(ye){return ye&&(0,h.m)(ye.schedule)}(k(ye))?ye.pop():void 0}function oe(ye,ge){return"number"==typeof k(ye)?ye.pop():ge}},8737:(pt,Se,U)=>{function h(j,k){if(j){const te=j.indexOf(k);0<=te&&j.splice(te,1)}}U.d(Se,{P:()=>h})},3888:(pt,Se,U)=>{function h(j){const te=j(se=>{Error.call(se),se.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}U.d(Se,{d:()=>h})},2806:(pt,Se,U)=>{U.d(Se,{O:()=>te,x:()=>k});var h=U(2416);let j=null;function k(se){if(h.v.useDeprecatedSynchronousErrorHandling){const oe=!j;if(oe&&(j={errorThrown:!1,error:null}),se(),oe){const{errorThrown:ye,error:ge}=j;if(j=null,ye)throw ge}}else se()}function te(se){h.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=se)}},9672:(pt,Se,U)=>{function h(j,k,te,se=0,oe=!1){const ye=k.schedule(function(){te(),oe?j.add(this.schedule(null,se)):this.unsubscribe()},se);if(j.add(ye),!oe)return ye}U.d(Se,{f:()=>h})},4671:(pt,Se,U)=>{function h(j){return j}U.d(Se,{y:()=>h})},1144:(pt,Se,U)=>{U.d(Se,{z:()=>h});const h=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(pt,Se,U)=>{U.d(Se,{D:()=>j});var h=U(576);function j(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},576:(pt,Se,U)=>{function h(j){return"function"==typeof j}U.d(Se,{m:()=>h})},3670:(pt,Se,U)=>{U.d(Se,{c:()=>k});var h=U(8822),j=U(576);function k(te){return(0,j.m)(te[h.L])}},6495:(pt,Se,U)=>{U.d(Se,{T:()=>k});var h=U(2202),j=U(576);function k(te){return(0,j.m)(te?.[h.h])}},8239:(pt,Se,U)=>{U.d(Se,{t:()=>j});var h=U(576);function j(k){return(0,h.m)(k?.then)}},3260:(pt,Se,U)=>{U.d(Se,{L:()=>te,Q:()=>k});var h=U(7582),j=U(576);function k(se){return(0,h.FC)(this,arguments,function*(){const ye=se.getReader();try{for(;;){const{value:ge,done:me}=yield(0,h.qq)(ye.read());if(me)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ge)}}finally{ye.releaseLock()}})}function te(se){return(0,j.m)(se?.getReader)}},4482:(pt,Se,U)=>{U.d(Se,{A:()=>j,e:()=>k});var h=U(576);function j(te){return(0,h.m)(te?.lift)}function k(te){return se=>{if(j(se))return se.lift(function(oe){try{return te(oe,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(pt,Se,U)=>{U.d(Se,{U:()=>k,z:()=>j});var h=U(4671);function j(...te){return k(te)}function k(te){return 0===te.length?h.y:1===te.length?te[0]:function(oe){return te.reduce((ye,ge)=>ge(ye),oe)}}},7849:(pt,Se,U)=>{U.d(Se,{h:()=>k});var h=U(2416),j=U(3410);function k(te){j.z.setTimeout(()=>{const{onUnhandledError:se}=h.v;if(!se)throw te;se(te)})}},4532:(pt,Se,U)=>{function h(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Se,{z:()=>h})},4650:(pt,Se,U)=>{U.d(Se,{$8M:()=>Ca,$WT:()=>xr,$Z:()=>fw,AFp:()=>aI,AaK:()=>ge,CHM:()=>ec,CRH:()=>r_,CZH:()=>qf,CqO:()=>tb,D6c:()=>Ht,EJc:()=>Xg,EpF:()=>XC,F4k:()=>eb,FYo:()=>hy,FiY:()=>ao,GfV:()=>W0,Gpc:()=>G,JOm:()=>It,KtG:()=>ga,LFG:()=>Lt,Lbi:()=>uI,Lck:()=>Gb,MMx:()=>kv,NdJ:()=>Nw,OlP:()=>rn,Oqu:()=>Kw,P3R:()=>V0,PXZ:()=>sl,Q6J:()=>mf,QGY:()=>tv,Qsj:()=>JD,R0b:()=>cs,RDi:()=>xD,Rgc:()=>Yc,SBq:()=>vd,Sil:()=>Zf,Suo:()=>n_,TTD:()=>Cl,TgZ:()=>Md,X6Q:()=>qd,XFs:()=>lt,Xpm:()=>Vt,Xts:()=>ny,Y36:()=>Dd,YKP:()=>kE,YNc:()=>Yy,Yjl:()=>Yt,Yz7:()=>ot,Z0I:()=>In,ZZ4:()=>R_,_Bn:()=>Mg,_UZ:()=>Jy,_Vd:()=>yd,_c5:()=>TT,_uU:()=>hb,aQg:()=>N_,c2e:()=>pT,cJS:()=>mt,cg1:()=>uE,dDg:()=>rm,dqk:()=>on,eFA:()=>Xf,eJc:()=>Bg,ekj:()=>gg,eoX:()=>gI,f3M:()=>bn,g9A:()=>Qg,h0i:()=>Fd,hGG:()=>SI,iGM:()=>jd,ifc:()=>F,ip1:()=>oI,jDz:()=>xg,kL8:()=>lE,lG2:()=>Tt,lqb:()=>Pc,lri:()=>Qf,n5z:()=>hc,oAB:()=>ne,oxw:()=>rv,q4F:()=>Z0,qLn:()=>Qh,qOj:()=>Ly,qZA:()=>Qy,rWj:()=>__,sBO:()=>di,s_b:()=>Ud,soG:()=>Jg,tb:()=>w_,tp0:()=>wt,uIk:()=>qy,vHH:()=>pe,vpe:()=>vo,wAp:()=>Mt,xp6:()=>sw,z2F:()=>zd,zSh:()=>Nu,zs3:()=>wd});var h=U(7579),j=U(727),k=U(9751),te=U(6451),se=U(3099);function oe(i){for(let o in i)if(i[o]===oe)return o;throw Error("Could not find renamed property on target object.")}function ye(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ge(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ge).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function me(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Z=oe({__forward_ref__:oe});function G(i){return i.__forward_ref__=G,i.toString=function(){return ge(this())},i}function Q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty(Z)&&i.__forward_ref__===G}function be(i){return i&&!!i.\u0275providers}const nt="https://g.co/ng/security#xss";class pe extends Error{constructor(o,a){super(Ae(o,a)),this.code=o}}function Ae(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function xe(i){return"string"==typeof i?i:null==i?"":String(i)}function $e(i,o){throw new pe(-201,!1)}function de(i,o){null==i&&function X(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function ot(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jt(i){return or(i,_n)||or(i,Ur)}function In(i){return null!==Jt(i)}function or(i,o){return i.hasOwnProperty(o)?i[o]:null}function gn(i){return i&&(i.hasOwnProperty(On)||i.hasOwnProperty(kn))?i[On]:null}const _n=oe({\u0275prov:oe}),On=oe({\u0275inj:oe}),Ur=oe({ngInjectableDef:oe}),kn=oe({ngInjectorDef:oe});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Mn;function Fn(i){const o=Mn;return Mn=i,o}function Ar(i,o,a){const c=Jt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void $e(ge(i))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},_r="__NG_DI_FLAG__",xn="ngTempTokenPath",Kr="ngTokenPath",Rn=/\n/gm,ar="\u0275",Kt="__source";let fi;function Qt(i){const o=fi;return fi=i,o}function Yr(i,o=lt.Default){if(void 0===fi)throw new pe(-203,!1);return null===fi?Ar(i,void 0,o):fi.get(i,o&lt.Optional?null:void 0,o)}function Lt(i,o=lt.Default){return(function Bi(){return Mn}()||Yr)(Q(i),o)}function bn(i,o=lt.Default){return Lt(i,wr(o))}function wr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Un(i){const o=[];for(let a=0;a<i.length;a++){const c=Q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new pe(900,!1);let d,p=lt.Default;for(let y=0;y<c.length;y++){const I=c[y],C=Mr(I);"number"==typeof C?-1===C?d=I.token:p|=C:d=I}o.push(Lt(d,p))}else o.push(Lt(c))}return o}function jr(i,o){return i[_r]=o,i.prototype[_r]=o,i}function Mr(i){return i[_r]}function $(i){return{toString:i}.toString()}var O=(()=>((O=O||{})[O.OnPush=0]="OnPush",O[O.Default=1]="Default",O))(),F=(()=>{return(i=F||(F={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",F;var i})();const R={},W=[],we=oe({\u0275cmp:oe}),et=oe({\u0275dir:oe}),Ct=oe({\u0275pipe:oe}),_t=oe({\u0275mod:oe}),qt=oe({\u0275fac:oe}),St=oe({__NG_ELEMENT_ID__:oe});let wn=0;function Vt(i){return $(()=>{const o=Qa(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===O.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||F.Emulated,id:"c"+wn++,styles:i.styles||W,_:null,schemas:i.schemas||null,tView:null};hh(a);const c=i.dependencies;return a.directiveDefs=zs(c,!1),a.pipeDefs=zs(c,!0),a})}function Xi(i){return ht(i)||un(i)}function fe(i){return null!==i}function ne(i){return $(()=>({type:i.type,bootstrap:i.bootstrap||W,declarations:i.declarations||W,imports:i.imports||W,exports:i.exports||W,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function dt(i,o){if(null==i)return R;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function Tt(i){return $(()=>{const o=Qa(i);return hh(o),o})}function Yt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ht(i){return i[we]||null}function un(i){return i[et]||null}function tn(i){return i[Ct]||null}function xr(i){const o=ht(i)||un(i)||tn(i);return null!==o&&o.standalone}function cr(i,o){const a=i[_t]||null;if(!a&&!0===o)throw new Error(`Type ${ge(i)} does not have '\u0275mod' property.`);return a}function Qa(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||W,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dt(i.inputs,o),outputs:dt(i.outputs)}}function hh(i){i.features?.forEach(o=>o(i))}function zs(i,o){if(!i)return null;const a=o?tn:Xi;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(fe)}const lr=0,Ke=1,Wt=2,Dn=3,cn=4,ms=5,dr=6,Eo=7,Nn=8,aa=9,Io=10,Bt=11,Ja=12,pi=13,ua=14,ys=15,Kn=16,qs=17,Ws=18,gi=19,Do=20,Rr=21,yn=22,Ku=1,ca=2,Co=7,vs=8,Zs=9,Er=10;function Hr(i){return Array.isArray(i)&&"object"==typeof i[Ku]}function Mi(i){return Array.isArray(i)&&!0===i[Ku]}function Ks(i){return 0!=(4&i.flags)}function Xa(i){return i.componentOffset>-1}function la(i){return 1==(1&i.flags)}function Qr(i){return!!i.template}function _s(i){return 0!=(256&i[Wt])}function es(i,o){return i.hasOwnProperty(qt)?i[qt]:null}class Dl{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Cl(){return eu}function eu(i){return i.type.prototype.ngOnChanges&&(i.setInput=Es),yh}function yh(){const i=tu(this),o=i?.current;if(o){const a=i.previous;if(a===R)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Es(i,o,a,c){const d=this.declaredInputs[a],p=tu(i)||function vh(i,o){return i[Yu]=o}(i,{previous:R,current:null}),y=p.current||(p.current={}),I=p.previous,C=I[d];y[d]=new Dl(C&&C.currentValue,o,I===R),i[c]=o}Cl.ngInherit=!0;const Yu="__ngSimpleChanges__";function tu(i){return i[Yu]||null}const Tn=function(i,o,a){};function Yn(i){for(;Array.isArray(i);)i=i[lr];return i}function Xs(i,o){return Yn(o[i])}function Ir(i,o){return Yn(o[i.index])}function ru(i,o){return i.data[o]}function hr(i,o){const a=o[i];return Hr(a)?a:a[lr]}function Is(i){return 64==(64&i[Wt])}function ts(i,o){return null==o?null:i[o]}function pa(i){i[Ws]=0}function Mo(i,o){i[ms]+=o;let a=i,c=i[Dn];for(;null!==c&&(1===o&&1===a[ms]||-1===o&&0===a[ms]);)c[ms]+=o,a=c,c=c[Dn]}const xt={lFrame:ya(null),bindingsEnabled:!0};function Tl(){return xt.bindingsEnabled}function he(){return xt.lFrame.lView}function kt(){return xt.lFrame.tView}function ec(i){return xt.lFrame.contextLView=i,i[Nn]}function ga(i){return xt.lFrame.contextLView=null,i}function Bn(){let i=Al();for(;null!==i&&64===i.type;)i=i.parent;return i}function Al(){return xt.lFrame.currentTNode}function yi(i,o){const a=xt.lFrame;a.currentTNode=i,a.isParent=o}function su(){return xt.lFrame.isParent}function ns(){return xt.lFrame.bindingIndex++}function Nl(i,o){const a=xt.lFrame;a.bindingIndex=a.bindingRootIndex=i,jn(o)}function jn(i){xt.lFrame.currentDirectiveIndex=i}function ma(){return xt.lFrame.currentQueryIndex}function Pl(i){xt.lFrame.currentQueryIndex=i}function au(i){const o=i[Ke];return 2===o.type?o.declTNode:1===o.type?i[dr]:null}function Ol(i,o,a){if(a&lt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=au(p),null===d||(p=p[ys],10&d.type))););if(null===d)return!1;o=d,i=p}const c=xt.lFrame=tc();return c.currentTNode=o,c.lView=i,!0}function No(i){const o=tc(),a=i[Ke];xt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function tc(){const i=xt.lFrame,o=null===i?null:i.child;return null===o?ya(i):o}function ya(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function nc(){const i=xt.lFrame;return xt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const uu=nc;function kl(){const i=nc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Nr(){return xt.lFrame.selectedIndex}function Hi(i){xt.lFrame.selectedIndex=i}function Cn(){const i=xt.lFrame;return ru(i.tView,i.selectedIndex)}function cu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:x}=p;y&&(i.contentHooks??(i.contentHooks=[])).push(-a,y),I&&((i.contentHooks??(i.contentHooks=[])).push(a,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,I)),C&&(i.viewHooks??(i.viewHooks=[])).push(-a,C),A&&((i.viewHooks??(i.viewHooks=[])).push(a,A),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks??(i.destroyHooks=[])).push(a,x)}}function sc(i,o,a){lu(i,o,3,a)}function Ul(i,o,a,c){(3&i[Wt])===a&&lu(i,o,a,c)}function Bl(i,o){let a=i[Wt];(3&a)===o&&(a&=2047,a+=1,i[Wt]=a)}function lu(i,o,a,c){const p=c??-1,y=o.length-1;let I=0;for(let C=void 0!==c?65535&i[Ws]:0;C<y;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=c&&I>=c)break}else o[C]<0&&(i[Ws]+=65536),(I<p||-1==p)&&(Oo(i,a,o,C),i[Ws]=(4294901760&i[Ws])+C+2),C++}function Oo(i,o,a,c){const d=a[c]<0,p=a[c+1],I=i[d?-a[c]:a[c]];if(d){if(i[Wt]>>11<i[Ws]>>16&&(3&i[Wt])===o){i[Wt]+=2048,Tn(4,I,p);try{p.call(I)}finally{Tn(5,I,p)}}}else{Tn(4,I,p);try{p.call(I)}finally{Tn(5,I,p)}}}const va=-1;class rs{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ko(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],I=a[c++];i.setAttribute(o,y,I,p)}else{const p=d,y=a[++c];bs(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),c++}}return c}function $l(i){return 3===i||4===i||6===i}function bs(i){return 64===i.charCodeAt(0)}function to(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Fo(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Fo(i,o,a,c,d){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const I=i[p++];if("number"==typeof I){if(I===o){y=-1;break}if(I>o){y=p-1;break}}}for(;p<i.length;){const I=i[p];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function no(i){return i!==va}function Lo(i){return 32767&i}function Ea(i,o){let a=function wa(i){return i>>16}(i),c=o;for(;a>0;)c=c[ys],a--;return c}let ac=!0;function Ia(i){const o=ac;return ac=i,o}const uc=255,fu=5;let cc=0;const Xr={};function lc(i,o){const a=Gl(i,o);if(-1!==a)return a;const c=o[Ke];c.firstCreatePass&&(i.injectorIndex=o.length,Gi(c.data,i),Gi(o,null),Gi(c.blueprint,null));const d=$n(i,o),p=i.injectorIndex;if(no(d)){const y=Lo(d),I=Ea(d,o),C=I[Ke].data;for(let A=0;A<8;A++)o[p+A]=I[y+A]|C[y+A]}return o[p+8]=d,p}function Gi(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Gl(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function $n(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=ro(d),null===c)return va;if(a++,d=d[ys],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return va}function Ts(i,o,a){!function Hl(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(St)&&(c=a[St]),null==c&&(c=a[St]=cc++);const d=c&uc;o.data[i+(d>>fu)]|=1<<d}(i,o,a)}function zl(i,o,a){if(a&lt.Optional||void 0!==i)return i;$e()}function Da(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),!(a&(lt.Self|lt.Host))){const d=i[aa],p=Fn(void 0);try{return d?d.get(o,c,a&lt.Optional):Ar(o,c,a&lt.Optional)}finally{Fn(p)}}return zl(c,0,a)}function ql(i,o,a,c=lt.Default,d){if(null!==i){if(1024&o[Wt]){const y=function Ch(i,o,a,c,d){let p=i,y=o;for(;null!==p&&null!==y&&1024&y[Wt]&&!(256&y[Wt]);){const I=gu(p,y,a,c|lt.Self,Xr);if(I!==Xr)return I;let C=p.parent;if(!C){const A=y[Rr];if(A){const x=A.get(a,Xr,c);if(x!==Xr)return x}C=ro(y),y=y[ys]}p=C}return d}(i,o,a,c,Xr);if(y!==Xr)return y}const p=gu(i,o,a,c,Xr);if(p!==Xr)return p}return Da(o,a,c,d)}function gu(i,o,a,c,d){const p=function Dh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(St)?i[St]:void 0;return"number"==typeof o?o>=0?o&uc:dc:o}(a);if("function"==typeof p){if(!Ol(o,i,c))return c&lt.Host?zl(d,0,c):Da(o,a,c,d);try{const y=p(c);if(null!=y||c&lt.Optional)return y;$e()}finally{uu()}}else if("number"==typeof p){let y=null,I=Gl(i,o),C=va,A=c&lt.Host?o[Kn][dr]:null;for((-1===I||c&lt.SkipSelf)&&(C=-1===I?$n(i,o):o[I+8],C!==va&&mu(c,!1)?(y=o[Ke],I=Lo(C),o=Ea(C,o)):I=-1);-1!==I;){const x=o[Ke];if(Ss(p,I,x.data)){const B=Qn(I,o,a,y,c,A);if(B!==Xr)return B}C=o[I+8],C!==va&&mu(c,o[Ke].data[I+8]===A)&&Ss(p,I,o)?(y=x,I=Lo(C),o=Ea(C,o)):I=-1}}return d}function Qn(i,o,a,c,d,p){const y=o[Ke],I=y.data[i+8],x=Vo(I,y,a,null==c?Xa(I)&&ac:c!=y&&0!=(3&I.type),d&lt.Host&&p===I);return null!==x?Sn(o,y,x,I):Xr}function Vo(i,o,a,c,d){const p=i.providerIndexes,y=o.data,I=1048575&p,C=i.directiveStart,x=p>>20,K=d?I+x:i.directiveEnd;for(let L=c?I:I+x;L<K;L++){const ve=y[L];if(L<C&&a===ve||L>=C&&ve.type===a)return L}if(d){const L=y[C];if(L&&Qr(L)&&L.type===a)return C}return null}function Sn(i,o,a,c){let d=i[a];const p=o.data;if(function Rp(i){return i instanceof rs}(d)){const y=d;y.resolving&&function Ce(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new pe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():xe(i)}(p[a]));const I=Ia(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?Fn(y.injectImpl):null;Ol(i,c,lt.Default);try{d=i[a]=y.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function xp(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const y=eu(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==C&&Fn(C),Ia(I),y.resolving=!1,uu()}}return d}function Ss(i,o,a){return!!(a[o+(i>>fu)]&1<<i)}function mu(i,o){return!(i&lt.Self||i&lt.Host&&o)}class Uo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ql(this._tNode,this._lView,o,wr(c),a)}}function dc(){return new Uo(Bn(),he())}function hc(i){return $(()=>{const o=i.prototype.constructor,a=o[qt]||As(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[qt]||As(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function As(i){return je(i)?()=>{const o=As(Q(i));return o&&o()}:es(i)}function ro(i){const o=i[Ke],a=o.type;return 2===a?o.declTNode:1===a?i[dr]:null}function Ca(i){return function pu(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if($l(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(Bn(),i)}const Bo="__parameters__";function so(i,o,a){return $(()=>{const c=function Wl(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return I.annotation=y,I;function I(C,A,x){const B=C.hasOwnProperty(Bo)?C[Bo]:Object.defineProperty(C,Bo,{value:[]})[Bo];for(;B.length<=x;)B.push(null);return(B[x]=B[x]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class rn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ot({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ms(i,o){i.forEach(a=>Array.isArray(a)?Ms(a,o):o(a))}function vc(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ba(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function vi(i,o,a){let c=xi(i,o);return c>=0?i[1|c]=a:(c=~c,function wu(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function ln(i,o){const a=xi(i,o);if(a>=0)return i[1|a]}function xi(i,o){return function Ri(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(o===y)return p<<a;y>o?d=p:c=p+1}return~(d<<a)}(i,o,1)}const ao=jr(so("Optional"),8),wt=jr(so("SkipSelf"),4);var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();const td=new Map;let Pi=0;const J="__ngContext__";function re(i,o){Hr(o)?(i[J]=o[Do],function rd(i){td.set(i[Do],i)}(o)):i[J]=o}let qi;function Wi(i,o){return qi(i,o)}function sd(i){const o=i[Dn];return Mi(o)?o[Dn]:o}function Fa(i){return Ph(i[pi])}function La(i){return Ph(i[cn])}function Ph(i){for(;null!==i&&!Mi(i);)i=i[cn];return i}function qo(i,o,a,c,d){if(null!=c){let p,y=!1;Mi(c)?p=c:Hr(c)&&(y=!0,c=c[lr]);const I=Yn(c);0===i&&null!==a?null==d?ni(o,a,I):$t(o,a,I,d||null,!0):1===i&&null!==a?$t(o,a,I,d||null,!0):2===i?function Hm(i,o,a){const c=ss(i,o);c&&function Wo(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,I,y):3===i&&o.destroyNode(I),null!=p&&function Bh(i,o,a,c,d){const p=a[Co];p!==Yn(a)&&qo(o,i,c,p,d);for(let I=Er;I<a.length;I++){const C=a[I];Uh(C[Ke],C,i,o,c,p)}}(o,i,p,a,d)}}function kh(i,o,a){return i.createElement(o,a)}function E(i,o){const a=i[Zs],c=a.indexOf(o),d=o[Dn];512&o[Wt]&&(o[Wt]&=-513,Mo(d,-1)),a.splice(c,1)}function M(i,o){if(i.length<=Er)return;const a=Er+o,c=i[a];if(c){const d=c[qs];null!==d&&d!==i&&E(d,c),o>0&&(i[a-1][cn]=c[cn]);const p=ba(i,Er+o);!function Pp(i,o){Uh(i,o,o[Bt],2,null,null),o[lr]=null,o[dr]=null}(c[Ke],c);const y=p[gi];null!==y&&y.detachView(p[Ke]),c[Dn]=null,c[cn]=null,c[Wt]&=-65}return c}function N(i,o){if(!(128&o[Wt])){const a=o[Bt];a.destroyNode&&Uh(i,o,a,3,null,null),function v(i){let o=i[pi];if(!o)return Y(i[Ke],i);for(;o;){let a=null;if(Hr(o))a=o[pi];else{const c=o[Er];c&&(a=c)}if(!a){for(;o&&!o[cn]&&o!==i;)Hr(o)&&Y(o[Ke],o),o=o[Dn];null===o&&(o=i),Hr(o)&&Y(o[Ke],o),a=o&&o[cn]}o=a}}(o)}}function Y(i,o){if(!(128&o[Wt])){o[Wt]&=-65,o[Wt]|=128,function Ue(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof rs)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const I=d[p[y]],C=p[y+1];Tn(4,I,C);try{C.call(I)}finally{Tn(5,I,C)}}else{Tn(4,d,p);try{p.call(d)}finally{Tn(5,d,p)}}}}}(i,o),function ce(i,o){const a=i.cleanup,c=o[Eo];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[d=y]():c[d=-y].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[Eo]=null}}(i,o),1===o[Ke].type&&o[Bt].destroy();const a=o[qs];if(null!==a&&Mi(o[Dn])){a!==o[Dn]&&E(a,o);const c=o[gi];null!==c&&c.detachView(i)}!function w(i){td.delete(i[Do])}(o)}}function qe(i,o,a){return function ft(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[lr];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===F.None||p===F.Emulated)return null}return Ir(c,a)}}(i,o.parent,a)}function $t(i,o,a,c,d){i.insertBefore(o,a,c,d)}function ni(i,o,a){i.appendChild(o,a)}function ho(i,o,a,c,d){null!==c?$t(i,o,a,c,d):ni(i,o,a)}function ss(i,o){return i.parentNode(o)}let ad,qm,Op,Zo=function xc(i,o,a){return 40&i.type?Ir(i,a):null};function Mu(i,o,a,c){const d=qe(i,c,o),p=o[Bt],I=function od(i,o,a){return Zo(i,o,a)}(c.parent||o[dr],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)ho(p,d,a[C],I,!1);else ho(p,d,a,I,!1);void 0!==ad&&ad(p,c,o,a,d)}function cd(i,o){if(null!==o){const a=o.type;if(3&a)return Ir(o,i);if(4&a)return Ko(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return cd(i,c);{const d=i[o.index];return Mi(d)?Ko(-1,d):Yn(d)}}if(32&a)return Wi(o,i)()||Yn(i[o.index]);{const c=xu(i,o);return null!==c?Array.isArray(c)?c[0]:cd(sd(i[Kn]),c):cd(i,o.next)}}return null}function xu(i,o){return null!==o?i[Kn][dr].projection[o.projection]:null}function Ko(i,o){const a=Er+i+1;if(a<o.length){const c=o[a],d=c[Ke].firstChild;if(null!==d)return cd(c,d)}return o[Co]}function Vh(i,o,a,c,d,p,y){for(;null!=a;){const I=c[a.index],C=a.type;if(y&&0===o&&(I&&re(Yn(I),c),a.flags|=2),32!=(32&a.flags))if(8&C)Vh(i,o,a.child,c,d,p,!1),qo(o,i,d,I,p);else if(32&C){const A=Wi(a,c);let x;for(;x=A();)qo(o,i,d,x,p);qo(o,i,d,I,p)}else 16&C?Gm(i,o,c,a,d,p):qo(o,i,d,I,p);a=y?a.projectionNext:a.next}}function Uh(i,o,a,c,d,p){Vh(a,c,i.firstChild,o,d,p,!1)}function Gm(i,o,a,c,d,p){const y=a[Kn],C=y[dr].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)qo(o,i,d,C[A],p);else Vh(i,o,C,y[Dn],d,p,!0)}function Ru(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function jh(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&ko(i,o,c),null!==d&&Ru(i,o,d),null!==p&&function zm(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function xD(i){qm=i}function T0(i){return function Wm(){if(void 0===Op&&(Op=null,on.trustedTypes))try{Op=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Op}()?.createScriptURL(i)||i}class S0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function Qo(i){return i instanceof S0?i.changingThisBreaksApplicationSecurity:i}function os(i,o){const a=function dd(i){return i instanceof S0&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${nt})`)}return a===o}const R0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gr=(()=>((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr))();function F0(i){const o=Zh();return o?o.sanitize(gr.URL,i)||"":os(i,"URL")?Qo(i):function Gh(i){return(i=String(i)).match(R0)?i:"unsafe:"+i}(xe(i))}function Up(i){const o=Zh();if(o)return T0(o.sanitize(gr.RESOURCE_URL,i)||"");if(os(i,"ResourceURL"))return T0(Qo(i));throw new pe(904,!1)}function V0(i,o,a){return function HD(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Up:F0}(o,a)(i)}function Zh(){const i=he();return i&&i[Ja]}const ny=new rn("ENVIRONMENT_INITIALIZER"),Nc=new rn("INJECTOR",-1),fd=new rn("INJECTOR_DEF_TYPES");class U0{get(o,a=Ln){if(a===Ln){const c=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw c.name="NullInjectorError",c}return a}}function Kh(...i){return{\u0275providers:pd(0,i),\u0275fromNgModule:!0}}function pd(i,...o){const a=[],c=new Set;let d;return Ms(o,p=>{const y=p;ry(y,a,[],c)&&(d||(d=[]),d.push(y))}),void 0!==d&&B0(d,a),a}function B0(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];iy(d,p=>{o.push(p)})}}function ry(i,o,a,c){if(!(i=Q(i)))return!1;let d=null,p=gn(i);const y=!p&&ht(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(p=gn(C),!p)return!1;d=C}const I=c.has(d);if(y){if(I)return!1;if(c.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of C)ry(A,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let A;c.add(d);try{Ms(p.imports,x=>{ry(x,o,a,c)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&B0(A,o)}if(!I){const A=es(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:W},{provide:fd,useValue:d,multi:!0},{provide:ny,useValue:()=>Lt(d),multi:!0})}const C=p.providers;null==C||I||iy(C,x=>{o.push(x)})}}return d!==i&&void 0!==i.providers}function iy(i,o){for(let a of i)be(a)&&(a=a.\u0275providers),Array.isArray(a)?iy(a,o):o(a)}const zD=oe({provide:String,useValue:oe});function sy(i){return null!==i&&"object"==typeof i&&zD in i}function Va(i){return"function"==typeof i}const Nu=new rn("Set Injector scope."),jp={},WD={};let oy;function $p(){return void 0===oy&&(oy=new U0),oy}class Pc{}class $0 extends Pc{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,md(o,y=>this.processProvider(y)),this.records.set(Nc,gd(void 0,this)),d.has("environment")&&this.records.set(Pc,gd(void 0,this));const p=this.records.get(Nu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(fd.multi,W,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Qt(this),c=Fn(void 0);try{return o()}finally{Qt(a),Fn(c)}}get(o,a=Ln,c=lt.Default){this.assertNotDestroyed(),c=wr(c);const d=Qt(this),p=Fn(void 0);try{if(!(c&lt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const C=function ly(i){return"function"==typeof i||"object"==typeof i&&i instanceof rn}(o)&&Jt(o);I=C&&this.injectableDefInScope(C)?gd(ay(o),jp):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&lt.Self?$p():this.parent).get(o,a=c&lt.Optional&&a===Ln?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[xn]=y[xn]||[]).unshift(ge(o)),d)throw y;return function $r(i,o,a,c){const d=i[xn];throw o[Kt]&&d.unshift(o[Kt]),i.message=function H(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==ar?i.slice(2):i;let d=ge(o);if(Array.isArray(o))d=o.map(ge).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let I=o[y];p.push(y+":"+("string"==typeof I?JSON.stringify(I):ge(I)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Rn,"\n  ")}`}("\n"+i.message,d,a,c),i[Kr]=d,i[xn]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Fn(p),Qt(d)}}resolveInjectorInitializers(){const o=Qt(this),a=Fn(void 0);try{const c=this.get(ny.multi,W,lt.Self);for(const d of c)d()}finally{Qt(o),Fn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ge(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let a=Va(o=Q(o))?o:Q(o&&o.provide);const c=function KD(i){return sy(i)?gd(void 0,i.useValue):gd(uy(i),jp)}(o);if(Va(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=gd(void 0,jp,!0),d.factory=()=>Un(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===jp&&(a.value=WD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function H0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ay(i){const o=Jt(i),a=null!==o?o.factory:es(i);if(null!==a)return a;if(i instanceof rn)throw new pe(204,!1);if(i instanceof Function)return function ZD(i){const o=i.length;if(o>0)throw function jo(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new pe(204,!1);const a=function sn(i){return i&&(i[_n]||i[Ur])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new pe(204,!1)}function uy(i,o,a){let c;if(Va(i)){const d=Q(i);return es(d)||ay(d)}if(sy(i))c=()=>Q(i.useValue);else if(function j0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Un(i.deps||[]));else if(function qD(i){return!(!i||!i.useExisting)}(i))c=()=>Lt(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function cy(i){return!!i.deps}(i))return es(d)||ay(d);c=()=>new d(...Un(i.deps))}return c}function gd(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function md(i,o){for(const a of i)Array.isArray(a)?md(a,o):a&&be(a)?md(a.\u0275providers,o):o(a)}class YD{}class G0{}class q0{resolveComponentFactory(o){throw function QD(i){const o=Error(`No component factory found for ${ge(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let yd=(()=>{class i{}return i.NULL=new q0,i})();function Hp(){return Ua(Bn(),he())}function Ua(i,o){return new vd(Ir(i,o))}let vd=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Hp,i})();function Yh(i){return i instanceof vd?i.nativeElement:i}class hy{}let JD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function XD(){const i=he(),a=hr(Bn().index,i);return(Hr(a)?a:i)[Bt]}(),i})(),eC=(()=>{class i{}return i.\u0275prov=ot({token:i,providedIn:"root",factory:()=>null}),i})();class W0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Z0=new W0("15.2.10"),Gp={},fy="ngOriginalError";function py(i){return i[fy]}class Qh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&py(o);for(;a&&py(a);)a=py(a);return a||null}}function Jo(i){return i instanceof Function?i():i}function ew(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const gy="ng-template";function my(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const y=i[c++];if(a&&"class"===p&&-1!==ew(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function yy(i){return 4===i.type&&i.value!==gy}function _d(i,o,a){return o===(4!==i.type||a?i.value:gy)}function vy(i,o,a){let c=4;const d=i.attrs||[],p=function nw(i){for(let o=0;o<i.length;o++)if($l(i[o]))return o;return i.length}(d);let y=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!_d(i,C,a)||""===C&&1===o.length){if(po(c))return!1;y=!0}}else{const A=8&c?C:o[++I];if(8&c&&null!==i.attrs){if(!my(i.attrs,A,a)){if(po(c))return!1;y=!0}continue}const B=tw(8&c?"class":C,d,yy(i),a);if(-1===B){if(po(c))return!1;y=!0;continue}if(""!==A){let K;K=B>p?"":d[B+1].toLowerCase();const L=8&c?K:null;if(L&&-1!==ew(L,A,0)||2&c&&A!==K){if(po(c))return!1;y=!0}}}}else{if(!y&&!po(c)&&!po(C))return!1;if(y&&po(C))continue;y=!1,c=C|1&c}}return po(c)||y}function po(i){return 0==(1&i)}function tw(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function rw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Xh(i,o,a=!1){for(let c=0;c<o.length;c++)if(vy(i,o[c],a))return!0;return!1}function iw(i,o){return i?":not("+o.trim()+")":o}function uC(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const I=i[++a];d+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!po(y)&&(o+=iw(p,d),d=""),c=y,p=p||!po(c);a++}return""!==d&&(o+=iw(p,d)),o}const Ut={};function sw(i){ow(kt(),he(),Nr()+i,!1)}function ow(i,o,a,c){if(!c)if(3==(3&o[Wt])){const p=i.preOrderCheckHooks;null!==p&&sc(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Ul(o,p,0,a)}Hi(a)}function uw(i,o=null,a=null,c){const d=_y(i,o,a,c);return d.resolveInjectorInitializers(),d}function _y(i,o=null,a=null,c,d=new Set){const p=[a||W,Kh(i)];return c=c||("object"==typeof i?void 0:ge(i)),new $0(p,o||$p(),c||null,d)}let wd=(()=>{class i{static create(a,c){if(Array.isArray(a))return uw({name:""},c,a,"");{const d=a.name??"";return uw({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Ln,i.NULL=new U0,i.\u0275prov=ot({token:i,providedIn:"any",factory:()=>Lt(Nc)}),i.__NG_ELEMENT_ID__=-1,i})();function Dd(i,o=lt.Default){const a=he();return null===a?Lt(i,o):ql(Bn(),a,Q(i),o)}function fw(){throw new Error("invalid")}function pw(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];Pl(a[c]),y.contentQueries(2,o[p],p)}}}function Zp(i,o,a,c,d,p,y,I,C,A,x){const B=o.blueprint.slice();return B[lr]=d,B[Wt]=76|c,(null!==x||i&&1024&i[Wt])&&(B[Wt]|=1024),pa(B),B[Dn]=B[ys]=i,B[Nn]=a,B[Io]=y||i&&i[Io],B[Bt]=I||i&&i[Bt],B[Ja]=C||i&&i[Ja]||null,B[aa]=A||i&&i[aa]||null,B[dr]=p,B[Do]=function nd(){return Pi++}(),B[Rr]=x,B[Kn]=2==o.type?i[Kn]:B,B}function rf(i,o,a,c,d){let p=i.data[o];if(null===p)p=function Cy(i,o,a,c,d){const p=Al(),y=su(),C=i.data[o]=function Di(i,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C,C.prev=p)),C}(i,o,a,c,d),function Rl(){return xt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function xo(){const i=xt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return yi(p,!0),p}function an(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Ba(i,o,a){No(o);try{const c=i.viewQuery;null!==c&&af(1,c,a);const d=i.template;null!==d&&sf(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&pw(i,o),i.staticViewQueries&&af(2,i.viewQuery,a);const p=i.components;null!==p&&function gw(i,o){for(let a=0;a<o.length;a++)kC(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[Wt]&=-5,kl()}}function go(i,o,a,c){const d=o[Wt];if(128!=(128&d)){No(o);try{pa(o),function Cs(i){return xt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&sf(i,o,a,2,c);const y=3==(3&d);if(y){const A=i.preOrderCheckHooks;null!==A&&sc(o,A,null)}else{const A=i.preOrderHooks;null!==A&&Ul(o,A,0,null),Bl(o,0)}if(function PC(i){for(let o=Fa(i);null!==o;o=La(o)){if(!o[ca])continue;const a=o[Zs];for(let c=0;c<a.length;c++){const d=a[c];512&d[Wt]||Mo(d[Dn],1),d[Wt]|=512}}}(o),function NC(i){for(let o=Fa(i);null!==o;o=La(o))for(let a=Er;a<o.length;a++){const c=o[a],d=c[Ke];Is(c)&&go(d,c,d.template,c[Nn])}}(o),null!==i.contentQueries&&pw(i,o),y){const A=i.contentCheckHooks;null!==A&&sc(o,A)}else{const A=i.contentHooks;null!==A&&Ul(o,A,1),Bl(o,1)}!function bC(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Hi(~d);else{const p=d,y=a[++c],I=a[++c];Nl(y,p),I(2,o[p])}}}finally{Hi(-1)}}(i,o);const I=i.components;null!==I&&function TC(i,o){for(let a=0;a<o.length;a++)OC(i,o[a])}(o,I);const C=i.viewQuery;if(null!==C&&af(2,C,c),y){const A=i.viewCheckHooks;null!==A&&sc(o,A)}else{const A=i.viewHooks;null!==A&&Ul(o,A,2),Bl(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Wt]&=-41,512&o[Wt]&&(o[Wt]&=-513,Mo(o[Dn],-1))}finally{kl()}}}function sf(i,o,a,c,d){const p=Nr(),y=2&c;try{Hi(-1),y&&o.length>yn&&ow(i,o,yn,!1),Tn(y?2:0,d),a(c,d)}finally{Hi(p),Tn(y?3:1,d)}}function by(i,o,a){if(Ks(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Cd(i,o,a){Tl()&&(function sM(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;Xa(a)&&function Iw(i,o,a){const c=Ir(o,i),d=mw(a),p=i[Io],y=eg(i,Zp(i,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));i[o.index]=y}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||lc(a,o),re(c,o);const y=a.initialInputs;for(let I=d;I<p;I++){const C=i.data[I],A=Sn(o,i,I,a);re(A,o),null!==y&&RC(0,I-d,A,C,0,y),Qr(C)&&(hr(a.index,o)[Nn]=Sn(o,i,I,a))}}(i,o,a,Ir(a,o)),64==(64&a.flags)&&xC(i,o,a))}function Ty(i,o,a=Ir){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],I=-1===y?a(o,i):i[y];i[d++]=I}}}function mw(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Sy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Sy(i,o,a,c,d,p,y,I,C,A){const x=yn+c,B=x+d,K=function yw(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Ut);return a}(x,B),L="function"==typeof A?A():A;return K[Ke]={type:i,blueprint:K,template:a,queries:null,viewQuery:I,declTNode:o,data:K.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:L,incompleteFirstPass:!1}}function Kp(i,o,a,c){const d=uf(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&cf(i).push(c,d.length-1))}function ks(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?Ay(a,o,d,p):c.hasOwnProperty(d)&&Ay(a,o,c[d],p)}return a}function Ay(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function _w(i,o,a,c){if(Tl()){const d=null===c?null:{"":-1},p=function aM(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Xh(o,y.selectors,!1))if(c||(c=[]),Qr(y))if(null!==y.findHostDirectiveDefs){const I=[];d=d||new Map,y.findHostDirectiveDefs(y,I,d),c.unshift(...I,y),Ew(i,o,I.length)}else c.unshift(y),Ew(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,I;null===p?y=I=null:[y,I]=p,null!==y&&ww(i,o,a,y,d,I),d&&function uM(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new pe(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=to(a.mergedAttrs,a.attrs)}function ww(i,o,a,c,d,p){for(let A=0;A<c.length;A++)Ts(lc(a,o),i,c[A].type);!function Ee(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let A=0;A<c.length;A++){const x=c[A];x.providersResolver&&x.providersResolver(x)}let y=!1,I=!1,C=an(i,o,c.length,null);for(let A=0;A<c.length;A++){const x=c[A];a.mergedAttrs=to(a.mergedAttrs,x.hostAttrs),xy(i,a,o,C,x),cM(C,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const B=x.type.prototype;!y&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),y=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),I=!0),C++}!function Yp(i,o,a){const d=o.directiveEnd,p=i.data,y=o.attrs,I=[];let C=null,A=null;for(let x=o.directiveStart;x<d;x++){const B=p[x],K=a?a.get(B):null,ve=K?K.outputs:null;C=ks(B.inputs,x,C,K?K.inputs:null),A=ks(B.outputs,x,A,ve);const ke=null===C||null===y||yy(o)?null:Qp(C,x,y);I.push(ke)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=C,o.outputs=A}(i,a,p)}function xC(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function Ap(){return xt.lFrame.currentDirectiveIndex}();try{Hi(p);for(let I=c;I<d;I++){const C=i.data[I],A=o[I];jn(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&oM(C,A)}}finally{Hi(-1),jn(y)}}function oM(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Ew(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function cM(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Qr(o)&&(a[""]=i)}}function xy(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=es(d.type)),y=new rs(p,Qr(d),Dd);i.blueprint[c]=y,a[c]=y,function MC(i,o,a,c,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const I=~o.index;(function iM(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=I&&y.push(I),y.push(a,c,p)}}(i,o,c,an(i,a,d.hostVars,Ut),d)}function Xo(i,o,a,c,d,p){const y=Ir(i,o);!function Wn(i,o,a,c,d,p,y){if(null==p)i.removeAttribute(o,d,a);else{const I=null==y?xe(p):y(p,c||"",d);i.setAttribute(o,d,I,a)}}(o[Bt],y,p,i.value,a,c,d)}function RC(i,o,a,c,d,p){const y=p[o];if(null!==y){const I=c.setInput;for(let C=0;C<y.length;){const A=y[C++],x=y[C++],B=y[C++];null!==I?c.setInput(a,B,A,x):a[x]=B}}}function Qp(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let I=0;I<y.length;I+=2)if(y[I]===o){c.push(p,y[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Jp(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function OC(i,o){const a=hr(o,i);if(Is(a)){const c=a[Ke];48&a[Wt]?go(c,a,c.template,a[Nn]):a[ms]>0&&Xp(a)}}function Xp(i){for(let c=Fa(i);null!==c;c=La(c))for(let d=Er;d<c.length;d++){const p=c[d];if(Is(p))if(512&p[Wt]){const y=p[Ke];go(y,p,y.template,p[Nn])}else p[ms]>0&&Xp(p)}const a=i[Ke].components;if(null!==a)for(let c=0;c<a.length;c++){const d=hr(a[c],i);Is(d)&&d[ms]>0&&Xp(d)}}function kC(i,o){const a=hr(o,i),c=a[Ke];(function FC(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Ba(c,a,a[Nn])}function eg(i,o){return i[pi]?i[ua][cn]=o:i[pi]=o,i[ua]=o,o}function tg(i){for(;i;){i[Wt]|=32;const o=sd(i);if(_s(i)&&!o)return i;i=o}return null}function Or(i,o,a,c=!0){const d=o[Io];d.begin&&d.begin();try{go(i,o,i.template,a)}catch(y){throw c&&Cw(o,y),y}finally{d.end&&d.end()}}function af(i,o,a){Pl(0),o(i,a)}function uf(i){return i[Eo]||(i[Eo]=[])}function cf(i){return i.cleanup||(i.cleanup=[])}function Cw(i,o){const a=i[aa],c=a?a.get(Qh,null):null;c&&c.handleError(o)}function Ny(i,o,a,c,d){for(let p=0;p<a.length;){const y=a[p++],I=a[p++],C=o[y],A=i.data[y];null!==A.setInput?A.setInput(C,d,c,I):C[I]=d}}function rg(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const I=o[y];"number"==typeof I?p=I:1==p?d=me(d,I):2==p&&(c=me(c,I+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function ig(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Yn(p)),Mi(p))for(let I=Er;I<p.length;I++){const C=p[I],A=C[Ke].firstChild;null!==A&&ig(C[Ke],C,A,c)}const y=a.type;if(8&y)ig(i,o,a.child,c);else if(32&y){const I=Wi(a,o);let C;for(;C=I();)c.push(C)}else if(16&y){const I=xu(o,a);if(Array.isArray(I))c.push(...I);else{const C=sd(o[Kn]);ig(C[Ke],C,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class ja{get rootNodes(){const o=this._lView,a=o[Ke];return ig(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(o){this._lView[Nn]=o}get destroyed(){return 128==(128&this._lView[Wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Dn];if(Mi(o)){const a=o[vs],c=a?a.indexOf(this):-1;c>-1&&(M(o,c),ba(a,c))}this._attachedToViewContainer=!1}N(this._lView[Ke],this._lView)}onDestroy(o){Kp(this._lView[Ke],this._lView,null,o)}markForCheck(){tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wt]&=-65}reattach(){this._lView[Wt]|=64}detectChanges(){Or(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fh(i,o){Uh(i,o,o[Bt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class bw extends ja{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Or(o[Ke],o,o[Nn],!1)}checkNoChanges(){}get context(){return null}}class lf extends yd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ht(o);return new df(a,this.ngModule)}}function Py(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class VC{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=wr(c);const d=this.injector.get(o,Gp,c);return d!==Gp||a===Gp?d:this.parentInjector.get(o,a,c)}}class df extends G0{get inputs(){return Py(this.componentDef.inputs)}get outputs(){return Py(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function cC(i){return i.map(uC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Pc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new VC(o,p):o,I=y.get(hy,null);if(null===I)throw new pe(407,!1);const C=y.get(eC,null),A=I.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",B=c?function vw(i,o,a){return i.selectRootElement(o,a===F.ShadowDom)}(A,c,this.componentDef.encapsulation):kh(A,x,function LC(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),K=this.componentDef.onPush?288:272,L=Sy(0,null,null,1,0,null,null,null,null,null),ve=Zp(null,L,null,K,null,null,I,A,C,y,null);let ke,Ye;No(ve);try{const it=this.componentDef;let vt,Re=null;it.findHostDirectiveDefs?(vt=[],Re=new Map,it.findHostDirectiveDefs(it,vt,Re),vt.push(it)):vt=[it];const Pt=function Oy(i,o){const a=i[Ke],c=yn;return i[c]=o,rf(a,c,2,"#host",null)}(ve,B),zn=function Tw(i,o,a,c,d,p,y,I){const C=d[Ke];!function ky(i,o,a,c){for(const d of i)o.mergedAttrs=to(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(rg(o,o.mergedAttrs,!0),null!==a&&jh(c,a,o))}(c,i,o,y);const A=p.createRenderer(o,a),x=Zp(d,mw(a),null,a.onPush?32:16,d[i.index],i,p,A,I||null,null,null);return C.firstCreatePass&&Ew(C,i,c.length-1),eg(d,x),d[i.index]=x}(Pt,B,it,vt,ve,I,A);Ye=ru(L,yn),B&&function hf(i,o,a,c){if(c)ko(i,a,["ng-version",Z0.full]);else{const{attrs:d,classes:p}=function lC(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!po(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ko(i,a,d),p&&p.length>0&&Ru(i,a,p.join(" "))}}(A,it,B,c),void 0!==a&&function jC(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Ye,this.ngContentSelectors,a),ke=function Sw(i,o,a,c,d,p){const y=Bn(),I=d[Ke],C=Ir(y,d);ww(I,d,y,a,null,c);for(let x=0;x<a.length;x++)re(Sn(d,I,y.directiveStart+x,y),d);xC(I,d,y),C&&re(C,d);const A=Sn(d,I,y.directiveStart+y.componentOffset,y);if(i[Nn]=d[Nn]=A,null!==p)for(const x of p)x(A,o);return by(I,y,i),A}(zn,it,vt,Re,ve,[Fy]),Ba(L,ve,null)}finally{kl()}return new UC(this.componentType,ke,Ua(Ye,ve),ve,Ye)}}class UC extends YD{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new bw(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;Ny(p[Ke],p,d,o,a),tg(hr(this._tNode.index,p))}}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Fy(){const i=Bn();cu(he()[Ke],i)}function Ly(i){let o=function sg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Qr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new pe(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=ff(i.inputs),y.declaredInputs=ff(i.declaredInputs),y.outputs=ff(i.outputs);const I=d.hostBindings;I&&$C(i,I);const C=d.viewQuery,A=d.contentQueries;if(C&&Uy(i,C),A&&By(i,A),ye(i.inputs,d.inputs),ye(i.declaredInputs,d.declaredInputs),ye(i.outputs,d.outputs),Qr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const I=p[y];I&&I.ngInherit&&I(i),I===Ly&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Vy(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=to(d.hostAttrs,a=to(a,d.hostAttrs))}}(c)}function ff(i){return i===R?{}:i===W?[]:i}function Uy(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function By(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function $C(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function pf(i){return!!zy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function zy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ci(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function qy(i,o,a,c){const d=he();return Ci(d,ns(),o)&&(kt(),Xo(Cn(),d,i,o,a,c)),qy}function Yy(i,o,a,c,d,p,y,I){const C=he(),A=kt(),x=i+yn,B=A.firstCreatePass?function YC(i,o,a,c,d,p,y,I,C){const A=o.consts,x=rf(o,i,4,y||null,ts(A,I));_w(o,a,x,ts(A,C)),cu(o,x);const B=x.tView=Sy(2,x,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),B.queries=o.queries.embeddedTView(x)),x}(x,A,C,o,a,c,d,p,y):A.data[x];yi(B,!1);const K=C[Bt].createComment("");Mu(A,C,K,B),re(K,C),eg(C,C[x]=Jp(K,C,K,B)),la(B)&&Cd(A,C,B),null!=y&&Ty(C,B,I)}function mf(i,o,a){const c=he();return Ci(c,ns(),o)&&function Fs(i,o,a,c,d,p,y,I){const C=Ir(o,a);let x,A=o.inputs;!I&&null!=A&&(x=A[c])?(Ny(i,a,x,c,d),Xa(o)&&function AC(i,o){const a=hr(o,i);16&a[Wt]||(a[Wt]|=32)}(a,o.index)):3&o.type&&(c=function SC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,p.setProperty(C,c,d))}(kt(),Cn(),c,i,o,c[Bt],a,!1),mf}function yf(i,o,a,c,d){const y=d?"class":"style";Ny(i,a,o.inputs[y],y,c)}function Md(i,o,a,c){const d=he(),p=kt(),y=yn+i,I=d[Bt],C=p.firstCreatePass?function hM(i,o,a,c,d,p){const y=o.consts,C=rf(o,i,2,c,ts(y,d));return _w(o,a,C,ts(y,p)),null!==C.attrs&&rg(C,C.attrs,!1),null!==C.mergedAttrs&&rg(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,p,d,o,a,c):p.data[y],A=d[y]=kh(I,o,function Vl(){return xt.lFrame.currentNamespace}()),x=la(C);return yi(C,!0),jh(I,A,C),32!=(32&C.flags)&&Mu(p,d,A,C),0===function Qu(){return xt.lFrame.elementDepthCount}()&&re(A,d),function Ju(){xt.lFrame.elementDepthCount++}(),x&&(Cd(p,d,C),by(p,C,d)),null!==c&&Ty(d,C),Md}function Qy(){let i=Bn();su()?function Ml(){xt.lFrame.isParent=!1}():(i=i.parent,yi(i,!1));const o=i;!function Xu(){xt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(cu(a,i),Ks(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function is(i){return 0!=(8&i.flags)}(o)&&yf(a,o,he(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function oc(i){return 0!=(16&i.flags)}(o)&&yf(a,o,he(),o.stylesWithoutHost,!1),Qy}function Jy(i,o,a,c){return Md(i,o,a,c),Qy(),Jy}function XC(){return he()}function tv(i){return!!i&&"function"==typeof i.then}function eb(i){return!!i&&"function"==typeof i.subscribe}const tb=eb;function Nw(i,o,a,c){const d=he(),p=kt(),y=Bn();return function rb(i,o,a,c,d,p,y){const I=la(c),A=i.firstCreatePass&&cf(i),x=o[Nn],B=uf(o);let K=!0;if(3&c.type||y){const ke=Ir(c,o),Ye=y?y(ke):ke,it=B.length,vt=y?Pt=>y(Yn(Pt[c.index])):c.index;let Re=null;if(!y&&I&&(Re=function pM(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const I=o[Eo],C=d[p+2];return I.length>C?I[C]:null}"string"==typeof y&&(p+=2)}return null}(i,o,d,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=p,Re.__ngLastListenerFn__=p,K=!1;else{p=nv(c,o,x,p,!1);const Pt=a.listen(Ye,d,p);B.push(p,Pt),A&&A.push(d,vt,it,it+1)}}else p=nv(c,o,x,p,!1);const L=c.outputs;let ve;if(K&&null!==L&&(ve=L[d])){const ke=ve.length;if(ke)for(let Ye=0;Ye<ke;Ye+=2){const zn=o[ve[Ye]][ve[Ye+1]].subscribe(p),er=B.length;B.push(p,zn),A&&A.push(d,c.index,er,-(er+1))}}}(p,d,d[Bt],y,i,o,c),Nw}function Pw(i,o,a,c){try{return Tn(6,o,a),!1!==a(c)}catch(d){return Cw(i,d),!1}finally{Tn(7,o,a)}}function nv(i,o,a,c,d){return function p(y){if(y===Function)return c;tg(i.componentOffset>-1?hr(i.index,o):o);let C=Pw(o,a,c,y),A=p.__ngNextListenerFn__;for(;A;)C=Pw(o,a,A,y)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function rv(i=1){return function rc(i){return(xt.lFrame.contextLView=function Fl(i,o){for(;i>0;)o=o[ys],i--;return o}(i,xt.lFrame.contextLView))[Nn]}(i)}function _f(i,o){return i<<17|o<<2}function ku(i){return i>>17&32767}function Ha(i){return 2|i}function jc(i){return(131068&i)>>2}function na(i,o){return-131069&i|o<<2}function ri(i){return 1|i}function ov(i,o,a,c,d){const p=i[a+1],y=null===o;let I=c?ku(p):jc(p),C=!1;for(;0!==I&&(!1===C||y);){const x=i[I+1];jw(i[I],o)&&(C=!0,i[I+1]=c?ri(x):Ha(x)),I=c?ku(x):jc(x)}C&&(i[a+1]=c?Ha(p):ri(p))}function jw(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&xi(i,o)>=0}function gg(i,o){return function Vs(i,o,a,c){const d=he(),p=kt(),y=function $i(i){const o=xt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);p.firstUpdatePass&&function bi(i,o,a,c){const d=i.data;if(null===d[a+1]){const p=d[Nr()],y=function fv(i,o){return o>=i.expandoStartIndex}(i,a);(function db(i,o){return 0!=(i.flags&(o?8:16))})(p,c)&&null===o&&!y&&(o=!1),o=function Fu(i,o,a,c){const d=function ou(i){const o=xt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=Ga(a=Gc(null,i,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Gc(d,i,o,a,c),null===p){let C=function Ww(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==jc(c))return i[ku(c)]}(i,o,c);void 0!==C&&Array.isArray(C)&&(C=Gc(null,i,o,C[1],c),C=Ga(C,o.attrs,c),function yM(i,o,a,c){i[ku(a?o.classBindings:o.styleBindings)]=c}(i,o,c,C))}else p=function vM(i,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=Ga(c,i[p].hostAttrs,a);return Ga(c,o.attrs,a)}(i,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function mM(i,o,a,c,d,p){let y=p?o.classBindings:o.styleBindings,I=ku(y),C=jc(y);i[c]=a;let x,A=!1;if(Array.isArray(a)?(x=a[1],(null===x||xi(a,x)>0)&&(A=!0)):x=a,d)if(0!==C){const K=ku(i[I+1]);i[c+1]=_f(K,I),0!==K&&(i[K+1]=na(i[K+1],c)),i[I+1]=function ob(i,o){return 131071&i|o<<17}(i[I+1],c)}else i[c+1]=_f(I,0),0!==I&&(i[I+1]=na(i[I+1],c)),I=c;else i[c+1]=_f(C,0),0===I?I=c:i[C+1]=na(i[C+1],c),C=c;A&&(i[c+1]=Ha(i[c+1])),ov(i,x,c,!0),ov(i,x,c,!1),function Bw(i,o,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&xi(p,o)>=0&&(a[c+1]=ri(a[c+1]))}(o,x,i,c,p),y=_f(I,C),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,c)}}(p,i,y,c),o!==Ut&&Ci(d,y,o)&&function Zw(i,o,a,c,d,p,y,I){if(!(3&o.type))return;const C=i.data,A=C[I+1],x=function Uw(i){return 1==(1&i)}(A)?lb(C,o,a,d,jc(A),y):void 0;mv(x)||(mv(p)||function sb(i){return 2==(2&i)}(A)&&(p=lb(C,null,a,d,I,y)),function Yo(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:It.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=It.Important),i.setStyle(a,c,d,p))}}(c,y,Xs(Nr(),a),d,p))}(p,p.data[Nr()],d,d[Bt],i,d[y+1]=function _M(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ge(Qo(i)))),i}(o,a),c,y)}(i,o,null,!0),gg}function Gc(i,o,a,c,d){let p=null;const y=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<y&&(p=o[I],c=Ga(c,p.hostAttrs,d),p!==i);)I++;return null!==i&&(a.directiveStylingLast=I),c}function Ga(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),vi(i,y,!!a||o[++p]))}return void 0===i?null:i}function lb(i,o,a,c,d,p){const y=null===o;let I;for(;d>0;){const C=i[d],A=Array.isArray(C),x=A?C[1]:C,B=null===x;let K=a[d+1];K===Ut&&(K=B?W:void 0);let L=B?ln(K,c):x===c?K:void 0;if(A&&!mv(L)&&(L=ln(C,c)),mv(L)&&(I=L,y))return I;const ve=i[d+1];d=y?ku(ve):jc(ve)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(I=ln(C,c))}return I}function mv(i){return void 0!==i}function hb(i,o=""){const a=he(),c=kt(),d=i+yn,p=c.firstCreatePass?rf(c,d,1,o,null):c.data[d],y=a[d]=function Au(i,o){return i.createText(o)}(a[Bt],o);Mu(c,a,y,p),yi(p,!1)}function Kw(i){return Yw("",i,""),Kw}function Yw(i,o,a){const c=he(),d=function Lc(i,o,a,c){return Ci(i,ns(),a)?o+xe(a)+c:Ut}(c,i,o,a);return d!==Ut&&function ea(i,o,a){const c=Xs(o,i);!function Oh(i,o,a){i.setValue(o,a)}(i[Bt],c,a)}(c,Nr(),d),Yw}const qc=void 0;var mb=["en",[["a","p"],["AM","PM"],qc],[["AM","PM"],qc,qc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qc,"{1} 'at' {0}",qc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DM(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Lu={};function uE(i){const o=function CM(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Dv(o);if(a)return a;const c=o.split("-")[0];if(a=Dv(c),a)return a;if("en"===c)return mb;throw new pe(701,!1)}function lE(i){return uE(i)[Mt.PluralCase]}function Dv(i){return i in Lu||(Lu[i]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[i]),Lu[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Bs="en-US";let Cv=Bs;function Ov(i,o,a,c,d){if(i=Q(i),Array.isArray(i))for(let p=0;p<i.length;p++)Ov(i[p],o,a,c,d);else{const p=kt(),y=he();let I=Va(i)?i:Q(i.provide),C=uy(i);const A=Bn(),x=1048575&A.providerIndexes,B=A.directiveStart,K=A.providerIndexes>>20;if(Va(i)||!i.multi){const L=new rs(C,d,Dd),ve=Rf(I,o,d?x:x+K,B);-1===ve?(Ts(lc(A,y),p,I),us(p,i,o.length),o.push(I),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(L),y.push(L)):(a[ve]=L,y[ve]=L)}else{const L=Rf(I,o,x+K,B),ve=Rf(I,o,x,x+K),Ye=ve>=0&&a[ve];if(d&&!Ye||!d&&!(L>=0&&a[L])){Ts(lc(A,y),p,I);const it=function Hb(i,o,a,c,d){const p=new rs(i,a,Dd);return p.multi=[],p.index=o,p.componentProviders=0,Qe(p,d,c&&!a),p}(d?Ag:Zt,a.length,d,c,C);!d&&Ye&&(a[ve].providerFactory=it),us(p,i,o.length,0),o.push(I),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(it),y.push(it)}else us(p,i,L>-1?L:ve,Qe(a[d?ve:L],C,!d&&c));!d&&c&&Ye&&a[ve].componentProviders++}}}function us(i,o,a,c){const d=Va(o),p=function Bp(i){return!!i.useClass}(o);if(d||p){const C=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const A=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[c,C]):A[x+1].push(c,C)}else A.push(a,C)}}}function Qe(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Rf(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Zt(i,o,a,c){return Zc(this.multi,[])}function Ag(i,o,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Sn(a,a[Ke],this.providerFactory.index,c);p=I.slice(0,y),Zc(d,p);for(let C=y;C<I.length;C++)p.push(I[C])}else p=[],Zc(d,p);return p}function Zc(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Mg(i,o=[]){return a=>{a.providersResolver=(c,d)=>function $b(i,o,a){const c=kt();if(c.firstCreatePass){const d=Qr(i);Ov(a,c.data,c.blueprint,d,!0),Ov(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Fd{}class kE{}function Gb(i,o){return new Nf(i,o??null)}class Nf extends Fd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lf(this);const c=cr(o);this._bootstrapComponents=Jo(c.bootstrap),this._r3Injector=_y(o,a,[{provide:Fd,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],ge(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Fr extends kE{constructor(o){super(),this.moduleType=o}create(o){return new Nf(this.moduleType,o)}}class Vu extends Fd{constructor(o,a,c){super(),this.componentFactoryResolver=new lf(this),this.instance=null;const d=new $0([...o,{provide:Fd,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],a||$p(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function kv(i,o,a=null){return new Vu(i,o,a).injector}let FE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=pd(0,a.type),d=c.length>0?kv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=ot({token:i,providedIn:"environment",factory:()=>new i(Lt(Pc))}),i})();function xg(i){i.getStandaloneInjector=o=>o.get(FE).getOrCreateStandaloneInjector(i)}function Ff(i){return o=>{setTimeout(i,void 0,o)}}const vo=class GE extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=Ff(p),d&&(d=Ff(d)),y&&(y=Ff(y)));const I=super.subscribe({next:d,error:p,complete:y});return o instanceof j.w0&&o.add(I),I}};function tT(){return this._results[Symbol.iterator]()}class Lf{get changes(){return this._changes||(this._changes=new vo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Lf.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=tT)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function ai(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function yc(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yc=(()=>{class i{}return i.__NG_ELEMENT_ID__=li,i})();const Zv=Yc,ii=class extends Zv{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=Zp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[qs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[gi];return null!==y&&(d[gi]=y.createEmbeddedView(c)),Ba(c,d,o),new ja(d)}};function li(){return Qc(Bn(),he())}function Qc(i,o){return 4&i.type?new ii(o,i,Ua(i,o)):null}let Ud=(()=>{class i{}return i.__NG_ELEMENT_ID__=nT,i})();function nT(){return qE(Bn(),he())}const rT=Ud,zE=class extends rT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const o=$n(this._hostTNode,this._hostLView);if(no(o)){const a=Ea(o,this._hostLView),c=Lo(o);return new Uo(a[Ke].data[c+8],a)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Kv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(o,a,c,d,p){const y=o&&!function _u(i){return"function"==typeof i}(o);let I;if(y)I=a;else{const B=a||{};I=B.index,c=B.injector,d=B.projectableNodes,p=B.environmentInjector||B.ngModuleRef}const C=y?o:new df(ht(o)),A=c||this.parentInjector;if(!p&&null==C.ngModule){const K=(y?A:this.parentInjector).get(Pc,null);K&&(p=K)}const x=C.create(A,d,void 0,p);return this.insert(x.hostView,I),x}insert(o,a){const c=o._lView,d=c[Ke];if(function bl(i){return Mi(i[Dn])}(c)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const B=c[Dn],K=new zE(B,B[dr],B[Dn]);K.detach(K.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(i,o,a,c){const d=Er+c,p=a.length;c>0&&(a[d-1][cn]=o),c<p-Er?(o[cn]=a[d],vc(a,Er+c,o)):(a.push(o),o[cn]=null),o[Dn]=a;const y=o[qs];null!==y&&a!==y&&function g(i,o){const a=i[Zs];o[Kn]!==o[Dn][Dn][Kn]&&(i[ca]=!0),null===a?i[Zs]=[o]:a.push(o)}(y,o);const I=o[gi];null!==I&&I.insertView(i),o[Wt]|=64}(d,c,y,p);const I=Ko(p,y),C=c[Bt],A=ss(C,y[Co]);return null!==A&&function $m(i,o,a,c,d,p){c[lr]=d,c[dr]=o,Uh(i,c,a,1,d,p)}(d,y[dr],C,c,A,I),o.attachToViewContainerRef(),vc(Yv(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Kv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=M(this._lContainer,a);c&&(ba(Yv(this._lContainer),a),N(c[Ke],c))}detach(o){const a=this._adjustIndex(o,-1),c=M(this._lContainer,a);return c&&null!=ba(Yv(this._lContainer),a)?new ja(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Kv(i){return i[vs]}function Yv(i){return i[vs]||(i[vs]=[])}function qE(i,o){let a;const c=o[i.index];if(Mi(c))a=c;else{let d;if(8&i.type)d=Yn(c);else{const p=o[Bt];d=p.createComment("");const y=Ir(i,o);$t(p,ss(p,y),d,function Lh(i,o){return i.nextSibling(o)}(p,y),!1)}o[i.index]=a=Jp(c,o,d,i),eg(o,a)}return new zE(a,i,o)}class Qv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jc{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Jc(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==YE(o,a).matches&&this.queries[a].setDirty()}}class Bd{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Vf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Vf(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class kg{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new kg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,iT(a,p)),this.matchTNodeWithReadOption(o,a,Vo(a,o,p,!1,!1))}else c===Yc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===vd||d===Ud||d===Yc&&4&a.type)this.addMatch(a.index,-2);else{const p=Vo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function iT(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Jv(i,o,a,c){return-1===a?function Fg(i,o){return 11&i.type?Ua(i,o):4&i.type?Qc(i,o):null}(o,i):-2===a?function Xv(i,o,a){return a===vd?Ua(o,i):a===Yc?Qc(o,i):a===Ud?qE(o,i):void 0}(i,o,c):Sn(i,i[Ke],a,o)}function e_(i,o,a,c){const d=o[gi].queries[c];if(null===d.matches){const p=i.data,y=a.matches,I=[];for(let C=0;C<y.length;C+=2){const A=y[C];I.push(A<0?null:Jv(o,p[A],y[C+1],a.metadata.read))}d.matches=I}return d.matches}function t_(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=e_(i,o,d,a);for(let I=0;I<p.length;I+=2){const C=p[I];if(C>0)c.push(y[I/2]);else{const A=p[I+1],x=o[-C];for(let B=Er;B<x.length;B++){const K=x[B];K[qs]===K[Dn]&&t_(K[Ke],K,A,c)}if(null!==x[Zs]){const B=x[Zs];for(let K=0;K<B.length;K++){const L=B[K];t_(L[Ke],L,A,c)}}}}}return c}function jd(i){const o=he(),a=kt(),c=ma();Pl(c+1);const d=YE(a,c);if(i.dirty&&function fa(i){return 4==(4&i[Wt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?t_(a,o,c,[]):e_(a,o,d,c);i.reset(p,Yh),i.notifyOnChanges()}return!0}return!1}function n_(i,o,a,c){const d=kt();if(d.firstCreatePass){const p=Bn();(function KE(i,o,a){null===i.queries&&(i.queries=new Vf),i.queries.track(new kg(o,a))})(d,new Bd(o,a,c),p.index),function $d(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function ZE(i,o,a){const c=new Lf(4==(4&a));Kp(i,o,c,c.destroy),null===o[gi]&&(o[gi]=new Jc),o[gi].queries.push(new Qv(c))}(d,he(),a)}function r_(){return function Lg(i,o){return i[gi].queries[o].queryList}(he(),ma())}function YE(i,o){return i.queries.getByIndex(o)}function Bg(i){return!!cr(i)}function Za(...i){}const oI=new rn("Application Initializer");let qf=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Za,this.reject=Za,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(tv(p))a.push(p);else if(tb(p)){const y=new Promise((I,C)=>{p.subscribe({complete:I,error:C})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Lt(oI,8))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const aI=new rn("AppId",{providedIn:"root",factory:function f_(){return`${Wf()}${Wf()}${Wf()}`}});function Wf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qg=new rn("Platform Initializer"),uI=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let pT=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Jg=new rn("LocaleId",{providedIn:"root",factory:()=>bn(Jg,lt.Optional|lt.SkipSelf)||function gT(){return typeof $localize<"u"&&$localize.locale||Bs}()}),Xg=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Zf=(()=>{class i{compileModuleSync(a){return new Fr(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Jo(cr(a).declarations).reduce((y,I)=>{const C=ht(I);return C&&y.push(new df(C)),y},[]);return new lI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hI=(()=>Promise.resolve(0))();function tm(i){typeof Zone>"u"?hI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class cs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function fI(){let i=on.requestAnimationFrame,o=on.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function pI(i){const o=()=>{!function mT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(on,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Yf(i),i.isCheckStableRunning=!0,nm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Yf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,I)=>{try{return Gd(i),a.invokeTask(d,p,y,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),y_(i)}},onInvoke:(a,c,d,p,y,I,C)=>{try{return Gd(i),a.invoke(d,p,y,I,C)}finally{i.shouldCoalesceRunChangeDetection&&o(),y_(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Yf(i),nm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new pe(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,ia,Za,Za);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const ia={};function nm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Yf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Gd(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function y_(i){i._nesting--,nm(i)}class v_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Qf=new rn(""),__=new rn("");let il,rm=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,il||(function mI(i){il=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Lt(cs),Lt(gI),Lt(__))},i.\u0275prov=ot({token:i,factory:i.\u0275fac}),i})(),gI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return il?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const sa=!1;let Ka=null;const im=new rn("AllowMultipleToken"),Jf=new rn("PlatformDestroyListeners"),w_=new rn("appBootstrapListener");class sl{constructor(o,a){this.name=o,this.token=a}}function Xf(i,o,a=[]){const c=`Platform: ${o}`,d=new rn(c);return(p=[])=>{let y=ju();if(!y||y.injector.get(im,!1)){const I=[...a,...p,{provide:d,useValue:!0}];i?i(I):function vI(i){if(Ka&&!Ka.get(im,!1))throw new pe(400,!1);Ka=i;const o=i.get(wI);(function E_(i){const o=i.get(Qg,null);o&&o.forEach(a=>a())})(i)}(function I_(i=[],o){return wd.create({name:o,providers:[{provide:Nu,useValue:"platform"},{provide:Jf,useValue:new Set([()=>Ka=null])},...i]})}(I,c))}return function ls(i){const o=ju();if(!o)throw new pe(401,!1);return o}()}}function ju(){return Ka?.get(wI)??null}let wI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function om(i,o){let a;return a="noop"===i?new v_:("zone.js"===i?void 0:i)||new cs(o),a}(c?.ngZone,function js(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:cs,useValue:d}];return d.run(()=>{const y=wd.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(y),C=I.injector.get(Qh,null);if(!C)throw new pe(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:x=>{C.handleError(x)}});I.onDestroy(()=>{ds(this._modules,I),A.unsubscribe()})}),function En(i,o,a){try{const c=a();return tv(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(C,d,()=>{const A=I.injector.get(qf);return A.runInitializers(),A.donePromise.then(()=>(function vb(i){de(i,"Expected localeId to be defined"),"string"==typeof i&&(Cv=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Jg,Bs)||Bs),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=EI({},c);return function sm(i,o,a){const c=new Fr(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(zd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new pe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Jf,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Lt(wd))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function EI(i,o){return Array.isArray(o)?o.reduce(EI,i):{...i,...o}}let zd=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new k.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{cs.assertNotInAngularZone(),tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),A.unsubscribe()}});this.isStable=(0,te.T)(p,y.pipe((0,se.B)()))}bootstrap(a,c){const d=a instanceof G0;if(!this._injector.get(qf).done){!d&&xr(a);throw new pe(405,sa)}let y;y=d?a:this._injector.get(yd).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const I=function yI(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Fd),A=y.create(wd.NULL,[],c||y.selector,I),x=A.location.nativeElement,B=A.injector.get(Qf,null);return B?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),ds(this.components,A),B?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ds(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(w_,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ds(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new pe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Lt(cs),Lt(Pc),Lt(Qh))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ds(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function qd(){return!1}let di=(()=>{class i{}return i.__NG_ELEMENT_ID__=am,i})();function am(i){return function um(i,o,a){if(Xa(i)&&!a){const c=hr(i.index,o);return new ja(c,c)}return 47&i.type?new ja(o[Kn],o):null}(Bn(),he(),16==(16&i))}class yr{constructor(){}supports(o){return pf(o)}create(o){return new M_(o)}}const $s=(i,o)=>o;class M_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$s}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<We(c,d,p)?a:c,I=We(y,d,p),C=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const A=I-d,x=C-d;if(A!=x){for(let K=0;K<A;K++){const L=K<p.length?p[K]:p[K]=0,ve=L+K;x<=ve&&ve<A&&(p[K]=L+1)}p[y.previousIndex]=x-A}}I!==C&&o(y,I,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!pf(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)p=o[I],y=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,I),c=!0),a=a._next}else d=0,function Mw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,I=>{y=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,I,y,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new rt(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new CI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class rt{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gt{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class CI{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new gt,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function We(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class ue{constructor(){}supports(o){return o instanceof Map||zy(o)}create(){return new Te}}class Te{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||zy(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new qr(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class qr{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function x_(){return new R_([new yr])}let R_=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||x_()),deps:[[i,new wt,new ao]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new pe(901,!1)}}return i.\u0275prov=ot({token:i,providedIn:"root",factory:x_}),i})();function bI(){return new N_([new ue])}let N_=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||bI()),deps:[[i,new wt,new ao]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new pe(901,!1)}}return i.\u0275prov=ot({token:i,providedIn:"root",factory:bI}),i})();const TT=Xf(null,"core",[]);let SI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Lt(zd))},i.\u0275mod=ne({type:i}),i.\u0275inj=mt({}),i})();function Ht(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},6101:(pt,Se,U)=>{U.d(Se,{Z:()=>ze});var h=U(5578),j=U(1617),k=U(7212);U(9357);class se{constructor(pe,Ae){this._delegate=pe,this.firebase=Ae,(0,k._addComponent)(pe,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(pe,Ae=k._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(pe);return!Be.isInitialized()&&"EXPLICIT"===(null===(xe=Be.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ae})}_removeServiceInstance(pe,Ae=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ae)}_addComponent(pe){(0,k._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,k._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function me(){const nt=function ge(nt){const pe={},Ae={__esModule:!0,initializeApp:function Ce(Pe,ie={}){const Je=k.initializeApp(Pe,ie);if((0,h.r3)(pe,Je.name))return pe[Je.name];const Et=new nt(Je,Ae);return pe[Je.name]=Et,Et},app:Be,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Me(Pe){const ie=Pe.name,Je=ie.replace("-compat","");if(k._registerComponent(Pe)&&"PUBLIC"===Pe.type){const Et=(tt=Be())=>{if("function"!=typeof tt[Je])throw ye.create("invalid-app-argument",{appName:ie});return tt[Je]()};void 0!==Pe.serviceProps&&(0,h.ZB)(Et,Pe.serviceProps),Ae[Je]=Et,nt.prototype[Je]=function(...tt){return this._getService.bind(this,ie).apply(this,Pe.multipleInstances?tt:[])}}return"PUBLIC"===Pe.type?Ae[Je]:null},removeApp:function xe(Pe){delete pe[Pe]},useAsService:function $e(Pe,ie){return"serverAuth"===ie?null:ie},modularAPIs:k}};function Be(Pe){if(!(0,h.r3)(pe,Pe=Pe||k._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Pe});return pe[Pe]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function De(){return Object.keys(pe).map(Pe=>pe[Pe])}}),Be.App=nt,Ae}(se);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function pe(Ae){(0,h.ZB)(nt,Ae)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),nt}const Z=me();(0,h.jU)()&&void 0!==self.firebase&&self;const ze=Z},7212:(pt,Se,U)=>{U.r(Se),U.d(Se,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>Ar,_addComponent:()=>ut,_addOrOverwriteComponent:()=>Ot,_apps:()=>on,_clearComponents:()=>Kr,_components:()=>zt,_getProvider:()=>_r,_registerComponent:()=>Ln,_removeServiceInstance:()=>xn,deleteApp:()=>Vn,getApp:()=>Yr,getApps:()=>Lt,initializeApp:()=>Qt,onLog:()=>Un,registerVersion:()=>wr,setLogLevel:()=>jr});var h=U(5861),j=U(1617),k=U(9357),te=U(5578);const se=(fe,ne)=>ne.some(Oe=>fe instanceof Oe);let oe,ye;const Z=new WeakMap,G=new WeakMap,Q=new WeakMap,je=new WeakMap,be=new WeakMap;let pe={get(fe,ne,Oe){if(fe instanceof IDBTransaction){if("done"===ne)return G.get(fe);if("objectStoreNames"===ne)return fe.objectStoreNames||Q.get(fe);if("store"===ne)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ce(fe[ne])},set:(fe,ne,Oe)=>(fe[ne]=Oe,!0),has:(fe,ne)=>fe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in fe};function Be(fe){return"function"==typeof fe?function xe(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...ne){return fe.apply(De(this),ne),Ce(Z.get(this))}:function(...ne){return Ce(fe.apply(De(this),ne))}:function(ne,...Oe){const dt=fe.call(De(this),ne,...Oe);return Q.set(dt,ne.sort?ne.sort():[ne]),Ce(dt)}}(fe):(fe instanceof IDBTransaction&&function nt(fe){if(G.has(fe))return;const ne=new Promise((Oe,dt)=>{const Tt=()=>{fe.removeEventListener("complete",Yt),fe.removeEventListener("error",ht),fe.removeEventListener("abort",ht)},Yt=()=>{Oe(),Tt()},ht=()=>{dt(fe.error||new DOMException("AbortError","AbortError")),Tt()};fe.addEventListener("complete",Yt),fe.addEventListener("error",ht),fe.addEventListener("abort",ht)});G.set(fe,ne)}(fe),se(fe,function ge(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,pe):fe)}function Ce(fe){if(fe instanceof IDBRequest)return function ze(fe){const ne=new Promise((Oe,dt)=>{const Tt=()=>{fe.removeEventListener("success",Yt),fe.removeEventListener("error",ht)},Yt=()=>{Oe(Ce(fe.result)),Tt()},ht=()=>{dt(fe.error),Tt()};fe.addEventListener("success",Yt),fe.addEventListener("error",ht)});return ne.then(Oe=>{Oe instanceof IDBCursor&&Z.set(Oe,fe)}).catch(()=>{}),be.set(ne,fe),ne}(fe);if(je.has(fe))return je.get(fe);const ne=Be(fe);return ne!==fe&&(je.set(fe,ne),be.set(ne,fe)),ne}const De=fe=>be.get(fe),Pe=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],Je=new Map;function Et(fe,ne){if(!(fe instanceof IDBDatabase)||ne in fe||"string"!=typeof ne)return;if(Je.get(ne))return Je.get(ne);const Oe=ne.replace(/FromIndex$/,""),dt=ne!==Oe,Tt=ie.includes(Oe);if(!(Oe in(dt?IDBIndex:IDBObjectStore).prototype)||!Tt&&!Pe.includes(Oe))return;const Yt=function(){var ht=(0,h.Z)(function*(un,...tn){const xr=this.transaction(un,Tt?"readwrite":"readonly");let cr=xr.store;return dt&&(cr=cr.index(tn.shift())),(yield Promise.all([cr[Oe](...tn),Tt&&xr.done]))[0]});return function(tn){return ht.apply(this,arguments)}}();return Je.set(ne,Yt),Yt}!function Ae(fe){pe=fe(pe)}(fe=>({...fe,get:(ne,Oe,dt)=>Et(ne,Oe)||fe.get(ne,Oe,dt),has:(ne,Oe)=>!!Et(ne,Oe)||fe.has(ne,Oe)}));const sr=new k.Yd("@firebase/app"),Ar="[DEFAULT]",Br={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,zt=new Map;function ut(fe,ne){try{fe.container.addComponent(ne)}catch(Oe){sr.debug(`Component ${ne.name} failed to register with FirebaseApp ${fe.name}`,Oe)}}function Ot(fe,ne){fe.container.addOrOverwriteComponent(ne)}function Ln(fe){const ne=fe.name;if(zt.has(ne))return sr.debug(`There were multiple attempts to register component ${ne}.`),!1;zt.set(ne,fe);for(const Oe of on.values())ut(Oe,fe);return!0}function _r(fe,ne){const Oe=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),fe.container.getProvider(ne)}function xn(fe,ne,Oe=Ar){_r(fe,ne).clearInstance(Oe)}function Kr(){zt.clear()}const ar=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(ne,Oe,dt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const fi="9.23.0";function Qt(fe,ne={}){let Oe=fe;"object"!=typeof ne&&(ne={name:ne});const dt=Object.assign({name:Ar,automaticDataCollectionEnabled:!1},ne),Tt=dt.name;if("string"!=typeof Tt||!Tt)throw ar.create("bad-app-name",{appName:String(Tt)});if(Oe||(Oe=(0,te.aH)()),!Oe)throw ar.create("no-options");const Yt=on.get(Tt);if(Yt){if((0,te.vZ)(Oe,Yt.options)&&(0,te.vZ)(dt,Yt.config))return Yt;throw ar.create("duplicate-app",{appName:Tt})}const ht=new j.H0(Tt);for(const tn of zt.values())ht.addComponent(tn);const un=new Kt(Oe,dt,ht);return on.set(Tt,un),un}function Yr(fe=Ar){const ne=on.get(fe);if(!ne&&fe===Ar&&(0,te.aH)())return Qt();if(!ne)throw ar.create("no-app",{appName:fe});return ne}function Lt(){return Array.from(on.values())}function Vn(fe){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(fe){const ne=fe.name;on.has(ne)&&(on.delete(ne),yield Promise.all(fe.container.getProviders().map(Oe=>Oe.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function wr(fe,ne,Oe){var dt;let Tt=null!==(dt=Br[fe])&&void 0!==dt?dt:fe;Oe&&(Tt+=`-${Oe}`);const Yt=Tt.match(/\s|\//),ht=ne.match(/\s|\//);if(Yt||ht){const un=[`Unable to register library "${Tt}" with version "${ne}":`];return Yt&&un.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Yt&&ht&&un.push("and"),ht&&un.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void sr.warn(un.join(" "))}Ln(new j.wA(`${Tt}-version`,()=>({library:Tt,version:ne}),"VERSION"))}function Un(fe,ne){if(null!==fe&&"function"!=typeof fe)throw ar.create("invalid-log-argument");(0,k.Am)(fe,ne)}function jr(fe){(0,k.Ub)(fe)}},1617:(pt,Se,U)=>{U.d(Se,{H0:()=>ge,wA:()=>k});var h=U(5861),j=U(5578);class k{constructor(Z,G,Q){this.name=Z,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const te="[DEFAULT]";class se{constructor(Z,G){this.name=Z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const G=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(G)){const Q=new j.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:G});je&&Q.resolve(je)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(Z){var G;const Q=this.normalizeInstanceIdentifier(Z?.identifier),je=null!==(G=Z?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(be){if(je)return null;throw be}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ye(me){return"EAGER"===me.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(G);try{const be=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(be)}catch{}}}}clearInstance(Z=te){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,h.Z)(function*(){const G=Array.from(Z.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=te){return this.instances.has(Z)}getOptions(Z=te){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:G={}}=Z,Q=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[be,ze]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(be)&&ze.resolve(je);return je}onInit(Z,G){var Q;const je=this.normalizeInstanceIdentifier(G),be=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;be.add(Z),this.onInitCallbacks.set(je,be);const ze=this.instances.get(je);return ze&&Z(ze,je),()=>{be.delete(Z)}}invokeOnInitCallbacks(Z,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const je of Q)try{je(Z,G)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:G={}}){let Q=this.instances.get(Z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(me=Z,me===te?void 0:me),options:G}),this.instances.set(Z,Q),this.instancesOptions.set(Z,G),this.invokeOnInitCallbacks(Q,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,Q)}catch{}var me;return Q||null}normalizeInstanceIdentifier(Z=te){return this.component?this.component.multipleInstances?Z:te:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const G=this.getProvider(Z.name);if(G.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);G.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const G=new se(Z,this);return this.providers.set(Z,G),G}getProviders(){return Array.from(this.providers.values())}}},9357:(pt,Se,U)=>{U.d(Se,{Am:()=>me,Ub:()=>ge,Yd:()=>ye,in:()=>j});const h=[];var j=(()=>((j=j||{})[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j))();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},te=j.INFO,se={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},oe=(Z,G,...Q)=>{if(G<Z.logLevel)return;const je=(new Date).toISOString(),be=se[G];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[be](`[${je}]  ${Z.name}:`,...Q)};class ye{constructor(G){this.name=G,this._logLevel=te,this._logHandler=oe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?k[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function ge(Z){h.forEach(G=>{G.setLogLevel(Z)})}function me(Z,G){for(const Q of h){let je=null;G&&G.level&&(je=k[G.level]),Q.userLogHandler=null===Z?null:(be,ze,...nt)=>{const pe=nt.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");ze>=(je??be.logLevel)&&Z({level:j[ze].toLowerCase(),message:pe,args:nt,type:be.name})}}}},8140:(pt,Se,U)=>{U.d(Se,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=U(7212)},1274:(pt,Se,U)=>{U.d(Se,{Z:()=>h.Z});var h=U(6101)},5054:(pt,Se,U)=>{U.r(Se);var h=U(5861),j=U(6101),k=U(9500),te=U(5578);function ge(){return window}U(7212),U(9357),U(1617);const me=2e3;function G(){return G=(0,h.Z)(function*(O,F,R){var W;const{BuildInfo:we}=ge();(0,k.as)(F.sessionId,"AuthEvent did not contain a session ID");const et=yield function Ae(O){return xe.apply(this,arguments)}(F.sessionId),Ct={};return(0,k.at)()?Ct.ibi=we.packageName:(0,k.au)()?Ct.apn=we.packageName:(0,k.av)(O,"operation-not-supported-in-this-environment"),we.displayName&&(Ct.appDisplayName=we.displayName),Ct.sessionId=et,(0,k.aw)(O,R,F.type,void 0,null!==(W=F.eventId)&&void 0!==W?W:void 0,Ct)}),G.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(O){const{BuildInfo:F}=ge(),R={};(0,k.at)()?R.iosBundleId=F.packageName:(0,k.au)()?R.androidPackageName=F.packageName:(0,k.av)(O,"operation-not-supported-in-this-environment"),yield(0,k.ax)(O,R)})).apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(O,F,R){const{cordova:W}=ge();let we=()=>{};try{yield new Promise((et,Ct)=>{let _t=null;function qt(){var Vt;et();const ur=null===(Vt=W.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof ur&&ur(),"function"==typeof R?.close&&R.close()}function St(){_t||(_t=window.setTimeout(()=>{Ct((0,k.az)(O,"redirect-cancelled-by-user"))},me))}function wn(){"visible"===document?.visibilityState&&St()}F.addPassiveListener(qt),document.addEventListener("resume",St,!1),(0,k.au)()&&document.addEventListener("visibilitychange",wn,!1),we=()=>{F.removePassiveListener(qt),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",wn,!1),_t&&window.clearTimeout(_t)}})}finally{we()}})).apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(O){const F=function Be(O){if((0,k.as)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const F=new ArrayBuffer(O.length),R=new Uint8Array(F);for(let W=0;W<O.length;W++)R[W]=O.charCodeAt(W);return R}(O),R=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(R)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ce=20;class De extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(F)),super.onEvent(F)}initialized(){var F=this;return(0,h.Z)(function*(){yield F.initPromise})()}}function Pe(O){return ie.apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(O){const F=yield tt()._get(Gt(O));return F&&(yield tt()._remove(Gt(O))),F})).apply(this,arguments)}function Et(){const O=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<Ce;R++){const W=Math.floor(Math.random()*F.length);O.push(F.charAt(W))}return O.join("")}function tt(){return(0,k.aC)(k.b)}function Gt(O){return(0,k.aD)("authEvent",O.config.apiKey,O.name)}function sr(O){if(!O?.includes("?"))return{};const[F,...R]=O.split("?");return(0,te.zd)(R.join("?"))}const ae=class Ui{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(F){var R=this;return(0,h.Z)(function*(){const W=F._key();let we=R.eventManagers.get(W);return we||(we=new De(F),R.eventManagers.set(W,we),R.attachCallbackListeners(F,we)),we})()}_openPopup(F){(0,k.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,R,W,we){var et=this;return(0,h.Z)(function*(){!function pe(O){var F,R,W,we,et,Ct,_t,qt,St,wn;const Vt=ge();(0,k.aA)("function"==typeof(null===(F=Vt?.universalLinks)||void 0===F?void 0:F.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(R=Vt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(et=null===(we=null===(W=Vt?.cordova)||void 0===W?void 0:W.plugins)||void 0===we?void 0:we.browsertab)||void 0===et?void 0:et.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(qt=null===(_t=null===(Ct=Vt?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===qt?void 0:qt.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(wn=null===(St=Vt?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===wn?void 0:wn.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Ct=yield et._initialize(F);yield Ct.initialized(),Ct.resetRedirect(),(0,k.aG)(),yield et._originValidation(F);const _t=function Me(O,F,R=null){return{type:F,eventId:R,urlResponse:null,sessionId:Et(),postBody:null,tenantId:O.tenantId,error:(0,k.az)(O,"no-auth-event")}}(F,W,we);yield function $e(O,F){return tt()._set(Gt(O),F)}(F,_t);const qt=yield function Z(O,F,R){return G.apply(this,arguments)}(F,_t,R),St=yield function be(O){const{cordova:F}=ge();return new Promise(R=>{F.plugins.browsertab.isAvailable(W=>{let we=null;W?F.plugins.browsertab.openUrl(O):we=F.InAppBrowser.open(O,(0,k.ay)()?"_blank":"_system","location=yes"),R(we)})})}(qt);return function ze(O,F,R){return nt.apply(this,arguments)}(F,Ct,St)})()}_isIframeWebStorageSupported(F,R){throw new Error("Method not implemented.")}_originValidation(F){const R=F._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function Q(O){return je.apply(this,arguments)}(F)),this.originValidationPromises[R]}attachCallbackListeners(F,R){const{universalLinks:W,handleOpenURL:we,BuildInfo:et}=ge(),Ct=setTimeout((0,h.Z)(function*(){yield Pe(F),R.onEvent(le())}),500),_t=function(){var wn=(0,h.Z)(function*(Vt){clearTimeout(Ct);const ur=yield Pe(F);let Xi=null;ur&&Vt?.url&&(Xi=function Je(O,F){var R,W;const we=function Ji(O){const F=sr(O),R=F.link?decodeURIComponent(F.link):void 0,W=sr(R).link,we=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return sr(we).link||we||W||R||O}(F);if(we.includes("/__/auth/callback")){const et=sr(we),Ct=et.firebaseError?function st(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent(et.firebaseError)):null,_t=null===(W=null===(R=Ct?.code)||void 0===R?void 0:R.split("auth/"))||void 0===W?void 0:W[1],qt=_t?(0,k.az)(_t):null;return qt?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:we,postBody:null}}return null}(ur,Vt.url)),R.onEvent(Xi||le())});return function(ur){return wn.apply(this,arguments)}}();typeof W<"u"&&"function"==typeof W.subscribe&&W.subscribe(null,_t);const qt=we,St=`${et.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var wn=(0,h.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(St)&&_t({url:Vt}),"function"==typeof qt)try{qt(Vt)}catch(ur){console.error(ur)}});return function(Vt){return wn.apply(this,arguments)}}()}};function le(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}const Ne=1e3;function Xe(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function On(){return function en(O=(0,te.z$)()){return!("file:"!==Xe()&&"ionic:"!==Xe()&&"capacitor:"!==Xe()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function kn(){return(kn=(0,h.Z)(function*(){return!!On()&&new Promise(O=>{const F=setTimeout(()=>{O(!1)},Ne);document.addEventListener("deviceready",()=>{clearTimeout(F),O(!0)})})})).apply(this,arguments)}const Fn="persistence";function Br(O){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(O){yield O._initializationPromise;const F=function ut(){var O;try{return(null===(O=function lt(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}(),R=k.aD(Fn,O.config.apiKey,O.name);F&&F.setItem(R,O._getPersistence())})).apply(this,arguments)}const Ot=k.aA;class Ln{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(ae),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(F){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,R,W,we){var et=this;return(0,h.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openPopup(F,R,W,we)})()}_openRedirect(F,R,W,we){var et=this;return(0,h.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openRedirect(F,R,W,we)})()}_isIframeWebStorageSupported(F,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,R)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return On()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,h.Z)(function*(){if(F.underlyingResolver)return;const R=yield function Ur(){return kn.apply(this,arguments)}();F.underlyingResolver=R?F.cordovaResolver:F.browserResolver})()}}function _r(O){return O.unwrap()}function Kr(O){return ar(O)}function ar(O){const{_tokenResponse:F}=O instanceof te.ZR?O.customData:O;if(!F)return null;if(!(O instanceof te.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return k.P.credentialFromResult(O);const R=F.providerId;if(!R||R===k.p.PASSWORD)return null;let W;switch(R){case k.p.GOOGLE:W=k.V;break;case k.p.FACEBOOK:W=k.U;break;case k.p.GITHUB:W=k.W;break;case k.p.TWITTER:W=k.Z;break;default:const{oauthIdToken:we,oauthAccessToken:et,oauthTokenSecret:Ct,pendingToken:_t,nonce:qt}=F;return et||Ct||we||_t?_t?R.startsWith("saml.")?k.aO._create(R,_t):k.L._fromParams({providerId:R,signInMethod:R,pendingToken:_t,idToken:we,accessToken:et}):new k.X(R).credential({idToken:we,accessToken:et,rawNonce:qt}):null}return O instanceof te.ZR?W.credentialFromError(O):W.credentialFromResult(O)}function Kt(O,F){return F.catch(R=>{throw R instanceof te.ZR&&function Rn(O,F){var R;const W=null===(R=F.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Yr(O,k.aq(O,F));else if(W){const we=ar(F),et=F;we&&(et.credential=we,et.tenantId=W.tenantId||void 0,et.email=W.email||void 0,et.phoneNumber=W.phoneNumber||void 0)}}(O,R),R}).then(R=>{const we=R.user;return{operationType:R.operationType,credential:Kr(R),additionalUserInfo:k.ao(R),user:Lt.getOrCreate(we)}})}function fi(O,F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(O,F){const R=yield F;return{verificationId:R.verificationId,confirm:W=>Kt(O,R.confirm(W))}})).apply(this,arguments)}class Yr{constructor(F,R){this.resolver=R,this.auth=function xn(O){return O.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Kt(_r(this.auth),this.resolver.resolveSignIn(F))}}class Lt{constructor(F){this._delegate=F,this.multiFactor=k.ar(F)}static getOrCreate(F){return Lt.USER_MAP.has(F)||Lt.USER_MAP.set(F,new Lt(F)),Lt.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var R=this;return(0,h.Z)(function*(){return Kt(R.auth,k.a0(R._delegate,F))})()}linkWithPhoneNumber(F,R){var W=this;return(0,h.Z)(function*(){return fi(W.auth,k.l(W._delegate,F,R))})()}linkWithPopup(F){var R=this;return(0,h.Z)(function*(){return Kt(R.auth,k.d(R._delegate,F,Ln))})()}linkWithRedirect(F){var R=this;return(0,h.Z)(function*(){return yield Br(k.aH(R.auth)),k.g(R._delegate,F,Ln)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var R=this;return(0,h.Z)(function*(){return Kt(R.auth,k.a1(R._delegate,F))})()}reauthenticateWithPhoneNumber(F,R){return fi(this.auth,k.r(this._delegate,F,R))}reauthenticateWithPopup(F){return Kt(this.auth,k.e(this._delegate,F,Ln))}reauthenticateWithRedirect(F){var R=this;return(0,h.Z)(function*(){return yield Br(k.aH(R.auth)),k.h(R._delegate,F,Ln)})()}sendEmailVerification(F){return k.ae(this._delegate,F)}unlink(F){var R=this;return(0,h.Z)(function*(){return yield k.an(R._delegate,F),R})()}updateEmail(F){return k.aj(this._delegate,F)}updatePassword(F){return k.ak(this._delegate,F)}updatePhoneNumber(F){return k.u(this._delegate,F)}updateProfile(F){return k.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,R){return k.af(this._delegate,F,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lt.USER_MAP=new WeakMap;class jr{constructor(){this.providerId="phone",this._delegate=new k.P(_r(j.Z.auth()))}static credential(F,R){return k.P.credential(F,R)}verifyPhoneNumber(F,R){return this._delegate.verifyPhoneNumber(F,R)}unwrap(){return this._delegate}}jr.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,jr.PROVIDER_ID=k.P.PROVIDER_ID},5861:(pt,Se,U)=>{function h(k,te,se,oe,ye,ge,me){try{var Z=k[ge](me),G=Z.value}catch(Q){return void se(Q)}Z.done?te(G):Promise.resolve(G).then(oe,ye)}function j(k){return function(){var te=this,se=arguments;return new Promise(function(oe,ye){var ge=k.apply(te,se);function me(G){h(ge,oe,ye,me,Z,"next",G)}function Z(G){h(ge,oe,ye,me,Z,"throw",G)}me(void 0)})}}U.d(Se,{Z:()=>j})},7582:(pt,Se,U)=>{function te(ae,le){var de={};for(var X in ae)Object.prototype.hasOwnProperty.call(ae,X)&&le.indexOf(X)<0&&(de[X]=ae[X]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(X=Object.getOwnPropertySymbols(ae);Ie<X.length;Ie++)le.indexOf(X[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ae,X[Ie])&&(de[X[Ie]]=ae[X[Ie]])}return de}function Q(ae,le,de,X){return new(de||(de=Promise))(function(Ne,Xe){function ot(Jt){try{mt(X.next(Jt))}catch(In){Xe(In)}}function en(Jt){try{mt(X.throw(Jt))}catch(In){Xe(In)}}function mt(Jt){Jt.done?Ne(Jt.value):function Ie(Ne){return Ne instanceof de?Ne:new de(function(Xe){Xe(Ne)})}(Jt.value).then(ot,en)}mt((X=X.apply(ae,le||[])).next())})}function Ce(ae){return this instanceof Ce?(this.v=ae,this):new Ce(ae)}function De(ae,le,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,X=de.apply(ae,le||[]),Ne=[];return Ie=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ot("next"),ot("throw"),ot("return",function Xe(sn){return function(gn){return Promise.resolve(gn).then(sn,In)}}),Ie[Symbol.asyncIterator]=function(){return this},Ie;function ot(sn,gn){X[sn]&&(Ie[sn]=function(_n){return new Promise(function(On,Ur){Ne.push([sn,_n,On,Ur])>1||en(sn,_n)})},gn&&(Ie[sn]=gn(Ie[sn])))}function en(sn,gn){try{!function mt(sn){sn.value instanceof Ce?Promise.resolve(sn.value.v).then(Jt,In):or(Ne[0][2],sn)}(X[sn](gn))}catch(_n){or(Ne[0][3],_n)}}function Jt(sn){en("next",sn)}function In(sn){en("throw",sn)}function or(sn,gn){sn(gn),Ne.shift(),Ne.length&&en(Ne[0][0],Ne[0][1])}}function $e(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function nt(ae){var le="function"==typeof Symbol&&Symbol.iterator,de=le&&ae[le],X=0;if(de)return de.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&X>=ae.length&&(ae=void 0),{value:ae&&ae[X++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),de={},X("next"),X("throw"),X("return"),de[Symbol.asyncIterator]=function(){return this},de);function X(Ne){de[Ne]=ae[Ne]&&function(Xe){return new Promise(function(ot,en){!function Ie(Ne,Xe,ot,en){Promise.resolve(en).then(function(mt){Ne({value:mt,done:ot})},Xe)}(ot,en,(Xe=ae[Ne](Xe)).done,Xe.value)})}}}U.d(Se,{FC:()=>De,KL:()=>$e,_T:()=>te,mG:()=>Q,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},pt=>{pt(pt.s=8819)}]);